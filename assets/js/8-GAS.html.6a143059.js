"use strict";(self.webpackChunkrenderdoc=self.webpackChunkrenderdoc||[]).push([[4946],{38686:(n,s,a)=>{n.exports=a.p+"assets/img/GASuse006.91dd6bfe.png"},69413:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>wn,data:()=>Gn});var t=a(20641);const e=a.p+"assets/img/gas001.c7cf58cb.png",o=a.p+"assets/img/gas002.b2d3ea12.png",p=a.p+"assets/img/gas003.c20a6b73.png",c=a.p+"assets/img/gas004.39cd4564.png",l=a.p+"assets/img/gas005.4b041afb.png",i=a.p+"assets/img/gas006.81a611b4.png",k=a.p+"assets/img/gas008.dbd29472.png",u=a.p+"assets/img/gas009.d5104008.png",r=a.p+"assets/img/gas010.3fa124f8.png",d=a.p+"assets/img/gas011.c7d899e1.png",L=a.p+"assets/img/gas012.9254315f.png",m=a.p+"assets/img/gas016.80f19996.png",b=a.p+"assets/img/gas017.0d4e8afb.png",v=a.p+"assets/img/gas019.efa61efd.png",W=a.p+"assets/img/gas015.8bedf33d.png",y=a.p+"assets/img/gas014.a89308a7.png",g=a.p+"assets/img/gas007.9fec39b5.jpg";var f=a(38686);const A=a.p+"assets/img/GASuse007.aea51fea.png",h=a.p+"assets/img/GASuse008.47e6749c.png",S=a.p+"assets/img/GASuse009.e6c5769a.png",E=a.p+"assets/img/GASuse010.2670c5ee.png",C=(0,t.Fv)('<h2 id="gas概述" tabindex="-1"><a class="header-anchor" href="#gas概述"><span>GAS概述</span></a></h2><p>Gameplay技能系统（Gameplay Ability System） 是构建Actor可以拥有和触发的技能和交互的一种框架。</p><h2 id="基本流程" tabindex="-1"><a class="header-anchor" href="#基本流程"><span>基本流程</span></a></h2><h3 id="插件引入" tabindex="-1"><a class="header-anchor" href="#插件引入"><span>插件引入</span></a></h3><figure><img src="'+e+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="模块引入" tabindex="-1"><a class="header-anchor" href="#模块引入"><span>模块引入</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>PublicDependencyModuleNames<span class="token punctuation">.</span><span class="token function">AddRange</span><span class="token punctuation">(</span><span class="token keyword">new</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> \n<span class="token string">&quot;GameplayTags&quot;</span><span class="token punctuation">,</span>\n<span class="token string">&quot;GameplayTasks&quot;</span><span class="token punctuation">,</span>\n<span class="token string">&quot;GameplayAbilities&quot;</span><span class="token punctuation">,</span> \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建"><span>环境搭建</span></a></h3>',8),x=(0,t.Lk)("h3",{id:"abilitysystemcomponent-asc-组件类",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#abilitysystemcomponent-asc-组件类"},[(0,t.Lk)("span",null,"AbilitySystemComponent(ASC)组件类")])],-1),T=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:o,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),w=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:p,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),G=(0,t.Lk)("h3",{id:"知识储备",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#知识储备"},[(0,t.Lk)("span",null,"知识储备")])],-1),F=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:c,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),P=(0,t.Lk)("h2",{id:"as-attributeset-属性集",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#as-attributeset-属性集"},[(0,t.Lk)("span",null,"AS(AttributeSet)属性集")])],-1),U=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:l,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),N=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token function">USTRUCT</span><span class="token punctuation">(</span>BlueprintType<span class="token punctuation">)</span>\n<span class="token keyword">struct</span> <span class="token class-name">GAMEPLAYABILITIES_API</span> FGameplayAttributeData\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\t<span class="token function">FGameplayAttributeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\t\t<span class="token operator">:</span> <span class="token function">BaseValue</span><span class="token punctuation">(</span><span class="token number">0.f</span><span class="token punctuation">)</span>\n\t\t<span class="token punctuation">,</span> <span class="token function">CurrentValue</span><span class="token punctuation">(</span><span class="token number">0.f</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n\t<span class="token function">FGameplayAttributeData</span><span class="token punctuation">(</span><span class="token keyword">float</span> DefaultValue<span class="token punctuation">)</span>\n\t\t<span class="token operator">:</span> <span class="token function">BaseValue</span><span class="token punctuation">(</span>DefaultValue<span class="token punctuation">)</span>\n\t\t<span class="token punctuation">,</span> <span class="token function">CurrentValue</span><span class="token punctuation">(</span>DefaultValue<span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n\t<span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">FGameplayAttributeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n\t<span class="token comment">/** Returns the current value, which includes temporary buffs */</span>\n\t<span class="token keyword">float</span> <span class="token function">GetCurrentValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">/** Modifies current value, normally only called by ability system or during initialization */</span>\n\t<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">SetCurrentValue</span><span class="token punctuation">(</span><span class="token keyword">float</span> NewValue<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">/** Returns the base value which only includes permanent changes */</span>\n\t<span class="token keyword">float</span> <span class="token function">GetBaseValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">/** Modifies the permanent base value, normally only called by ability system or during initialization */</span>\n\t<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">SetBaseValue</span><span class="token punctuation">(</span><span class="token keyword">float</span> NewValue<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">protected</span><span class="token operator">:</span>\n\t<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>BlueprintReadOnly<span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">&quot;Attribute&quot;</span><span class="token punctuation">)</span>\n\t<span class="token keyword">float</span> BaseValue<span class="token punctuation">;</span>\n\n\t<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>BlueprintReadOnly<span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">&quot;Attribute&quot;</span><span class="token punctuation">)</span>\n\t<span class="token keyword">float</span> CurrentValue<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),R=(0,t.Lk)("h3",{id:"basevalue-vs-currentvalue",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#basevalue-vs-currentvalue"},[(0,t.Lk)("span",null,"BaseValue vs. CurrentValue")])],-1),I=(0,t.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,t.Lk)("pre",{class:"language-cpp"},[(0,t.Lk)("code",null,[(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"pragma"),(0,t.eW)(),(0,t.Lk)("span",{class:"token expression"},"once")]),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"CoreMinimal.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AttributeSet.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySystemComponent.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"ExorcistAttributeSet.generated.h"')]),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"define"),(0,t.eW)(),(0,t.Lk)("span",{class:"token macro-name function"},"ATTRIBUTE_ACCESSORS"),(0,t.Lk)("span",{class:"token expression"},[(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ClassName"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" PropertyName"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)()]),(0,t.Lk)("span",{class:"token punctuation"},"\\"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token expression"},[(0,t.Lk)("span",{class:"token function"},"GAMEPLAYATTRIBUTE_PROPERTY_GETTER"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ClassName"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" PropertyName"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)()]),(0,t.Lk)("span",{class:"token punctuation"},"\\"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token expression"},[(0,t.Lk)("span",{class:"token function"},"GAMEPLAYATTRIBUTE_VALUE_GETTER"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("PropertyName"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)()]),(0,t.Lk)("span",{class:"token punctuation"},"\\"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token expression"},[(0,t.Lk)("span",{class:"token function"},"GAMEPLAYATTRIBUTE_VALUE_SETTER"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("PropertyName"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)()]),(0,t.Lk)("span",{class:"token punctuation"},"\\"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token expression"},[(0,t.Lk)("span",{class:"token function"},"GAMEPLAYATTRIBUTE_VALUE_INITTER"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("PropertyName"),(0,t.Lk)("span",{class:"token punctuation"},")")])]),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token function"},"UCLASS"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token keyword"},"class"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"EXORCIST_API"),(0,t.eW)(" UExorcistAttributeSet "),(0,t.Lk)("span",{class:"token operator"},":"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"public"),(0,t.eW)(" UAttributeSet\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"GENERATED_BODY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"public"),(0,t.Lk)("span",{class:"token operator"},":"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token comment"},"//2.重写复制函数"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"virtual"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"GetLifetimeReplicatedProps"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("TArray"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("FLifetimeProperty"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" OutLifetimeProps"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"override"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token comment"},"//1.设置Health"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintReadOnly"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"Health"'),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" ReplicatedUsing "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(" OnRep_Health"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tFGameplayAttributeData Health"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token function"},"ATTRIBUTE_ACCESSORS"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Health"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token comment"},"//3.客户端上接收属性更改"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UFUNCTION"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"OnRep_Health"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(" FGameplayAttributeData"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" OldHealth"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n")])]),(0,t.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"})])],-1),O=(0,t.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,t.Lk)("pre",{class:"language-cpp"},[(0,t.Lk)("code",null,[(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySystem/Attributes/ExorcistAttributeSet.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"Net/UnrealNetwork.h"')]),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"InitHealth"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token number"},"100.f"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"GetLifetimeReplicatedProps"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("TArray"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("FLifetimeProperty"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" OutLifetimeProps"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token class-name"},"Super"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"GetLifetimeReplicatedProps"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("OutLifetimeProps"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"DOREPLIFETIME_CONDITION_NOTIFY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Health"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" COND_None"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" REPNOTIFY_Always"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"OnRep_Health"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(" FGameplayAttributeData"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" OldHealth"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"GAMEPLAYATTRIBUTE_REPNOTIFY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Health"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" OldHealth"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n")])]),(0,t.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"})])],-1),j=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">ATTRIBUTE_ACCESSORS</span><span class="token expression"><span class="token punctuation">(</span>ClassName<span class="token punctuation">,</span> PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n<span class="token expression"><span class="token function">GAMEPLAYATTRIBUTE_PROPERTY_GETTER</span><span class="token punctuation">(</span>ClassName<span class="token punctuation">,</span> PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n<span class="token expression"><span class="token function">GAMEPLAYATTRIBUTE_VALUE_GETTER</span><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n<span class="token expression"><span class="token function">GAMEPLAYATTRIBUTE_VALUE_SETTER</span><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n<span class="token expression"><span class="token function">GAMEPLAYATTRIBUTE_VALUE_INITTER</span><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span></span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),D=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:i,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),M=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">GAMEPLAYATTRIBUTE_PROPERTY_GETTER</span><span class="token expression"><span class="token punctuation">(</span>ClassName<span class="token punctuation">,</span> PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token keyword">static</span> FGameplayAttribute Get</span><span class="token punctuation">##</span><span class="token expression">PropertyName</span><span class="token punctuation">##</span><span class="token expression"><span class="token function">Attribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token punctuation">{</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression"><span class="token keyword">static</span> FProperty<span class="token operator">*</span> Prop <span class="token operator">=</span> <span class="token generic-function"><span class="token function">FindFieldChecked</span><span class="token generic class-name"><span class="token operator">&lt;</span>FProperty<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ClassName</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">GET_MEMBER_NAME_CHECKED</span><span class="token punctuation">(</span>ClassName<span class="token punctuation">,</span> PropertyName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression"><span class="token keyword">return</span> Prop<span class="token punctuation">;</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token punctuation">}</span></span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">GAMEPLAYATTRIBUTE_VALUE_GETTER</span><span class="token expression"><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression">FORCEINLINE <span class="token keyword">float</span> Get</span><span class="token punctuation">##</span><span class="token expression"><span class="token function">PropertyName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token punctuation">{</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression"><span class="token keyword">return</span> PropertyName<span class="token punctuation">.</span><span class="token function">GetCurrentValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token punctuation">}</span></span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">GAMEPLAYATTRIBUTE_VALUE_SETTER</span><span class="token expression"><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression">FORCEINLINE <span class="token keyword">void</span> Set</span><span class="token punctuation">##</span><span class="token expression"><span class="token function">PropertyName</span><span class="token punctuation">(</span><span class="token keyword">float</span> NewVal<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token punctuation">{</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression">UAbilitySystemComponent<span class="token operator">*</span> AbilityComp <span class="token operator">=</span> <span class="token function">GetOwningAbilitySystemComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">ensure</span><span class="token punctuation">(</span>AbilityComp<span class="token punctuation">)</span><span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression"><span class="token punctuation">{</span> </span><span class="token punctuation">\\</span>\n\t\t\t<span class="token expression">AbilityComp<span class="token operator">-&gt;</span><span class="token function">SetNumericAttributeBase</span><span class="token punctuation">(</span>Get</span><span class="token punctuation">##</span><span class="token expression">PropertyName</span><span class="token punctuation">##</span><span class="token expression"><span class="token function">Attribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> NewVal<span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression"><span class="token punctuation">}</span><span class="token punctuation">;</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token punctuation">}</span></span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">GAMEPLAYATTRIBUTE_VALUE_INITTER</span><span class="token expression"><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression">FORCEINLINE <span class="token keyword">void</span> Init</span><span class="token punctuation">##</span><span class="token expression"><span class="token function">PropertyName</span><span class="token punctuation">(</span><span class="token keyword">float</span> NewVal<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token punctuation">{</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression">PropertyName<span class="token punctuation">.</span><span class="token function">SetBaseValue</span><span class="token punctuation">(</span>NewVal<span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\\</span>\n\t\t<span class="token expression">PropertyName<span class="token punctuation">.</span><span class="token function">SetCurrentValue</span><span class="token punctuation">(</span>NewVal<span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\\</span>\n\t<span class="token expression"><span class="token punctuation">}</span></span></span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),B=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token comment">//////////////////////////////////////////////////////////////////</span>\n<span class="token comment">// 玩家选择的英雄数据</span>\n<span class="token keyword">public</span><span class="token operator">:</span>\n\t\n\t<span class="token function">UFUNCTION</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\t<span class="token keyword">const</span> TMap<span class="token operator">&lt;</span>FName<span class="token punctuation">,</span> int32<span class="token operator">&gt;</span><span class="token operator">&amp;</span> <span class="token function">GetHeroesSkinIDMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> HeroesSkinIDMap<span class="token punctuation">;</span> <span class="token punctuation">}</span>\t\n\t\n\t<span class="token function">UFUNCTION</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\t<span class="token keyword">void</span> <span class="token function">SetHeroesSkinIDMap</span><span class="token punctuation">(</span>TMap<span class="token operator">&lt;</span>FName<span class="token punctuation">,</span> int32<span class="token operator">&gt;</span><span class="token operator">&amp;</span> InPlayerSelectedHero<span class="token punctuation">)</span> <span class="token punctuation">{</span> HeroesSkinIDMap <span class="token operator">=</span> InPlayerSelectedHero<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">private</span><span class="token operator">:</span>\n\t<span class="token comment">/** 玩家最终确定选择的英雄映射表. */</span>\n\t<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>Config<span class="token punctuation">)</span>\n\tTMap<span class="token operator">&lt;</span>FName<span class="token punctuation">,</span> int32<span class="token operator">&gt;</span> HeroesSkinIDMap<span class="token punctuation">;</span>\n<span class="token comment">//////////////////////////////////////////////////////////////////</span>\n<span class="token comment">// end玩家选择的英雄数据</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),q=(0,t.Lk)("h2",{id:"gameplayeffect",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#gameplayeffect"},[(0,t.Lk)("span",null,"GameplayEffect")])],-1),H=(0,t.Fv)("<ol><li><p><strong>死物（Passive Entities）:</strong></p><ul><li><strong>效果生成器（Effect Generator）:</strong> 死物负责产生某种效果的实体，比如道具、装备、魂玉等。</li><li><strong>效果（Effect）:</strong> 由效果生成器产生的具体效果，例如打折、恢复血量等。</li></ul></li><li><p><strong>活物（Active Entities）:</strong></p><ul><li><strong>属性承担者（Attribute Bearer）:</strong> 活物是具有属性的实体，例如玩家和NPC。</li><li><strong>行为触发器（Action Trigger）:</strong> 活物通过行为触发器来影响自身的属性，例如装备魂玉、使用血包等。</li></ul></li></ol>",1),z=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:k,alt:"佬的图",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption",null,"佬的图")],-1),Y=(0,t.Lk)("h3",{id:"modifiers",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#modifiers"},[(0,t.Lk)("span",null,"Modifiers")])],-1),V=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:u,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),_=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:r,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),K=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:d,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),X=(0,t.Lk)("p",null,[(0,t.eW)("我们之前说过有死物和活物两个概念。先说"),(0,t.Lk)("code",null,"死物"),(0,t.eW)("部分。")],-1),J=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:L,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),Q=(0,t.Lk)("h3",{id:"组件初始化",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#组件初始化"},[(0,t.Lk)("span",null,"组件初始化")])],-1),Z=(0,t.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,t.Lk)("pre",{class:"language-cpp"},[(0,t.Lk)("code",null,[(0,t.Lk)("span",{class:"token keyword"},"public"),(0,t.Lk)("span",{class:"token operator"},":"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"virtual"),(0,t.eW)(" UYourAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"GetAbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"override"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t UAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"GetAttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.eW)(" AttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t \n"),(0,t.Lk)("span",{class:"token keyword"},"protected"),(0,t.Lk)("span",{class:"token operator"},":"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token keyword"},"virtual"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"BeginPlay"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"override"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tTObjectPtr"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.eW)(" AbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tTObjectPtr"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UAttributeSet"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.eW)(" AttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n")])]),(0,t.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"})])],-1),$=(0,t.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,t.Lk)("pre",{class:"language-cpp"},[(0,t.Lk)("code",null,[(0,t.eW)("UAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"AExorcistCharacterBase"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"GetAbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.eW)(" AbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n")])]),(0,t.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"})])],-1),nn=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token class-name">ANPC</span><span class="token double-colon punctuation">::</span><span class="token function">ANPC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\tAbilitySystemComponent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">CreateDefaultSubobject</span><span class="token generic class-name"><span class="token operator">&lt;</span>UYourAbilitySystemComponent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;AbilitySystemComponent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tAbilitySystemComponent<span class="token operator">-&gt;</span><span class="token function">SetIsReplicated</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//复制能力</span>\n\tAbilitySystemComponent<span class="token operator">-&gt;</span><span class="token function">SetReplicationMode</span><span class="token punctuation">(</span>EGameplayEffectReplicationMode<span class="token double-colon punctuation">::</span>Minimal<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//适用于多人联机的NPC</span>\n\t\n\tAttributeSet <span class="token operator">=</span> <span class="token generic-function"><span class="token function">CreateDefaultSubobject</span><span class="token generic class-name"><span class="token operator">&lt;</span>UYourAttributeSet<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;AttributeSet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">ANPC</span><span class="token double-colon punctuation">::</span><span class="token function">BeginPlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">BeginPlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tAbilitySystemComponent<span class="token operator">-&gt;</span><span class="token function">InitAbilityActorInfo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="复制模式-同步模式" tabindex="-1"><a class="header-anchor" href="#复制模式-同步模式"><span>复制模式|同步模式</span></a></h3>',2),sn=(0,t.Fv)("<table><thead><tr><th>复制模式</th><th>使用场景</th><th>描述</th></tr></thead><tbody><tr><td>Full</td><td>单人游戏</td><td>每个 <code>GameplayEffect</code> 都会被复制到每个客户端。</td></tr><tr><td>Mixed</td><td>多人游戏，玩家控制的角色</td><td><code>GameplayEffects</code> 仅被复制到拥有它的客户端。仅 <code>GameplayTags</code> 和 <code>GameplayCues</code> 被复制给所有人。</td></tr><tr><td>Minimal</td><td>多人游戏，AI 控制的角色</td><td><code>GameplayEffects</code> 不会被复制给任何人。仅 <code>GameplayTags</code> 和 <code>GameplayCues</code> 被复制给所有人。</td></tr></tbody></table>",1),an={href:"https://zhuanlan.zhihu.com/p/600034328",target:"_blank",rel:"noopener noreferrer"},tn=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token class-name">AYourPlayerState</span><span class="token double-colon punctuation">::</span><span class="token function">AYourPlayerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\tNetUpdateFrequency <span class="token operator">=</span> <span class="token number">100.f</span><span class="token punctuation">;</span><span class="token comment">//网络更新速度</span>\n\n\tAbilitySystemComponent <span class="token operator">=</span> <span class="token generic-function"><span class="token function">CreateDefaultSubobject</span><span class="token generic class-name"><span class="token operator">&lt;</span>UYourAbilitySystemComponent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;AbilitySystemComponent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tAbilitySystemComponent<span class="token operator">-&gt;</span><span class="token function">SetIsReplicated</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//复制能力</span>\n\tAbilitySystemComponent<span class="token operator">-&gt;</span><span class="token function">SetReplicationMode</span><span class="token punctuation">(</span>EGameplayEffectReplicationMode<span class="token double-colon punctuation">::</span>Mixed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//适用于多人联机的玩家</span>\n\tAttributeSet <span class="token operator">=</span> <span class="token generic-function"><span class="token function">CreateDefaultSubobject</span><span class="token generic class-name"><span class="token operator">&lt;</span>UYourAttributeSet<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;AttributeSet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\t\n<span class="token punctuation">}</span>\nUAbilitySystemComponent<span class="token operator">*</span> <span class="token class-name">AYourPlayerState</span><span class="token double-colon punctuation">::</span><span class="token function">GetAbilitySystemComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">return</span> AbilitySystemComponent<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),en=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>\t\n<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">PossessedBy</span><span class="token punctuation">(</span>AController<span class="token operator">*</span> NewController<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>\n<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnRep_PlayerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>\n\n<span class="token keyword">void</span> <span class="token class-name">AHeroCharacter</span><span class="token double-colon punctuation">::</span><span class="token function">InitAbilityActorInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n   \t<span class="token comment">//拿到PlayState</span>\n\tAExorcistPlayerState<span class="token operator">*</span> ExorcistPlayerState <span class="token operator">=</span><span class="token generic-function"><span class="token function">GetPlayerState</span><span class="token generic class-name"><span class="token operator">&lt;</span>AExorcistPlayerState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\n\t<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ExorcistPlayerState<span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token keyword">return</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n\t\n\t<span class="token comment">//利用PlayerState初始化组件</span>\n\tExorcistPlayerState<span class="token operator">-&gt;</span><span class="token function">GetAbilitySystemComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">InitAbilityActorInfo</span><span class="token punctuation">(</span>ExorcistPlayerState<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">//赋值指针</span>\n\tAbilitySystemComponent <span class="token operator">=</span> ExorcistPlayerState<span class="token operator">-&gt;</span><span class="token function">GetAbilitySystemComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tAttributeSet <span class="token operator">=</span> ExorcistPlayerState<span class="token operator">-&gt;</span><span class="token function">GetAttributeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsLocallyControlled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n   <span class="token punctuation">{</span>\n     <span class="token comment">//调用子系统，利用子系统转发GE委托或者能力等</span>\n      UExorcistAbilitySubsystem<span class="token operator">*</span> ExorcistAbilitySubsystem <span class="token operator">=</span> <span class="token class-name">UGameplayStatics</span><span class="token double-colon punctuation">::</span><span class="token function">GetGameInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token generic-function"><span class="token function">GetSubsystem</span><span class="token generic class-name"><span class="token operator">&lt;</span>UExorcistAbilitySubsystem<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n   \n      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ExorcistAbilitySubsystem<span class="token punctuation">)</span>\n      <span class="token punctuation">{</span>\n       <span class="token keyword">return</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token comment">//子系统初始化组件，并将初始GE加载显示。</span>\n      ExorcistAbilitySubsystem<span class="token operator">-&gt;</span><span class="token function">InitOverlay</span><span class="token punctuation">(</span>AbilitySystemComponent<span class="token punctuation">,</span> AttributeSet<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      ExorcistAbilitySubsystem<span class="token operator">-&gt;</span><span class="token function">BroadCastInitialValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n       \n   <span class="token punctuation">}</span>\n\t\n<span class="token punctuation">}</span>\n<span class="token keyword">void</span> <span class="token class-name">AHeroCharacter</span><span class="token double-colon punctuation">::</span><span class="token function">PossessedBy</span><span class="token punctuation">(</span>AController<span class="token operator">*</span> NewController<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">PossessedBy</span><span class="token punctuation">(</span>NewController<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token comment">//Server</span>\n\t<span class="token function">InitAbilityActorInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">AHeroCharacter</span><span class="token double-colon punctuation">::</span><span class="token function">OnRep_PlayerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">OnRep_PlayerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token comment">//Client</span>\n\t<span class="token function">InitAbilityActorInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),on=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token comment">//使用GE，传入拥有组件的Actor和目标Actor以及对应的GE。</span>\n<span class="token function">UFUNCTION</span><span class="token punctuation">(</span>BlueprintCallable<span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">&quot;AbilitySubsystem&quot;</span><span class="token punctuation">)</span>\n<span class="token keyword">void</span> <span class="token function">ApplyEffectToTarget</span><span class="token punctuation">(</span>AActor<span class="token operator">*</span> SourceActor<span class="token punctuation">,</span>AActor<span class="token operator">*</span> TargetActor<span class="token punctuation">,</span>TSubclassOf<span class="token operator">&lt;</span>UGameplayEffect<span class="token operator">&gt;</span> GameplayEffect<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">void</span> <span class="token class-name">UExorcistAbilitySubsystem</span><span class="token double-colon punctuation">::</span><span class="token function">ApplyEffectToTarget</span><span class="token punctuation">(</span>AActor<span class="token operator">*</span> SourceActor <span class="token punctuation">,</span>AActor<span class="token operator">*</span> TargetActor<span class="token punctuation">,</span> TSubclassOf<span class="token operator">&lt;</span>UGameplayEffect<span class="token operator">&gt;</span> GameplayEffect<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token comment">//检查传入的对象</span>\n\t<span class="token keyword">if</span><span class="token punctuation">(</span>SourceActor <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token operator">||</span>TargetActor <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token operator">||</span>GameplayEffect <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token keyword">return</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n\t<span class="token comment">//获取要使用的对象GAS组件</span>\n\tUAbilitySystemComponent<span class="token operator">*</span> TargetASC <span class="token operator">=</span> <span class="token class-name">UAbilitySystemBlueprintLibrary</span><span class="token double-colon punctuation">::</span><span class="token function">GetAbilitySystemComponent</span><span class="token punctuation">(</span>TargetActor<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token keyword">if</span><span class="token punctuation">(</span>TargetASC <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token keyword">return</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n\tFGameplayEffectContextHandle Context <span class="token operator">=</span> TargetASC<span class="token operator">-&gt;</span><span class="token function">MakeEffectContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tContext<span class="token punctuation">.</span><span class="token function">AddSourceObject</span><span class="token punctuation">(</span>SourceActor<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tFGameplayEffectSpecHandle SpecHandle <span class="token operator">=</span> TargetASC<span class="token operator">-&gt;</span><span class="token function">MakeOutgoingSpec</span><span class="token punctuation">(</span>GameplayEffect<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> Context<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tTargetASC<span class="token operator">-&gt;</span><span class="token function">ApplyGameplayEffectSpecToTarget</span><span class="token punctuation">(</span><span class="token operator">*</span>SpecHandle<span class="token punctuation">.</span>Data<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> TargetASC<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="'+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+b+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',3),pn=(0,t.Fv)('<h3 id="监听attribute变化" tabindex="-1"><a class="header-anchor" href="#监听attribute变化"><span>监听Attribute变化</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>AbilitySystemComponent<span class="token operator">-&gt;</span><span class="token function">GetGameplayAttributeValueChangeDelegate</span><span class="token punctuation">(</span>AttributeSetBase<span class="token operator">-&gt;</span><span class="token function">GetHealthAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">AddUObject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>AGDPlayerState<span class="token double-colon punctuation">::</span>HealthChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">HealthChanged</span><span class="token punctuation">(</span><span class="token keyword">const</span> FOnAttributeChangeData<span class="token operator">&amp;</span> Data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>',2),cn=(0,t.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,t.Lk)("pre",{class:"language-cpp"},[(0,t.Lk)("code",null,[(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"pragma"),(0,t.eW)(),(0,t.Lk)("span",{class:"token expression"},"once")]),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"CoreMinimal.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"GameplayEffectTypes.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"GameplayEffect.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"Subsystems/GameInstanceSubsystem.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"ExorcistAbilitySubsystem.generated.h"')]),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"class"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token keyword"},"class"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UAbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\n"),(0,t.Lk)("span",{class:"token function"},"DECLARE_DYNAMIC_MULTICAST_DELEGATE_OneParam"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("FOnHealthChangeDelegate"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.Lk)("span",{class:"token keyword"},"float"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("NewHealth"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token function"},"DECLARE_DYNAMIC_MULTICAST_DELEGATE_OneParam"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("FOnMaxHealthChangeDelegate"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.Lk)("span",{class:"token keyword"},"float"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("NewMaxHealth"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token function"},"DECLARE_DYNAMIC_MULTICAST_DELEGATE_OneParam"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("FOnArmorChangeDeleagate"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.Lk)("span",{class:"token keyword"},"float"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("NewArmor"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token function"},"DECLARE_DYNAMIC_MULTICAST_DELEGATE_OneParam"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("FOnMaxArmorChangeDeleagate"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.Lk)("span",{class:"token keyword"},"float"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("NewMaxArmor"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token function"},"UCLASS"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token keyword"},"class"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"EXORCIST_API"),(0,t.eW)(" UExorcistAbilitySubsystem "),(0,t.Lk)("span",{class:"token operator"},":"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"public"),(0,t.eW)(" UGameInstanceSubsystem\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"GENERATED_BODY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token keyword"},"public"),(0,t.Lk)("span",{class:"token operator"},":"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token comment"},"//委托"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintAssignable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem|Health"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tFOnHealthChangeDelegate OnHealthChanged"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintAssignable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem|MaxHealth"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tFOnMaxHealthChangeDelegate OnMaxHealthChanged"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintAssignable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem|Armor"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tFOnArmorChangeDeleagate OnArmorChanged"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintAssignable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem|MaxArmor"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tFOnMaxArmorChangeDeleagate OnMaxArmorChanged"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token comment"},"//默认接口"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"virtual"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"bool"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"ShouldCreateSubsystem"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("UObject"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" Outer"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"override"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"virtual"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"Initialize"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("FSubsystemCollectionBase"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" Collection"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"override"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"virtual"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"Deinitialize"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"override"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token comment"},"//初始化组件"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UFUNCTION"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintCallable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"InitOverlay"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("UAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" Asc"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("UAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" As"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token comment"},"//通过子系统转发AS属性更新"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UFUNCTION"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintCallable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"BroadCastInitialValues"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token comment"},"//使用GE，传入拥有组件的Actor和目标Actor以及对应的GE。"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UFUNCTION"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintCallable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"ApplyEffectToTarget"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("AActor"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" SourceActor"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("AActor"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" TargetActor"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("TSubclassOf"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UGameplayEffect"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.eW)(" GameplayEffect"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("int32 Level"),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.Lk)("span",{class:"token number"},"1"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token comment"},"//尝试移除TargetActor身上某种GE。"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UFUNCTION"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintCallable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"RemoveTargetEffectByClass"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("AActor"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" TargetActor"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" TSubclassOf"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UGameplayEffect"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.eW)(" GameplayEffect"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t\n\t"),(0,t.Lk)("span",{class:"token comment"},"//使用GE，传入拥有组件的Actor和目标Actor以及对应的GE。"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token function"},"UFUNCTION"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintCallable"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token function"},"UpdateAttribute"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)(" FGameplayAttribute Attribute"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"float"),(0,t.eW)(" NewBaseValue"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n"),(0,t.Lk)("span",{class:"token keyword"},"protected"),(0,t.Lk)("span",{class:"token operator"},":"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintReadOnly"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("Category"),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tTObjectPtr"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UAttributeSet"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.eW)(" AttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token function"},"UPROPERTY"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("BlueprintReadOnly"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("Category "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySubsystem"'),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\tTObjectPtr"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.eW)(" AbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n")])]),(0,t.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"})])],-1),ln=(0,t.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,t.Lk)("pre",{class:"language-cpp"},[(0,t.Lk)("code",null,[(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"Subsystem/ExorcistAbilitySubsystem.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"AbilitySystem/Attributes/ExorcistAttributeSet.h"')]),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token macro property"},[(0,t.Lk)("span",{class:"token directive-hash"},"#"),(0,t.Lk)("span",{class:"token directive keyword"},"include"),(0,t.eW)(),(0,t.Lk)("span",{class:"token string"},'"FrameWork/ExorcistPlayerState.h"')]),(0,t.eW)("\n\n\n"),(0,t.Lk)("span",{class:"token keyword"},"bool"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAbilitySubsystem"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"ShouldCreateSubsystem"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("UObject"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" Outer"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"Super"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"ShouldCreateSubsystem"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("Outer"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAbilitySubsystem"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"Initialize"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("FSubsystemCollectionBase"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" Collection"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token class-name"},"Super"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"Initialize"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("Collection"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAbilitySubsystem"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"Deinitialize"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token class-name"},"Super"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"Deinitialize"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAbilitySubsystem"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"InitOverlay"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("UAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" Asc"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" UAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" As"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.eW)(),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token operator"},"!"),(0,t.eW)("Asc "),(0,t.Lk)("span",{class:"token operator"},"||"),(0,t.eW)(),(0,t.Lk)("span",{class:"token operator"},"!"),(0,t.eW)("As"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n\tAbilitySystemComponent "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(" Asc"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\tAttributeSet "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(" As"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(" UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" ExorcistAttributeSet "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token generic-function"},[(0,t.Lk)("span",{class:"token function"},"Cast"),(0,t.Lk)("span",{class:"token generic class-name"},[(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},">")])]),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("AttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.eW)(),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token operator"},"!"),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\tAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetGameplayAttributeValueChangeDelegate"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetHealthAttribute"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("\n\t                        "),(0,t.Lk)("span",{class:"token function"},"AddLambda"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"["),(0,t.Lk)("span",{class:"token keyword"},"this"),(0,t.Lk)("span",{class:"token punctuation"},"]"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(" FOnAttributeChangeData"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" OnAttributeChangeData"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t\t                        OnHealthChanged"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Broadcast"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("OnAttributeChangeData"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("NewValue"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\t                        "),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\tAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetGameplayAttributeValueChangeDelegate"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetMaxHealthAttribute"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("\n\t                        "),(0,t.Lk)("span",{class:"token function"},"AddLambda"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"["),(0,t.Lk)("span",{class:"token keyword"},"this"),(0,t.Lk)("span",{class:"token punctuation"},"]"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(" FOnAttributeChangeData"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" OnAttributeChangeData"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t\t                        OnMaxHealthChanged"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Broadcast"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("OnAttributeChangeData"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("NewValue"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\t                        "),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\tAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetGameplayAttributeValueChangeDelegate"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetArmorAttribute"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("\n\t                        "),(0,t.Lk)("span",{class:"token function"},"AddLambda"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"["),(0,t.Lk)("span",{class:"token keyword"},"this"),(0,t.Lk)("span",{class:"token punctuation"},"]"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(" FOnAttributeChangeData"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" OnAttributeChangeData"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t\t                        OnArmorChanged"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Broadcast"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("OnAttributeChangeData"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("NewValue"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\t                        "),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\tAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetGameplayAttributeValueChangeDelegate"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetMaxArmorAttribute"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("\n\t                        "),(0,t.Lk)("span",{class:"token function"},"AddLambda"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"["),(0,t.Lk)("span",{class:"token keyword"},"this"),(0,t.Lk)("span",{class:"token punctuation"},"]"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(" FOnAttributeChangeData"),(0,t.Lk)("span",{class:"token operator"},"&"),(0,t.eW)(" OnAttributeChangeData"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t\t                        OnMaxArmorChanged"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Broadcast"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("OnAttributeChangeData"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("NewValue"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\t                        "),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\t                        "),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAbilitySubsystem"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"BroadCastInitialValues"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.eW)(),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("AttributeSet "),(0,t.Lk)("span",{class:"token operator"},"&&"),(0,t.eW)(" AbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t"),(0,t.Lk)("span",{class:"token keyword"},"const"),(0,t.eW)(" UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" ExorcistAttributeSet "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token generic-function"},[(0,t.Lk)("span",{class:"token function"},"CastChecked"),(0,t.Lk)("span",{class:"token generic class-name"},[(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},">")])]),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("AttributeSet"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\t\n\t\tOnHealthChanged"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Broadcast"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetHealth"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\tOnMaxHealthChanged"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Broadcast"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetMaxHealth"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\tOnArmorChanged"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Broadcast"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetArmor"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\tOnMaxArmorChanged"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Broadcast"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("ExorcistAttributeSet"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetMaxArmor"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAbilitySubsystem"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"ApplyEffectToTarget"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("AActor"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" SourceActor"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" AActor"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" TargetActor"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("\n                                                    TSubclassOf"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UGameplayEffect"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.eW)(" GameplayEffect"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)("int32 Level"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token comment"},"//检查传入的对象"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.eW)(),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("SourceActor "),(0,t.Lk)("span",{class:"token operator"},"=="),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"nullptr"),(0,t.eW)(),(0,t.Lk)("span",{class:"token operator"},"||"),(0,t.eW)(" TargetActor "),(0,t.Lk)("span",{class:"token operator"},"=="),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"nullptr"),(0,t.eW)(),(0,t.Lk)("span",{class:"token operator"},"||"),(0,t.eW)(" GameplayEffect "),(0,t.Lk)("span",{class:"token operator"},"=="),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"nullptr"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token comment"},"//获取要使用的对象GAS组件"),(0,t.eW)("\n\tUAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" TargetASC "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UAbilitySystemBlueprintLibrary"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"GetAbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("TargetActor"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.eW)(),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("TargetASC "),(0,t.Lk)("span",{class:"token operator"},"=="),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"nullptr"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\tFGameplayEffectContextHandle Context "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(" TargetASC"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"MakeEffectContext"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\tContext"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"AddSourceObject"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("SourceActor"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\tFGameplayEffectSpecHandle SpecHandle "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(" TargetASC"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"MakeOutgoingSpec"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("GameplayEffect"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Level"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" Context"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\tFGameplayTagContainer EffectTags"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\tTargetASC"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"ApplyGameplayEffectSpecToTarget"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)("SpecHandle"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("Data"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Get"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" TargetASC"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\n\t"),(0,t.Lk)("span",{class:"token comment"},"//这个可以返回所有目标拥有的GETag"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("TargetActor"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetNetOwningPlayer"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\tSpecHandle"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.eW)("Data"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Get"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"GetAllAssetTags"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("EffectTags"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t\tGEngine"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"AddOnScreenDebugMessage"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token operator"},"-"),(0,t.Lk)("span",{class:"token number"},"1"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(),(0,t.Lk)("span",{class:"token number"},"5.0f"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" FColor"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.eW)("Red"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"FString"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"SanitizeFloat"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("EffectTags"),(0,t.Lk)("span",{class:"token punctuation"},"."),(0,t.Lk)("span",{class:"token function"},"Num"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAbilitySubsystem"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"RemoveTargetEffectByClass"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("AActor"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" TargetActor"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" TSubclassOf"),(0,t.Lk)("span",{class:"token operator"},"<"),(0,t.eW)("UGameplayEffect"),(0,t.Lk)("span",{class:"token operator"},">"),(0,t.eW)(" GameplayEffect"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\n\t"),(0,t.Lk)("span",{class:"token comment"},"//检查传入的对象"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.eW)(),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)(" TargetActor "),(0,t.Lk)("span",{class:"token operator"},"=="),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"nullptr"),(0,t.eW)(),(0,t.Lk)("span",{class:"token operator"},"||"),(0,t.eW)(" GameplayEffect "),(0,t.Lk)("span",{class:"token operator"},"=="),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"nullptr"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token comment"},"//获取要使用的对象GAS组件"),(0,t.eW)("\n\tUAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"*"),(0,t.eW)(" TargetASC "),(0,t.Lk)("span",{class:"token operator"},"="),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UAbilitySystemBlueprintLibrary"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"GetAbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("TargetActor"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.eW)(),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("TargetASC "),(0,t.Lk)("span",{class:"token operator"},"=="),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"nullptr"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\t"),(0,t.Lk)("span",{class:"token keyword"},"return"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\tTargetASC"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"RemoveActiveGameplayEffectBySourceEffect"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("GameplayEffect"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" TargetASC"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n\n"),(0,t.Lk)("span",{class:"token keyword"},"void"),(0,t.eW)(),(0,t.Lk)("span",{class:"token class-name"},"UExorcistAbilitySubsystem"),(0,t.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,t.Lk)("span",{class:"token function"},"UpdateAttribute"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("FGameplayAttribute Attribute"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(),(0,t.Lk)("span",{class:"token keyword"},"float"),(0,t.eW)(" NewBaseValue"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token keyword"},"if"),(0,t.eW)(),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("AbilitySystemComponent"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"{"),(0,t.eW)("\n\t\tAbilitySystemComponent"),(0,t.Lk)("span",{class:"token operator"},"->"),(0,t.Lk)("span",{class:"token function"},"SetNumericAttributeBase"),(0,t.Lk)("span",{class:"token punctuation"},"("),(0,t.eW)("Attribute"),(0,t.Lk)("span",{class:"token punctuation"},","),(0,t.eW)(" NewBaseValue"),(0,t.Lk)("span",{class:"token punctuation"},")"),(0,t.Lk)("span",{class:"token punctuation"},";"),(0,t.eW)("\n\t"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n"),(0,t.Lk)("span",{class:"token punctuation"},"}"),(0,t.eW)("\n")])]),(0,t.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"}),(0,t.Lk)("div",{class:"line-number"})])],-1),kn=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:"data:image/png;base64,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",alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),un=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:v,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),rn=(0,t.Lk)("h3",{id:"debug",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#debug"},[(0,t.Lk)("span",null,"Debug")])],-1),dn=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:W,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),Ln=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:y,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),mn=(0,t.Lk)("h3",{id:"gameability",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#gameability"},[(0,t.Lk)("span",null,"GameAbility")])],-1),bn=(0,t.Lk)("p",null,[(0,t.eW)("再谈"),(0,t.Lk)("code",null,"活物"),(0,t.eW)("部分，玩过只狼的童鞋应该知道，习得某个技能能打出不同的效果。无论什么技能，打出的"),(0,t.Lk)("code",null,"GE效果"),(0,t.eW)("其实是通用的，只不过被一个叫做十字斩的"),(0,t.Lk)("code",null,"技能"),(0,t.eW)("触发(Apply)罢了。")],-1),vn=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:g,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),Wn=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:f,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),yn=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:A,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),gn=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token function">TryActivateAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> 尝试激活能力。调用<span class="token function">CanActivateAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span>。输入事件可以直接调用此函数。\n<span class="token operator">-</span> 还处理执行逻辑的实例化和复制<span class="token operator">/</span>预测调用。\n\n<span class="token function">CallActivateAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> 受保护的非虚函数。执行一些样板“预激活”工作，然后调用<span class="token function">ActivateAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span>。\n\n<span class="token function">ActivateAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> 能力的执行函数。子类希望重写此函数。\n\n<span class="token function">CommitAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> 提交资源<span class="token operator">/</span>冷却等。<span class="token function">ActivateAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 必须调用此函数！\n\n<span class="token function">CancelAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> 中断能力（来自外部源）。\n\n<span class="token function">EndAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> 能力已结束。这是由能力自身调用以结束自身的。\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),fn=(0,t.Lk)("h3",{id:"gameplaytags",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#gameplaytags"},[(0,t.Lk)("span",null,"GameplayTags")])],-1),An=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:h,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),hn=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:S,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),Sn=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:E,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),En=(0,t.Lk)("h2",{id:"参考链接",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#参考链接"},[(0,t.Lk)("span",null,"参考链接")])],-1),Cn={href:"https://docs.unrealengine.com/5.0/zh-CN/getting-started-with-the-gameplay-ability-system-in-unreal-engine/",target:"_blank",rel:"noopener noreferrer"},xn={href:"https://github.com/BillEliot/GASDocumentation_Chinese",target:"_blank",rel:"noopener noreferrer"},Tn={},wn=(0,a(66262).A)(Tn,[["render",function(n,s){const a=(0,t.g2)("chatmessage"),e=(0,t.g2)("CodeTabs"),o=(0,t.g2)("RouteLink"),p=(0,t.g2)("ExternalLinkIcon");return(0,t.uX)(),(0,t.CE)("div",null,[C,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 也就是我们基本的GameMode、PlayerState、Control等 ")])),_:1}),x,T,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 按照官方的注释，我们可以得知GAS组件作为一个构通平台(接口)，将我们的GA、GE、AS成功串联 ")])),_:1}),w,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 啥意思？突然飙这么多专业术语我也是醉了！ ")])),_:1}),G,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 很好，看来我们想要先对今天的学习目标有个大概的认知，我们先来谈谈GAS到底是干什么的吧！ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 开头不是说了吗！是构建Actor可以拥有和触发的技能和交互的一种框架！ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 就拿永劫无间得PVE来说，我们需要努力肝BOSS获取一些特殊属性、特殊技能的魂玉来提升自己。 ")])),_:1}),F,P,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 也就是说，我们一开始就得设计好一个游戏对局需要影响双方的哪些属性对吧？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 按照以往，我们往往需要一个结构体来定义这些属性的基础值，但GAS中我们可以用AttributeSet类定义代替他。 ")])),_:1}),U,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 他和我们以前定义的结构体有什么不同吗？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 功能上，AS将某个属性的值，比如体力进一步的细化了他的状态,并将这些状态封装到了FGameplayAttributeData结构体中 ")])),_:1}),N,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 这么说他不仅仅是一个简单的结构体，还拥有一些方法帮我们维护管理这些数据？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 是的，比如网络状态同步、属性本身状态广播等。 ")])),_:1}),R,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 这里为什么会有BaseValue和CurrentValue两个值？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 你可以这么理解，BaseValue是长期属性，CurrentValue是短期属性。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 比如原来的走路速度是600u/s,通过GE给了一个暴走Buff持续15s速度提升到800u/s,这时候CurrentValue会被设置成800u/s, 但BaseValue还是600u/s,15s后Buff结束，CurrentValue变回原来的600u/s。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 那么这个长期属性和短期属性各自通过什么方法修改呢？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 后面我们讨论GameplayEffect的时候会有介绍，现在我们只需要知道有对应的模式去修改对应的属性即可。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 那就直接康康怎么用，比如我们需要给我们的游戏角色设定一些基本的生命属性. ")])),_:1}),(0,t.bF)(e,{id:"65",data:[{id:"ExorcistAttributeSet.h"},{id:"ExorcistAttributeSet.cpp"}],"tab-id":"language"},{title0:(0,t.k6)((({value:n,isActive:s})=>[(0,t.eW)("ExorcistAttributeSet.h")])),title1:(0,t.k6)((({value:n,isActive:s})=>[(0,t.eW)("ExorcistAttributeSet.cpp")])),tab0:(0,t.k6)((({value:n,isActive:s})=>[I])),tab1:(0,t.k6)((({value:n,isActive:s})=>[O])),_:1},8,["data"]),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 卧槽卧槽！打住打住我已经开始迷茫了！ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 说出你的疑惑。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 定义属性部分倒是好理解，无非就是用结构体代替原来的float，复制函数和以前一样。RPC那一套绑定通知函数和重写GetLifetimeReplicatedProps接口。 我的疑惑是开头你这一坨宏是闹哪样？ ")])),_:1}),j,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 这坨宏其实copyfrom官方的插件。 ")])),_:1}),D,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 宏的目的是：只需通过ATTRIBUTE_ACCESSORS(ClassName, PropertyName)，即可生成与属性访问相关的代码，包括获取、设置和初始化属性的功能。 ")])),_:1}),M,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 我明白了，按照封装思想，我们总是喜欢用一些get、set、init等函数来获取、设置、初始化某个变量，一直重复写这些函数会显得很呆，比如之前我们的设置类中，获取 某个游戏的属性设置，就写了许多胶水代码。 ")])),_:1}),B,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" ok，现在从本质上看，他还是属于一个数据类。现在我们不考虑MVC的设计思维，想想哪些Actor会用到他？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 按照永劫的设计来说，用到的可能是某个魂玉、某个玩家、某个道具、某个NPC。 ")])),_:1}),q,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(' 按照惯性思维，道具这种死物只负责产生某种效果，玩家、NPC这种"活物"才会拥有某个AS属性。会通过某个行为彼此影响自身的AS属性，比如说装备某个魂玉 可以给整队购买打折，亦或者是使用血包给自己恢复多少血量。 ')])),_:1}),H,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 其实死物和活物来划分功能职责并不准确，但可以帮助我们学习理解后面的知识。在GAS中，有这么一个类，负责配置具体的一些效果，比如加多少血、比如扣多少血。 这个类叫GameplayEffect。GameplayEffect有三种持续类型: 即刻(Instant)持续(Duration)无限(Infinite) ")])),_:1}),z,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 我大概理解你的意思了，按照GE的设计思路，只需要拥有GE的类，并且有效果生成的函数接口就能实现某种效果，比如5s内持续加血。可是有些效果是持续的、有些效果是瞬间的， 我们怎么去区分呢？ ")])),_:1}),Y,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[(0,t.eW)("问的好，还记得我们讨论增强输入系统时的Modifiers嘛？"),(0,t.bF)(o,{to:"/unreal/core%5B%E6%A0%B8%E5%BF%83%5D/4.2-EnhancedInput.html"},{default:(0,t.k6)((()=>[(0,t.eW)("传送门")])),_:1})])])),_:1}),V,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 这种优秀的设计机制当然GAS中也拥有，我们的GE也有自己的Modifiers去配置不同状态效果。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" UE中随便新建一个GE ")])),_:1}),_,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 现在走还来得及吗？这东西是给人看的？ ")])),_:1}),K,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[(0,t.eW)("不要急，基于篇幅我把这些GE的各项详细给你提到专门的文章中。"),(0,t.bF)(o,{to:"/unreal/core%5B%E6%A0%B8%E5%BF%83%5D/8.1-GASGE.html"},{default:(0,t.k6)((()=>[(0,t.eW)("传送门")])),_:1})])])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 最终这些配置的效果怎么使用？又怎么触发呢？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[X])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 严格意义上死物不会拥有某个技能，他只携带某种效果生成器和效果，我们可以通过GAS组件提供的函数库直接触发。 比如LOL/王者荣耀中购买装备以提升的属性加成。 比如一些药品，通过某个球体触发器触发，给OVER的Actor直接作用对应的GE。 ")])),_:1}),J,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 又或者是一些库存物件，玩家主动使用。这其实已经涉及到某个能力了——使用消耗品的能力。当然这取决于咱怎么定义能力。 比如：有一个技能变态到你在多久时间内不能打开背包，那么这个背包使用也算一个能力。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 无论怎么样，我们都得写一个拥有GAS组件、AS的角色类或者角色基类。当然你也可以按照NPC和玩家去进一步细分。 NPC直接挂载ASC组件，玩家的ASC写在PlayerState中，通过管理类或者子系统维护. ")])),_:1}),Q,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 无论是NPC还是角色，都需要拥有ASC组件和AS属性，我们可以定义一个基类并写一些接口给不同的派生类使用。 ")])),_:1}),(0,t.bF)(e,{id:"173",data:[{id:"角色基类.h"},{id:"角色基类.cpp"}],"tab-id":"language"},{title0:(0,t.k6)((({value:n,isActive:s})=>[(0,t.eW)("角色基类.h")])),title1:(0,t.k6)((({value:n,isActive:s})=>[(0,t.eW)("角色基类.cpp")])),tab0:(0,t.k6)((({value:n,isActive:s})=>[Z])),tab1:(0,t.k6)((({value:n,isActive:s})=>[$])),_:1},8,["data"]),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 上面我们的角色基类中已经定义了ASC组件和AS指针，我们希望NPC类可以直接配置. ")])),_:1}),nn,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 之前我们提到过ASC组件帮我们实现了基本的复制模式和复制预测，我看你NPC和玩家用了不同的复制模式，有什么区别嘛？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 区别： ")])),_:1}),sn,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.Lk)("p",null,[(0,t.eW)("接着配置我们的玩家类，我们希望一些数据层的逻辑交给更专业的类去管理，玩家的数据交给PlayerState类处理再合适不过了，即便是断线重连，也可以完美同步。 "),(0,t.Lk)("a",an,[(0,t.eW)("参考"),(0,t.bF)(p)])])])),_:1}),tn,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 接着，我们去Hero类获取对应的State即可 ")])),_:1}),en,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" GE的函数可以用蓝图函数库，也可以自己子系统代理执行。 ")])),_:1}),on,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 如果我们希望我们的物品类更加独立，可以按照之前的装备系统只传入tag,查表获取对应的GE。 ")])),_:1}),pn,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 目前我们的AS变化是不会反馈到UI上面的，可以写个UI子系统\\管理类，或者写个技能子系统负责综合管理这个项目的GAS相关模块处理 ")])),_:1}),(0,t.bF)(e,{id:"260",data:[{id:"你的子系统.h"},{id:"你的子系统.cpp"}],"tab-id":"language"},{title0:(0,t.k6)((({value:n,isActive:s})=>[(0,t.eW)("你的子系统.h")])),title1:(0,t.k6)((({value:n,isActive:s})=>[(0,t.eW)("你的子系统.cpp")])),tab0:(0,t.k6)((({value:n,isActive:s})=>[cn])),tab1:(0,t.k6)((({value:n,isActive:s})=>[ln])),_:1},8,["data"]),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 目前我们没写UI,可以在合适的地方使用我们的子系统打印这些数据。 ")])),_:1}),kn,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 文档则写了一个异步的监听函数去监听某个值的变化。 ")])),_:1}),un,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 方法有很多，按需使用就行了。 ")])),_:1}),rn,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 可以用Debug指令或者对应的GAS属性查看器 ")])),_:1}),dn,Ln,mn,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[bn])),_:1}),vn,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 搜嘎!这么说我们要开始讨论技能部分了吧！ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 别急，先来说说你理解的技能是什么？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 之前我们已经讨论过了，比如王者荣耀LOL中的英雄技能点，又比如守望先锋中的源氏大招。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 既然是技能，必定会有开始和结束，官方文档中对技能的基本流程是这样解释的： ")])),_:1}),Wn,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 首先它不是什么新东西，也摆脱不了UObject，更逃不开面向对象。 ")])),_:1}),yn,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 就像一开始属性Actor内置函数BeginPlay、TickComponent什么的，GA也有自己的一套规则，我们来简单翻译一下文档对各个函数的描述。 ")])),_:1}),gn,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 也就是说以往我们手写的战斗逻辑也可以写在这里吗？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 是的，以往的播放翻滚蒙太奇、跳跃都可以看成一个技能。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 那么和我们自己写有什么区别？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 首先，简单的技能写起来没啥毛病。如果技能复杂度提升了，比如需要考虑各个技能的相互抑制、共生等关系，光定义一堆bool或者enum就够喝一壶了。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 他是怎么解决这个技能互斥共生问题的呢？比如一些防御、闪避技能是无非受到某些伤害的。 ")])),_:1}),fn,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 官方并没有用bool和enum，而是用了GameplayTags来配置技能之间的一些互斥、联系等。 ")])),_:1}),An,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 咱们可以新建一个GA类看看。 ")])),_:1}),hn,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 相比之前的GE，这个类友好了很多。 ")])),_:1}),Sn,En,(0,t.Lk)("p",null,[(0,t.Lk)("a",Cn,[(0,t.eW)("官网"),(0,t.bF)(p)])]),(0,t.Lk)("p",null,[(0,t.Lk)("a",xn,[(0,t.eW)("GITHUB"),(0,t.bF)(p)])])])}]]),Gn=JSON.parse('{"path":"/unreal/core_%E6%A0%B8%E5%BF%83_/8-GAS.html","title":"c8.GAS|Gameplay Ability System","lang":"zh-CN","frontmatter":{"title":"c8.GAS|Gameplay Ability System","order":800,"category":["u++"],"description":"GAS概述 Gameplay技能系统（Gameplay Ability System） 是构建Actor可以拥有和触发的技能和交互的一种框架。 基本流程 插件引入 模块引入 环境搭建 AbilitySystemComponent(ASC)组件类 知识储备 AS(AttributeSet)属性集 BaseValue vs. CurrentValue Ga...","head":[["meta",{"property":"og:url","content":"https://rendertool.github.io/RenderDoc/unreal/core_%E6%A0%B8%E5%BF%83_/8-GAS.html"}],["meta",{"property":"og:site_name","content":"RenderDoc"}],["meta",{"property":"og:title","content":"c8.GAS|Gameplay Ability System"}],["meta",{"property":"og:description","content":"GAS概述 Gameplay技能系统（Gameplay Ability System） 是构建Actor可以拥有和触发的技能和交互的一种框架。 基本流程 插件引入 模块引入 环境搭建 AbilitySystemComponent(ASC)组件类 知识储备 AS(AttributeSet)属性集 BaseValue vs. CurrentValue Ga..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-25T23:34:33.000Z"}],["meta",{"property":"article:author","content":"Mr.Si"}],["meta",{"property":"article:modified_time","content":"2024-10-25T23:34:33.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"c8.GAS|Gameplay Ability System\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-25T23:34:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Si\\",\\"url\\":\\"https://rendertool.github.io/RenderDoc/\\"}]}"]]},"headers":[{"level":2,"title":"GAS概述","slug":"gas概述","link":"#gas概述","children":[]},{"level":2,"title":"基本流程","slug":"基本流程","link":"#基本流程","children":[{"level":3,"title":"插件引入","slug":"插件引入","link":"#插件引入","children":[]},{"level":3,"title":"模块引入","slug":"模块引入","link":"#模块引入","children":[]},{"level":3,"title":"环境搭建","slug":"环境搭建","link":"#环境搭建","children":[]},{"level":3,"title":"AbilitySystemComponent(ASC)组件类","slug":"abilitysystemcomponent-asc-组件类","link":"#abilitysystemcomponent-asc-组件类","children":[]},{"level":3,"title":"知识储备","slug":"知识储备","link":"#知识储备","children":[]}]},{"level":2,"title":"AS(AttributeSet)属性集","slug":"as-attributeset-属性集","link":"#as-attributeset-属性集","children":[{"level":3,"title":"BaseValue vs. CurrentValue","slug":"basevalue-vs-currentvalue","link":"#basevalue-vs-currentvalue","children":[]}]},{"level":2,"title":"GameplayEffect","slug":"gameplayeffect","link":"#gameplayeffect","children":[{"level":3,"title":"Modifiers","slug":"modifiers","link":"#modifiers","children":[]},{"level":3,"title":"组件初始化","slug":"组件初始化","link":"#组件初始化","children":[]},{"level":3,"title":"复制模式|同步模式","slug":"复制模式-同步模式","link":"#复制模式-同步模式","children":[]},{"level":3,"title":"监听Attribute变化","slug":"监听attribute变化","link":"#监听attribute变化","children":[]},{"level":3,"title":"Debug","slug":"debug","link":"#debug","children":[]},{"level":3,"title":"GameAbility","slug":"gameability","link":"#gameability","children":[]},{"level":3,"title":"GameplayTags","slug":"gameplaytags","link":"#gameplaytags","children":[]}]},{"level":2,"title":"参考链接","slug":"参考链接","link":"#参考链接","children":[]}],"git":{"createdTime":1704306851000,"updatedTime":1729899273000,"contributors":[{"name":"sigaohe","email":"750831855@qq.com","commits":4}]},"readingTime":{"minutes":15.83,"words":4749},"filePathRelative":"unreal/core[核心]/8-GAS.md","localizedDate":"2024年1月3日","excerpt":"<h2>GAS概述</h2>\\n<p>Gameplay技能系统（Gameplay Ability System） 是构建Actor可以拥有和触发的技能和交互的一种框架。</p>\\n<h2>基本流程</h2>\\n<h3>插件引入</h3>\\n<figure><figcaption></figcaption></figure>\\n<h3>模块引入</h3>\\n<div class=\\"language-cpp\\" data-ext=\\"cpp\\" data-title=\\"cpp\\"><pre class=\\"language-cpp\\"><code>PublicDependencyModuleNames<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">AddRange</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">new</span> string<span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">{</span> \\n<span class=\\"token string\\">\\"GameplayTags\\"</span><span class=\\"token punctuation\\">,</span>\\n<span class=\\"token string\\">\\"GameplayTasks\\"</span><span class=\\"token punctuation\\">,</span>\\n<span class=\\"token string\\">\\"GameplayAbilities\\"</span><span class=\\"token punctuation\\">,</span> \\n</code></pre></div>","autoDesc":true}')}}]);