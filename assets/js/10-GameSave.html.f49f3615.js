"use strict";(self.webpackChunkrenderdoc=self.webpackChunkrenderdoc||[]).push([[5361],{23597:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>m,data:()=>v});var t=a(20641);const e=a.p+"assets/img/json.a15faffe.png",o=a.p+"assets/img/json2.835ac731.png",p=a.p+"assets/img/json3.d93912dd.png",i=a.p+"assets/img/json4.c6378285.png",c=a.p+"assets/img/json7.4abc0e3b.png",l=a.p+"assets/img/json8.97734fd4.png",u=(0,t.Fv)('<h3 id="json" tabindex="-1"><a class="header-anchor" href="#json"><span>JSON</span></a></h3><p><strong>1. 安装官方插件</strong></p><figure><img src="'+e+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>2. Build.cs</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>PrivateDependencyModuleNames<span class="token punctuation">.</span><span class="token function">AddRange</span><span class="token punctuation">(</span><span class="token keyword">new</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;JsonUtilities&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;Json&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;JsonBlueprintUtilities&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>3. 关键节点</strong></p><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>4. 注意事项</strong></p><ul><li>FJsonObjectWrapper JsonObject，json格式转换成的json结构体对象</li><li>SaveJsontoFile路径如果不存在则不会创建对应的json</li></ul><p><strong>5. 保存|序列化</strong></p><figure><img src="'+i+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="gamesetting" tabindex="-1"><a class="header-anchor" href="#gamesetting"><span>GameSetting</span></a></h3><p><strong>1. 继承UGameUserSettings类</strong></p><p><strong>2. 声明定义要保存的变量</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">protected</span><span class="token operator">:</span>\n<span class="token comment">//音量</span>\n<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>\n<span class="token keyword">float</span> MasterVolume<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这里的config会自动保存到我们的游戏设置config文件中，开发阶段\\Saved\\Config\\WindowsEditor\\GameUserSettings.ini</p></blockquote><p><strong>3. setter&amp;getter</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>  <span class="token function">UFUNCTION</span><span class="token punctuation">(</span>BlueprintCallable<span class="token punctuation">,</span>Category <span class="token operator">=</span> <span class="token string">&quot;Exorcist|GameSettings&quot;</span><span class="token punctuation">,</span>meta <span class="token operator">=</span> <span class="token punctuation">(</span>ToolTip <span class="token operator">=</span><span class="token string">&quot;Exorcist SetMasterVolume Function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token keyword">void</span> <span class="token function">SetMasterVolume</span><span class="token punctuation">(</span><span class="token keyword">float</span> NewVolume<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token function">UFUNCTION</span><span class="token punctuation">(</span>BlueprintCallable<span class="token punctuation">,</span>Category <span class="token operator">=</span> <span class="token string">&quot;Exorcist|GameSettings&quot;</span><span class="token punctuation">,</span>meta <span class="token operator">=</span> <span class="token punctuation">(</span>ToolTip <span class="token operator">=</span><span class="token string">&quot;Exorcist GetMasterVolume Function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token keyword">float</span> <span class="token function">GetMasterVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>参数初始化（重置）函数-&gt;重载default函数</li></ol><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">SetToDefaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>  \n    <span class="token keyword">void</span> <span class="token class-name">UExorcistGameUserSettings</span><span class="token double-colon punctuation">::</span><span class="token function">SetToDefaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">SetToDefaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        MasterVolume <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>      \n    <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',21),r=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:c,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),d=(0,t.Lk)("ol",{start:"5"},[(0,t.Lk)("li",null,"蓝图中使用")],-1),g=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:l,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),k={},m=(0,a(66262).A)(k,[["render",function(n,s){const a=(0,t.g2)("chatmessage");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 游戏保存读取的几种方法 ")])),_:1}),u,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 我很想吐槽这个中文翻译，搞得我很难受，正确应该是初始化，这里应该翻译成设置默认，而不是设为。 ")])),_:1}),r,d,g])}]]),v=JSON.parse('{"path":"/unreal/core_%E6%A0%B8%E5%BF%83_/10-GameSave.html","title":"c10.GameLoad&Save","lang":"zh-CN","frontmatter":{"title":"c10.GameLoad&Save","order":1000,"category":["u++"],"description":"JSON 1. 安装官方插件 2. Build.cs 3. 关键节点 4. 注意事项 FJsonObjectWrapper JsonObject，json格式转换成的json结构体对象 SaveJsontoFile路径如果不存在则不会创建对应的json 5. 保存|序列化 GameSetting 1. 继承UGameUserSettings类 2. 声...","head":[["meta",{"property":"og:url","content":"https://rendertool.github.io/RenderDoc/unreal/core_%E6%A0%B8%E5%BF%83_/10-GameSave.html"}],["meta",{"property":"og:site_name","content":"RenderDoc"}],["meta",{"property":"og:title","content":"c10.GameLoad&Save"}],["meta",{"property":"og:description","content":"JSON 1. 安装官方插件 2. Build.cs 3. 关键节点 4. 注意事项 FJsonObjectWrapper JsonObject，json格式转换成的json结构体对象 SaveJsontoFile路径如果不存在则不会创建对应的json 5. 保存|序列化 GameSetting 1. 继承UGameUserSettings类 2. 声..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-01-22T18:06:40.000Z"}],["meta",{"property":"article:author","content":"Mr.Si"}],["meta",{"property":"article:modified_time","content":"2024-01-22T18:06:40.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"c10.GameLoad&Save\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-01-22T18:06:40.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Si\\",\\"url\\":\\"https://rendertool.github.io/RenderDoc/\\"}]}"]]},"headers":[{"level":3,"title":"JSON","slug":"json","link":"#json","children":[]},{"level":3,"title":"GameSetting","slug":"gamesetting","link":"#gamesetting","children":[]}],"git":{"createdTime":1705946800000,"updatedTime":1705946800000,"contributors":[{"name":"sigaohe","email":"750831855@qq.com","commits":1}]},"readingTime":{"minutes":0.91,"words":273},"filePathRelative":"unreal/core[核心]/10-GameSave.md","localizedDate":"2024年1月22日","excerpt":"\\n<h3>JSON</h3>\\n<p><strong>1. 安装官方插件</strong></p>\\n<figure><figcaption></figcaption></figure>\\n<p><strong>2. Build.cs</strong></p>\\n<div class=\\"language-cpp\\" data-ext=\\"cpp\\" data-title=\\"cpp\\"><pre class=\\"language-cpp\\"><code>PrivateDependencyModuleNames<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">AddRange</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">new</span> string<span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">{</span> <span class=\\"token string\\">\\"JsonUtilities\\"</span> <span class=\\"token punctuation\\">,</span><span class=\\"token string\\">\\"Json\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"JsonBlueprintUtilities\\"</span> <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n</code></pre></div>","autoDesc":true}')}}]);