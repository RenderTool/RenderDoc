"use strict";(self.webpackChunkrenderdoc=self.webpackChunkrenderdoc||[]).push([[9120],{27613:(n,s,e)=>{n.exports=e.p+"assets/img/cdosingleton.f56c4b40.png"},39838:(n,s,e)=>{n.exports=e.p+"assets/img/subsst.c5981015.png"},7331:(n,s,e)=>{e.r(s),e.d(s,{comp:()=>en,data:()=>an});var a=e(20641);const t=e.p+"assets/img/subs.03c0fadf.png";var c=e(39838);const l=e.p+"assets/img/ptrabs.639dc8e4.jpg",i=e.p+"assets/img/OUTER.42e19f2b.png",o=e.p+"assets/img/uobjcet.16a5b1c0.png",k=e.p+"assets/img/forceinline.69987a1a.png",p=e.p+"assets/img/1472587-20210719153141813-975261415.a60c7886.png",u=e.p+"assets/img/abstract.3f2d3dff.png";var r=e(27613);const d=(0,a.Lk)("figure",null,[(0,a.Lk)("img",{src:t,alt:"",tabindex:"0",loading:"lazy"}),(0,a.Lk)("figcaption")],-1),L=(0,a.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token comment">/** Subsystems are auto instanced classes that share the lifetime of certain engine constructs\n * \n *\tCurrently supported Subsystem lifetimes are:\n *\t\tEngine\t\t -&gt; inherit UEngineSubsystem\n *\t\tEditor\t\t -&gt; inherit UEditorSubsystem\n *\t\tGameInstance -&gt; inherit UGameInstanceSubsystem\n *\t\tWorld\t\t -&gt; inherit UWorldSubsystem\n *\t\tLocalPlayer\t -&gt; inherit ULocalPlayerSubsystem\n *\n *\n *\tNormal Example:\n *\t\tclass UMySystem : public UGameInstanceSubsystem\n *\tWhich can be accessed by:\n *\t\tUGameInstance* GameInstance = ...;\n *\t\tUMySystem* MySystem = GameInstance-&gt;GetSubsystem&lt;UMySystem&gt;();\n *\n *\tor the following if you need protection from a null GameInstance\n *\t\tUGameInstance* GameInstance = ...;\n *\t\tUMyGameSubsystem* MySubsystem = UGameInstance::GetSubsystem&lt;MyGameSubsystem&gt;(GameInstance);\n *\n *\n *\tYou can get also define interfaces that can have multiple implementations.\n *\tInterface Example :\n *      MySystemInterface\n *    With 2 concrete derivative classes:\n *      MyA : public MySystemInterface\n *      MyB : public MySystemInterface\n *\n *\tWhich can be accessed by:\n *\t\tUGameInstance* GameInstance = ...;\n *\t\tconst TArray&lt;UMyGameSubsystem*&gt;&amp; MySubsystems = GameInstance-&gt;GetSubsystemArray&lt;MyGameSubsystem&gt;();\n *\n */</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="文档翻译" tabindex="-1"><a class="header-anchor" href="#文档翻译"><span>文档翻译</span></a></h3><div class="hint-container note"><p class="hint-container-title">注</p><p>子系统是自动实例化的类，与特定引擎构造的生命周期共享</p><p>当前支持的子系统生命周期有：</p><div class="language-markdown line-numbers-mode" data-ext="md" data-title="md"><pre class="language-markdown"><code><span class="token list punctuation">-</span> 引擎\t\t-&gt; 继承 UEngineSubsystem\n<span class="token list punctuation">-</span> 编辑器\t\t-&gt; 继承 UEditorSubsystem\n<span class="token list punctuation">-</span> 游戏实例\t-&gt; 继承 UGameInstanceSubsystem\n<span class="token list punctuation">-</span> 世界\t\t-&gt; 继承 UWorldSubsystem\n<span class="token list punctuation">-</span> 本地玩家\t-&gt; 继承 ULocalPlayerSubsystem\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>常规示例：</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">UMySystem</span> <span class="token operator">:</span> <span class="token keyword">public</span> UGameInstanceSubsystem\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>可通过以下方式访问：</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>UGameInstance<span class="token operator">*</span> GameInstance <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>\nUMySystem<span class="token operator">*</span> MySystem <span class="token operator">=</span> GameInstance<span class="token operator">-&gt;</span><span class="token generic-function"><span class="token function">GetSubsystem</span><span class="token generic class-name"><span class="token operator">&lt;</span>UMySystem<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>或者，如果需要防止空 GameInstance 的情况，可以使用以下方式：</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>UGameInstance<span class="token operator">*</span> GameInstance <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>\nUMyGameSubsystem<span class="token operator">*</span> MySubsystem <span class="token operator">=</span> UGameInstance<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">GetSubsystem</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyGameSubsystem<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>GameInstance<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>您还可以定义具有多个实现的接口。 接口示例：</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>MySystemInterface\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>具有两个具体的派生类：</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>MyA <span class="token operator">:</span> <span class="token keyword">public</span> MySystemInterface\nMyB <span class="token operator">:</span> <span class="token keyword">public</span> MySystemInterface\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>可通过以下方式访问：</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>UGameInstance<span class="token operator">*</span> GameInstance <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> TArray<span class="token operator">&lt;</span>UMyGameSubsystem<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> MySubsystems <span class="token operator">=</span> GameInstance<span class="token operator">-&gt;</span><span class="token generic-function"><span class="token function">GetSubsystemArray</span><span class="token generic class-name"><span class="token operator">&lt;</span>MyGameSubsystem<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="实践" tabindex="-1"><a class="header-anchor" href="#实践"><span>实践</span></a></h2>',4),m=(0,a.Lk)("figure",null,[(0,a.Lk)("img",{src:c,alt:"",tabindex:"0",loading:"lazy"}),(0,a.Lk)("figcaption")],-1),b=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"pragma"),(0,a.eW)(),(0,a.Lk)("span",{class:"token expression"},"once")]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"CoreMinimal.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"Subsystems/GameInstanceSubsystem.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"ExorcistGameInstanceSubsystem.generated.h"')]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token function"},"UCLASS"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"EXORCIST_API"),(0,a.eW)(" UExorcistGameInstanceSubsystem "),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.eW)(" UGameInstanceSubsystem\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"GENERATED_BODY"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\t\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),v=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"ExorcistGameInstanceSubsystem.h"')]),(0,a.eW)("\n\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),y=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token comment"},"// Copyright Epic Games, Inc. All Rights Reserved."),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"pragma"),(0,a.eW)(),(0,a.Lk)("span",{class:"token expression"},"once")]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"Subsystems/Subsystem.h"')]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"GameInstanceSubsystem.generated.h"')]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"UGameInstance"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token comment"},"/**\n * UGameInstanceSubsystem\n * Base class for auto instanced and initialized systems that share the lifetime of the game instance\n */"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token function"},"UCLASS"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("Abstract"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(" Within "),(0,a.Lk)("span",{class:"token operator"},"="),(0,a.eW)(" GameInstance"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"ENGINE_API"),(0,a.eW)(" UGameInstanceSubsystem "),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.eW)(" USubsystem\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"GENERATED_BODY"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"UGameInstanceSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\n\tUGameInstance"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"GetGameInstance"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"const"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),W=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token comment"},"// Copyright Epic Games, Inc. All Rights Reserved."),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"Subsystems/GameInstanceSubsystem.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"Engine/GameInstance.h"')]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token expression"},[(0,a.Lk)("span",{class:"token function"},"UE_INLINE_GENERATED_CPP_BY_NAME"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("GameInstanceSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},")")])]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token class-name"},"UGameInstanceSubsystem"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"UGameInstanceSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"USubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\nUGameInstance"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"UGameInstanceSubsystem"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"GetGameInstance"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"const"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"return"),(0,a.eW)(),(0,a.Lk)("span",{class:"token generic-function"},[(0,a.Lk)("span",{class:"token function"},"Cast"),(0,a.Lk)("span",{class:"token generic class-name"},[(0,a.Lk)("span",{class:"token operator"},"<"),(0,a.eW)("UGameInstance"),(0,a.Lk)("span",{class:"token operator"},">")])]),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token function"},"GetOuter"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),g=(0,a.Fv)('<ol><li><code>UGameInstanceSubsystem</code> 类是一个抽象基类，继承自 <code>USubsystem</code>。这是一个用于定义游戏实例子系统的基础类。</li></ol><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token function">UCLASS</span><span class="token punctuation">(</span>Abstract<span class="token punctuation">,</span> Within <span class="token operator">=</span> GameInstance<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li><p>构造函数 <code>UGameInstanceSubsystem::UGameInstanceSubsystem()</code> 初始化了子系统对象，调用基类 <code>USubsystem</code> 的构造函数。</p></li><li><p><code>UGameInstance* UGameInstanceSubsystem::GetGameInstance() const</code> 方法返回与该子系统关联的游戏实例指针。它使用 <code>GetOuter()</code> 函数获取该子系统的外部对象，并将其转换为 <code>UGameInstance</code> 类型。</p></li></ol>',3),h=(0,a.Lk)("p",null,[(0,a.eW)("除了构造函数就只剩这个常量指针函数"),(0,a.Lk)("code",null,"GetGameInstance"),(0,a.eW)("。")],-1),f=(0,a.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>UGameInstance<span class="token operator">*</span> <span class="token function">GetGameInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>',1),S=(0,a.Lk)("p",null,[(0,a.eW)("不对，一定要搞清楚这不是一个常量指针，而是一个常函数，只不过函数返回类型是一个指针"),(0,a.Lk)("code",null,"UGameInstance"),(0,a.eW)("。")],-1),G=(0,a.Fv)('<h3 id="常函数-常量指针" tabindex="-1"><a class="header-anchor" href="#常函数-常量指针"><span>常函数&amp;常量指针</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><h4 id="常函数" tabindex="-1"><a class="header-anchor" href="#常函数"><span>常函数</span></a></h4><blockquote><p>常函数（const member function）是一种承诺，表明在该函数内部不会修改调用对象的成员变量。这是通过在函数声明和定义中使用 const 关键字实现的。</p></blockquote><h4 id="常量指针" tabindex="-1"><a class="header-anchor" href="#常量指针"><span>常量指针</span></a></h4><blockquote><p><code>const int*p</code> 常量指针，是一种被限制（只读）修改指向值能力的指针。</p></blockquote><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div>',2),E=(0,a.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>UGameInstance<span class="token operator">*</span> <span class="token class-name">UGameInstanceSubsystem</span><span class="token double-colon punctuation">::</span><span class="token function">GetGameInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">return</span> <span class="token generic-function"><span class="token function">Cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>UGameInstance<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">GetOuter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),I=(0,a.Lk)("figure",null,[(0,a.Lk)("img",{src:i,alt:"",tabindex:"0",loading:"lazy"}),(0,a.Lk)("figcaption")],-1),U=(0,a.Lk)("figure",null,[(0,a.Lk)("img",{src:o,alt:"",tabindex:"0",loading:"lazy"}),(0,a.Lk)("figcaption")],-1),R=(0,a.Lk)("p",null,[(0,a.eW)("从源码上来看"),(0,a.Lk)("code",null,"GetOuter()"),(0,a.eW)(" 是 UObjectBase 类中的一个内联返回"),(0,a.Lk)("code",null,"UObject"),(0,a.eW)("指针的函数，用于获取当前对象的外部对象，即包含当前对象的对象。")],-1),w=(0,a.Lk)("figure",null,[(0,a.Lk)("img",{src:"data:image/png;base64,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",alt:"返回的就是",tabindex:"0",loading:"lazy"}),(0,a.Lk)("figcaption",null,[(0,a.eW)("返回的就是"),(0,a.Lk)("code",null,"UObject")])],-1),A=(0,a.Lk)("h3",{id:"defineforceinline-forceinline",tabindex:"-1"},[(0,a.Lk)("a",{class:"header-anchor",href:"#defineforceinline-forceinline"},[(0,a.Lk)("span",null,[(0,a.Lk)("code",null,"#defineFORCEINLINE__forceinline")])])],-1),x=(0,a.Lk)("p",null,[(0,a.eW)("FORCEINLINE是一个宏，也就是"),(0,a.Lk)("code",null,"__forceinline"),(0,a.eW)(" 用于强制将函数进行内联展开。")],-1),j=(0,a.Lk)("figure",null,[(0,a.Lk)("img",{src:k,alt:"",tabindex:"0",loading:"lazy"}),(0,a.Lk)("figcaption")],-1),F=(0,a.Lk)("p",null,[(0,a.eW)("可是为什么我能在 "),(0,a.Lk)("code",null,"UGameInstanceSubsystem"),(0,a.eW)(" 调到"),(0,a.Lk)("code",null,"UObjectBase"),(0,a.eW)("的成员函数呢？")],-1),O=(0,a.Lk)("p",null,[(0,a.eW)("这就和UE的继承结构有关了。这个类目开篇我们已经介绍过："),(0,a.Lk)("br"),(0,a.eW)(" UE中几乎所有类都继承自 "),(0,a.Lk)("code",null,"UObject"),(0,a.eW)("，"),(0,a.Lk)("code",null,"UGameInstanceSubsystem"),(0,a.eW)(" 类作为子系统也不例外。")],-1),C=(0,a.Fv)('<h3 id="继承特性" tabindex="-1"><a class="header-anchor" href="#继承特性"><span>继承特性</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在C++中，继承分为公有继承、保护继承和私有继承三种方式。 对于公有继承（public inheritance），子类可以调用父类的公开（public）成员函数.</p></div><div class="language-markdown line-numbers-mode" data-ext="md" data-title="md"><pre class="language-markdown"><code>             UObject————————————————————————————\n               |                                |\n           USubsystem                           |\n               |                                |\n UGameInstanceSubsystem——Cast<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UGameInstance</span><span class="token punctuation">&gt;</span></span>(GetOuter())\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>UObject</code> 是 Unreal Engine 中所有对象的基类。</li><li><code>USubsystem</code> 是一个子系统抽象类，继承自 <code>UObject</code>。</li><li><code>UGameInstanceSubsystem</code> 也是是一个子系统抽象类，继承自 <code>USubsystem</code>。</li><li></li></ul><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',5),Z=(0,a.Lk)("p",null,[(0,a.eW)("如果我们翻看其他类型的Subsystem,可以知道"),(0,a.Lk)("code",null,"GetOuter()"),(0,a.eW)("返回的指针各自转换成各自类型的指针，各自类型的指针意味着有各自的生命周期。")],-1),D=(0,a.Lk)("hr",null,null,-1),N=(0,a.Lk)("figure",null,[(0,a.Lk)("img",{src:u,alt:"",tabindex:"0",loading:"lazy"}),(0,a.Lk)("figcaption")],-1),Q=(0,a.Lk)("h3",{id:"抽象类",tabindex:"-1"},[(0,a.Lk)("a",{class:"header-anchor",href:"#抽象类"},[(0,a.Lk)("span",null,"抽象类")])],-1),z=(0,a.Lk)("div",{class:"hint-container note"},[(0,a.Lk)("p",{class:"hint-container-title"},"注"),(0,a.Lk)("p",null,"在C++中，学习继承和多态时我们知道，如果一个类包含至少一个纯虚函数，那么这个类就被认为是一个抽象类。")],-1),M=(0,a.Lk)("p",null,[(0,a.eW)("他标记成抽象类，且没有重写虚函数的操作，意味着某个父类中一定有一个纯虚函数。经过IDE追溯发现"),(0,a.Lk)("code",null,"USubsystem"),(0,a.eW)("中就有（见下面Subsystem头文件23行）")],-1),X=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token comment"},"// USubsystem 类是 UObject 的子类，用于定义子系统的基本结构。"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token function"},"UCLASS"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("Abstract"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token comment"},"//抽象类"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"ENGINE_API"),(0,a.eW)(" USubsystem "),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.eW)(" UObject\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"GENERATED_BODY"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"USubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.Lk)("span",{class:"token comment"},"//默认构造"),(0,a.eW)("\n\n\t"),(0,a.Lk)("span",{class:"token comment"},"/** 重写此函数以控制是否应创建子系统。\n\t * 例如，您可以仅在服务器上创建系统。\n\t * 需要注意的是，如果使用此功能，每次获取子系统时都很重要进行空指针检查。\n\t *\n\t * 注意：在创建实例之前，此函数在 CDO 上调用！\n\t *\n\t */"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"virtual"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"bool"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"ShouldCreateSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("UObject"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" Outer"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"const"),(0,a.eW)(),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"return"),(0,a.eW)(),(0,a.Lk)("span",{class:"token boolean"},"true"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)(),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\n\t"),(0,a.Lk)("span",{class:"token comment"},"/** 实例构造 */"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"virtual"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"void"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"Initialize"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("FSubsystemCollectionBase"),(0,a.Lk)("span",{class:"token operator"},"&"),(0,a.eW)(" Collection"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\n\t"),(0,a.Lk)("span",{class:"token comment"},"/** 析构 */"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"virtual"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"void"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"Deinitialize"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.Lk)("span",{class:"token comment"},"//纯虚函数"),(0,a.eW)("\n\n\t"),(0,a.Lk)("span",{class:"token comment"},"/** 重写以检查全局网络上下文 */"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"virtual"),(0,a.eW)(" int32 "),(0,a.Lk)("span",{class:"token function"},"GetFunctionCallspace"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("UFunction"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" Function"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(" FFrame"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" Stack"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"override"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"private"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"friend"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"FSubsystemCollectionBase"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\tFSubsystemCollectionBase"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" InternalOwningSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token comment"},'/** DynamicSubsystem 在模块加载和卸载时自动填充/清除现有集合的动态子系统\n *\n * 只有 UEngineSubsystems 和 UEditorSubsystems 允许动态加载。\n * \n * 如果您的子系统实例未被创建，可能是因为它们所在的模块未被显式加载，\n * 确保有一个 LoadModule("ModuleName") 来加载该模块。\n */'),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token function"},"UCLASS"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("Abstract"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"ENGINE_API"),(0,a.eW)(" UDynamicSubsystem "),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.eW)(" USubsystem\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"GENERATED_BODY"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"UDynamicSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n")])]),(0,a.Lk)("div",{class:"highlight-lines"},[(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("div",{class:"highlight-line"}," "),(0,a.Lk)("div",{class:"highlight-line"}," "),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br"),(0,a.Lk)("br")]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),H=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token comment"},"// Copyright Epic Games, Inc. All Rights Reserved."),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"Subsystems/Subsystem.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"Engine/Engine.h"')]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token expression"},[(0,a.Lk)("span",{class:"token function"},"UE_INLINE_GENERATED_CPP_BY_NAME"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("Subsystem"),(0,a.Lk)("span",{class:"token punctuation"},")")])]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token class-name"},"USubsystem"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"USubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\nint32 "),(0,a.Lk)("span",{class:"token class-name"},"USubsystem"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"GetFunctionCallspace"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("UFunction"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" Function"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(" FFrame"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" Stack"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"return"),(0,a.eW)(" GEngine"),(0,a.Lk)("span",{class:"token operator"},"->"),(0,a.Lk)("span",{class:"token function"},"GetGlobalFunctionCallspace"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("Function"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"this"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(" Stack"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token class-name"},"UDynamicSubsystem"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"UDynamicSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"USubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),P=(0,a.Fv)("<p><code>USubsystem</code>中定义了两个类 <code>USubsystem</code> 和 <code>UDynamicSubsystem</code>。</p><ol><li><p><strong>USubsystem 类：</strong></p><ul><li>继承自 <code>UObject</code>。</li><li>使用 <code>UCLASS(Abstract)</code> 宏标记为抽象类，表示不能直接实例化该类。</li><li>包含一个默认构造函数 <code>USubsystem()</code>。</li><li>提供了虚函数 <code>ShouldCreateSubsystem</code>，用于确定是否应该创建该子系统的实例。</li><li>包含虚函数 <code>Initialize</code> 用于实例初始化，和 <code>Deinitialize</code> 用于析构。</li><li>重写了 <code>GetFunctionCallspace</code> 函数，用于检查全局网络上下文。</li><li>包含一个私有成员 <code>InternalOwningSubsystem</code>，被声明为友元类 <code>FSubsystemCollectionBase</code> 的一个私有成员。</li></ul></li><li><p><strong>UDynamicSubsystem 类：</strong></p><ul><li>继承自 <code>USubsystem</code>，是 <code>USubsystem</code> 的一个子类。</li><li>使用 <code>UCLASS(Abstract)</code> 宏标记为抽象类，表示不能直接实例化该类。</li><li>包含一个默认构造函数 <code>UDynamicSubsystem()</code>。</li></ul></li></ol>",2),B=(0,a.Lk)("figure",null,[(0,a.Lk)("img",{src:r,alt:"",tabindex:"0",loading:"lazy"}),(0,a.Lk)("figcaption")],-1),T={href:"https://blog.csdn.net/yuxikuo_1/article/details/102628605",target:"_blank",rel:"noopener noreferrer"},K=(0,a.Lk)("br",null,null,-1),J=(0,a.Lk)("br",null,null,-1),q=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token comment"},"// Fill out your copyright notice in the Description page of Project Settings."),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"pragma"),(0,a.eW)(),(0,a.Lk)("span",{class:"token expression"},"once")]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"CoreMinimal.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"Subsystems/GameInstanceSubsystem.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"ExorcistGameInstanceSubsystem.generated.h"')]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"UGameSingleton"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token comment"},"/**\n * \n */"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token function"},"UCLASS"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"EXORCIST_API"),(0,a.eW)(" UExorcistGameInstanceSubsystem "),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.eW)(" UGameInstanceSubsystem\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"GENERATED_BODY"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token comment"},"//是否创建这个子系统"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"virtual"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"bool"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"ShouldCreateSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("UObject"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" Outer"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("  "),(0,a.Lk)("span",{class:"token keyword"},"const"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"override"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token comment"},"//初始化"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"virtual"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"void"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"Initialize"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("FSubsystemCollectionBase"),(0,a.Lk)("span",{class:"token operator"},"&"),(0,a.eW)(" Collection"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"override"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token comment"},"//销毁"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"virtual"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"void"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"Deinitialize"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"override"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"UPROPERTY"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("BlueprintReadWrite"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\tint32 HP"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"private"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\tUGameSingleton"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" UGameSingleton"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),V=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token comment"},"// Fill out your copyright notice in the Description page of Project Settings."),(0,a.eW)("\n\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"ExorcistGameInstanceSubsystem.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"GameSingleton.h"')]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"bool"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"UExorcistGameInstanceSubsystem"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"ShouldCreateSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("UObject"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" Outer"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"const"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"return"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"Super"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"ShouldCreateSubsystem"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("Outer"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"void"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"UExorcistGameInstanceSubsystem"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"Initialize"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("FSubsystemCollectionBase"),(0,a.Lk)("span",{class:"token operator"},"&"),(0,a.eW)(" Collection"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token class-name"},"Super"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"Initialize"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("Collection"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\tUGameSingleton "),(0,a.Lk)("span",{class:"token operator"},"="),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"UGameSingleton"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"GetInstance"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\tUGameSingleton"),(0,a.Lk)("span",{class:"token operator"},"->"),(0,a.eW)("InstanceCount"),(0,a.Lk)("span",{class:"token operator"},"++"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\tGEngine"),(0,a.Lk)("span",{class:"token operator"},"->"),(0,a.Lk)("span",{class:"token function"},"AddOnScreenDebugMessage"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token operator"},"-"),(0,a.Lk)("span",{class:"token number"},"1"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(),(0,a.Lk)("span",{class:"token number"},"5.f"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(" FColor"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.eW)("Red"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"FString"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"Printf"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token function"},"TEXT"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token string"},'"InstanceCount:%d"'),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(" UGameSingleton"),(0,a.Lk)("span",{class:"token operator"},"->"),(0,a.eW)("InstanceCount"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token keyword"},"void"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"UExorcistGameInstanceSubsystem"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"Deinitialize"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token class-name"},"Super"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"Deinitialize"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\tUGameSingleton"),(0,a.Lk)("span",{class:"token operator"},"->"),(0,a.eW)("InstanceCount"),(0,a.Lk)("span",{class:"token operator"},"++"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\tGEngine"),(0,a.Lk)("span",{class:"token operator"},"->"),(0,a.Lk)("span",{class:"token function"},"AddOnScreenDebugMessage"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token operator"},"-"),(0,a.Lk)("span",{class:"token number"},"1"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(),(0,a.Lk)("span",{class:"token number"},"5.f"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(" FColor"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.eW)("Red"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"FString"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"Printf"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token function"},"TEXT"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token string"},'"InstanceCount:%d"'),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)(" UGameSingleton"),(0,a.Lk)("span",{class:"token operator"},"->"),(0,a.eW)("InstanceCount"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),Y=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"pragma"),(0,a.eW)(),(0,a.Lk)("span",{class:"token expression"},"once")]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"CoreMinimal.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"UObject/ObjectMacros.h"')]),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"GameSingleton.generated.h"')]),(0,a.eW)("\n\n"),(0,a.Lk)("span",{class:"token function"},"UCLASS"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("Blueprintable"),(0,a.Lk)("span",{class:"token punctuation"},","),(0,a.eW)("BlueprintType"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"class"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"EXORCIST_API"),(0,a.eW)(" UGameSingleton "),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)(),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.eW)(" UObject\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"GENERATED_BODY"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\t\n"),(0,a.Lk)("span",{class:"token keyword"},"private"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t "),(0,a.Lk)("span",{class:"token function"},"UGameSingleton"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)(),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"UFUNCTION"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("BlueprintCallable"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"static"),(0,a.eW)(" UGameSingleton"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(),(0,a.Lk)("span",{class:"token function"},"GetInstance"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token keyword"},"public"),(0,a.Lk)("span",{class:"token operator"},":"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token function"},"UPROPERTY"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("BlueprintReadWrite"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\tint32 InstanceCount "),(0,a.Lk)("span",{class:"token operator"},"="),(0,a.eW)(),(0,a.Lk)("span",{class:"token number"},"30"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\n\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),_=(0,a.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,a.Lk)("pre",{class:"language-cpp"},[(0,a.Lk)("code",null,[(0,a.Lk)("span",{class:"token macro property"},[(0,a.Lk)("span",{class:"token directive-hash"},"#"),(0,a.Lk)("span",{class:"token directive keyword"},"include"),(0,a.eW)(),(0,a.Lk)("span",{class:"token string"},'"GameSingleton.h"')]),(0,a.eW)("\n\nUGameSingleton"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(),(0,a.Lk)("span",{class:"token class-name"},"UGameSingleton"),(0,a.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,a.Lk)("span",{class:"token function"},"GetInstance"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"static"),(0,a.eW)(" UGameSingleton"),(0,a.Lk)("span",{class:"token operator"},"*"),(0,a.eW)(" instance"),(0,a.Lk)("span",{class:"token operator"},"="),(0,a.Lk)("span",{class:"token keyword"},"nullptr"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"if"),(0,a.eW)(),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.eW)("instance"),(0,a.Lk)("span",{class:"token operator"},"=="),(0,a.Lk)("span",{class:"token keyword"},"nullptr"),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token punctuation"},"{"),(0,a.eW)("\n\t\tinstance"),(0,a.Lk)("span",{class:"token operator"},"="),(0,a.Lk)("span",{class:"token generic-function"},[(0,a.Lk)("span",{class:"token function"},"NewObject"),(0,a.Lk)("span",{class:"token generic class-name"},[(0,a.Lk)("span",{class:"token operator"},"<"),(0,a.eW)("UGameSingleton"),(0,a.Lk)("span",{class:"token operator"},">")])]),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\t\tinstance"),(0,a.Lk)("span",{class:"token operator"},"->"),(0,a.Lk)("span",{class:"token function"},"AddToRoot"),(0,a.Lk)("span",{class:"token punctuation"},"("),(0,a.Lk)("span",{class:"token punctuation"},")"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n\t"),(0,a.Lk)("span",{class:"token keyword"},"return"),(0,a.eW)(" instance"),(0,a.Lk)("span",{class:"token punctuation"},";"),(0,a.eW)("\n"),(0,a.Lk)("span",{class:"token punctuation"},"}"),(0,a.eW)("\n")])]),(0,a.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"}),(0,a.Lk)("div",{class:"line-number"})])],-1),$=(0,a.Lk)("blockquote",null,[(0,a.Lk)("p",null,"编译运行后任意关卡启动。")],-1),nn=(0,a.Lk)("br",null,null,-1),sn={},en=(0,e(66262).A)(sn,[["render",function(n,s){const e=(0,a.g2)("chatmessage"),t=(0,a.g2)("CodeTabs"),c=(0,a.g2)("ExternalLinkIcon"),l=(0,a.g2)("gifwithbutton");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(e,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 什么是子系统？ ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 虚幻引擎中的子系统是生命周期受控的自动实例化类。 ")])),_:1}),d,(0,a.bF)(e,{avatar:"../../assets/emoji/bqb (1).png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 按照惯例，先看官方源码注释 ")])),_:1}),L,(0,a.bF)(e,{avatar:"../../assets/emoji/new1.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 按照官方文档做一遍。 ")])),_:1}),m,(0,a.bF)(t,{id:"50",data:[{id:"ExorcistGameInstanceSubsystem.h"},{id:"ExorcistGameInstanceSubsystem.cpp"}],"tab-id":"language"},{title0:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("ExorcistGameInstanceSubsystem.h")])),title1:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("ExorcistGameInstanceSubsystem.cpp")])),tab0:(0,a.k6)((({value:n,isActive:s})=>[b])),tab1:(0,a.k6)((({value:n,isActive:s})=>[v])),_:1},8,["data"]),(0,a.bF)(e,{avatar:"../../assets/emoji/bqb (6).png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 看来并没有什么特殊的，咱的类继承了UGameInstanceSubsystem，那么我们康康UGameInstanceSubsystem里面写了什么。 ")])),_:1}),(0,a.bF)(t,{id:"59",data:[{id:"GameInstanceSubsystem.h"},{id:"GameInstanceSubsystem.cpp"}],"tab-id":"language"},{title0:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("GameInstanceSubsystem.h")])),title1:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("GameInstanceSubsystem.cpp")])),tab0:(0,a.k6)((({value:n,isActive:s})=>[y])),tab1:(0,a.k6)((({value:n,isActive:s})=>[W])),_:1},8,["data"]),(0,a.bF)(e,{avatar:"../../assets/emoji/bqb (4).png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 好像也没什么特别的，大概就是这些内容 ")])),_:1}),g,(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[h])),_:1}),f,(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[S])),_:1}),G,(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" GetGameInstance函数定义中的GetOuter()到底是什么啊？ ")])),_:1}),E,(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" Cast是一个模板函数，很显然这里将GetOuter()返回值强转成UGameInstance类指针 ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 我看网友是这样介绍Outer的 ")])),_:1}),I,(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 那么请问你看完后理解了吗？ ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 一知半解。 ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 既然咱们理解不了，咱们应该抛开现象看本质，康康这个到底是一个什么东西！ ")])),_:1}),U,(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[R])),_:1}),w,(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 这里的FORCEINLINE是什么？ ")])),_:1}),A,(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[x])),_:1}),j,(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[F])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[O])),_:1}),C,(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 也就是说通过GetOuter()将`UObject`指针强制转成`UGameInstance`类指针。然后绑定关联UGameInstance到UGameInstanceSubsystem是吗。 ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 是的，这样我们可以直接通过UGameInstanceSubsystem访问UGameInstance。 ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 我有个疑问，既然他都是UObject指针，他们的生命周期是怎么判定的？ ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[Z])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 自此，`UGameInstanceSubsystem`表象已经被我们摸透。 ")])),_:1}),D,(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 既然是抽象基类，就意味着有纯虚函数接口。 ")])),_:1}),N,(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 这里除了一个构造函数和游戏实例指针也没有看到虚函数接口啊。 ")])),_:1}),Q,z,(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[M])),_:1}),(0,a.bF)(t,{id:"225",data:[{id:"USubsystem.h"},{id:"USubsystem.cpp"}],"tab-id":"language"},{title0:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("USubsystem.h")])),title1:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("USubsystem.cpp")])),tab0:(0,a.k6)((({value:n,isActive:s})=>[X])),tab1:(0,a.k6)((({value:n,isActive:s})=>[H])),_:1},8,["data"]),(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 还真的是耶！ ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 现在我们来分析一下代码。 ")])),_:1}),P,(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 我看到注释里有个CDO是什么意思啊。 ")])),_:1}),B,(0,a.Lk)("p",null,[(0,a.Lk)("a",T,[(0,a.eW)("Class Default Object"),(0,a.bF)(c)])]),(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 我还注意到这里有个友元类 `FSubsystemCollectionBase` 是用来干什么呢？ ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""}),(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 那么，我们应该在我们的继承类里面写哪些东西呢？ ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 1.重写至少一个纯虚函数接口，让他变成非抽象类。"),K,(0,a.eW)(" 2.写入一些测试成员变量或者成员函数。"),J,(0,a.eW)(" 3.可以拿我们之前的单例做一次联动测试。 ")])),_:1}),(0,a.bF)(t,{id:"316",data:[{id:"ExorcistGameInstanceSubsystem.h"},{id:"ExorcistGameInstanceSubsystem.cpp"}],"tab-id":"language"},{title0:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("ExorcistGameInstanceSubsystem.h")])),title1:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("ExorcistGameInstanceSubsystem.cpp")])),tab0:(0,a.k6)((({value:n,isActive:s})=>[q])),tab1:(0,a.k6)((({value:n,isActive:s})=>[V])),_:1},8,["data"]),(0,a.bF)(t,{id:"324",data:[{id:"GameSingleton.h"},{id:"GameSingleton.cpp"}],"tab-id":"language"},{title0:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("GameSingleton.h")])),title1:(0,a.k6)((({value:n,isActive:s})=>[(0,a.eW)("GameSingleton.cpp")])),tab0:(0,a.k6)((({value:n,isActive:s})=>[Y])),tab1:(0,a.k6)((({value:n,isActive:s})=>[_])),_:1},8,["data"]),$,(0,a.bF)(l,{src:"../../assets/unrealgif/singtongif.gif"}),(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 可是你明明已经重新运行了为什么打印的数字还是继续递增了？ ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 咱们在单例中介绍过了，我们实现的单例生命周期等同于GEngine，而自增运算符是对自身的运算操作，所以每次都会继续递增。 ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/hh.png",avatarWidth:40},{default:(0,a.k6)((()=>[(0,a.eW)(" 可是为什么每次会增加两个数字呢？ ")])),_:1}),(0,a.bF)(e,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,a.k6)((()=>[(0,a.eW)(" 这就和我们实现的子系统有关了，我们在构造和析构各自调用了一次自增操作。重运行游戏，意味着重启游戏实例状态。"),nn,(0,a.eW)(" 而我们的`GameInstanceSubsystem`的生命周期等同于`GameInstance`每次游戏停止，就会执行一次析构函数。 ")])),_:1})])}]]),an=JSON.parse('{"path":"/unreal/core_%E6%A0%B8%E5%BF%83_/4-Subsystem.html","title":"c4.Subsystem|子系统","lang":"zh-CN","frontmatter":{"title":"c4.Subsystem|子系统","order":400,"category":["u++"],"description":"文档翻译 注 子系统是自动实例化的类，与特定引擎构造的生命周期共享 当前支持的子系统生命周期有： 常规示例： 可通过以下方式访问： 或者，如果需要防止空 GameInstance 的情况，可以使用以下方式： 您还可以定义具有多个实现的接口。 接口示例： 具有两个具体的派生类： 可通过以下方式访问： 实践 UGameInstanceSubsystem 类...","head":[["meta",{"property":"og:url","content":"https://rendertool.github.io/RenderDoc/RenderDoc/unreal/core_%E6%A0%B8%E5%BF%83_/4-Subsystem.html"}],["meta",{"property":"og:site_name","content":"RenderDoc"}],["meta",{"property":"og:title","content":"c4.Subsystem|子系统"}],["meta",{"property":"og:description","content":"文档翻译 注 子系统是自动实例化的类，与特定引擎构造的生命周期共享 当前支持的子系统生命周期有： 常规示例： 可通过以下方式访问： 或者，如果需要防止空 GameInstance 的情况，可以使用以下方式： 您还可以定义具有多个实现的接口。 接口示例： 具有两个具体的派生类： 可通过以下方式访问： 实践 UGameInstanceSubsystem 类..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-17T00:40:22.000Z"}],["meta",{"property":"article:author","content":"Mr.Si"}],["meta",{"property":"article:modified_time","content":"2024-02-17T00:40:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"c4.Subsystem|子系统\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-02-17T00:40:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Si\\",\\"url\\":\\"https://rendertool.github.io/RenderDoc/\\"}]}"]]},"headers":[{"level":3,"title":"文档翻译","slug":"文档翻译","link":"#文档翻译","children":[]},{"level":2,"title":"实践","slug":"实践","link":"#实践","children":[{"level":3,"title":"常函数&常量指针","slug":"常函数-常量指针","link":"#常函数-常量指针","children":[]},{"level":3,"title":"#defineFORCEINLINE__forceinline","slug":"defineforceinline-forceinline","link":"#defineforceinline-forceinline","children":[]},{"level":3,"title":"继承特性","slug":"继承特性","link":"#继承特性","children":[]},{"level":3,"title":"抽象类","slug":"抽象类","link":"#抽象类","children":[]}]}],"git":{"createdTime":1704306851000,"updatedTime":1708130422000,"contributors":[{"name":"sigaohe","email":"750831855@qq.com","commits":3}]},"readingTime":{"minutes":9.21,"words":2764},"filePathRelative":"unreal/core[核心]/4-Subsystem.md","localizedDate":"2024年1月3日","excerpt":"\\n\\n<figure><figcaption></figcaption></figure>\\n\\n<div class=\\"language-cpp\\" data-ext=\\"cpp\\" data-title=\\"cpp\\"><pre class=\\"language-cpp\\"><code><span class=\\"token comment\\">/** Subsystems are auto instanced classes that share the lifetime of certain engine constructs\\n * \\n *\\tCurrently supported Subsystem lifetimes are:\\n *\\t\\tEngine\\t\\t -&gt; inherit UEngineSubsystem\\n *\\t\\tEditor\\t\\t -&gt; inherit UEditorSubsystem\\n *\\t\\tGameInstance -&gt; inherit UGameInstanceSubsystem\\n *\\t\\tWorld\\t\\t -&gt; inherit UWorldSubsystem\\n *\\t\\tLocalPlayer\\t -&gt; inherit ULocalPlayerSubsystem\\n *\\n *\\n *\\tNormal Example:\\n *\\t\\tclass UMySystem : public UGameInstanceSubsystem\\n *\\tWhich can be accessed by:\\n *\\t\\tUGameInstance* GameInstance = ...;\\n *\\t\\tUMySystem* MySystem = GameInstance-&gt;GetSubsystem&lt;UMySystem&gt;();\\n *\\n *\\tor the following if you need protection from a null GameInstance\\n *\\t\\tUGameInstance* GameInstance = ...;\\n *\\t\\tUMyGameSubsystem* MySubsystem = UGameInstance::GetSubsystem&lt;MyGameSubsystem&gt;(GameInstance);\\n *\\n *\\n *\\tYou can get also define interfaces that can have multiple implementations.\\n *\\tInterface Example :\\n *      MySystemInterface\\n *    With 2 concrete derivative classes:\\n *      MyA : public MySystemInterface\\n *      MyB : public MySystemInterface\\n *\\n *\\tWhich can be accessed by:\\n *\\t\\tUGameInstance* GameInstance = ...;\\n *\\t\\tconst TArray&lt;UMyGameSubsystem*&gt;&amp; MySubsystems = GameInstance-&gt;GetSubsystemArray&lt;MyGameSubsystem&gt;();\\n *\\n */</span>\\n</code></pre></div>","autoDesc":true}')}}]);