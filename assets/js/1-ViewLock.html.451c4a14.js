"use strict";(self.webpackChunkrenderdoc=self.webpackChunkrenderdoc||[]).push([[7816],{22876:(A,n,a)=>{a.r(n),a.d(n,{comp:()=>H,data:()=>F});var s=a(20641);const t=a.p+"assets/img/viewlock001.2f65489f.jpg",e=a.p+"assets/img/viewlock002.25ca1d5d.jpg",o=a.p+"assets/img/viewlock003.a0ecb945.jpg",p=a.p+"assets/img/viewlock004.871bf436.jpg",i=a.p+"assets/img/viewlock005.968edf09.jpg",c=(0,s.Lk)("h3",{id:"思考",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#思考"},[(0,s.Lk)("span",null,"思考")])],-1),l=(0,s.Lk)("figure",null,[(0,s.Lk)("img",{src:t,alt:"",tabindex:"0",loading:"lazy"}),(0,s.Lk)("figcaption")],-1),u=(0,s.Lk)("h2",{id:"方案1",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#方案1"},[(0,s.Lk)("span",null,"方案1")])],-1),r=(0,s.Lk)("h3",{id:"发射简单射线",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#发射简单射线"},[(0,s.Lk)("span",null,"发射简单射线")])],-1),k=(0,s.Lk)("figure",null,[(0,s.Lk)("img",{src:"data:image/jpeg;base64,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",alt:"",tabindex:"0",loading:"lazy"}),(0,s.Lk)("figcaption")],-1),d=(0,s.Lk)("h3",{id:"方案1-问题",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#方案1-问题"},[(0,s.Lk)("span",null,"方案1|问题")])],-1),v=(0,s.Lk)("figure",null,[(0,s.Lk)("img",{src:e,alt:"",tabindex:"0",loading:"lazy"}),(0,s.Lk)("figcaption")],-1),m=(0,s.Lk)("ol",null,[(0,s.Lk)("li",null,"单纯的射线并不适合用来检测物体。"),(0,s.Lk)("li",null,"需要一个极限检测距离。"),(0,s.Lk)("li",null,"需要一个极限脱离距离。")],-1),b=(0,s.Lk)("h2",{id:"方案2",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#方案2"},[(0,s.Lk)("span",null,"方案2")])],-1),g=(0,s.Lk)("h3",{id:"球状射线检测",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#球状射线检测"},[(0,s.Lk)("span",null,"球状射线检测")])],-1),w=(0,s.Lk)("figure",null,[(0,s.Lk)("img",{src:o,alt:"",tabindex:"0",loading:"lazy"}),(0,s.Lk)("figcaption")],-1),h=(0,s.Lk)("h3",{id:"方案2-问题",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#方案2-问题"},[(0,s.Lk)("span",null,"方案2|问题")])],-1),L=(0,s.Lk)("figure",null,[(0,s.Lk)("img",{src:p,alt:"",tabindex:"0",loading:"lazy"}),(0,s.Lk)("figcaption")],-1),f=(0,s.Fv)('<h2 id="方案3" tabindex="-1"><a class="header-anchor" href="#方案3"><span>方案3</span></a></h2><h3 id="球状射线检测-视口中心夹角计算" tabindex="-1"><a class="header-anchor" href="#球状射线检测-视口中心夹角计算"><span>球状射线检测+视口中心夹角计算</span></a></h3><figure><img src="'+i+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="原理说明" tabindex="-1"><a class="header-anchor" href="#原理说明"><span>原理说明</span></a></h3><ol><li><strong>发射球形射线</strong>：确定所有与球体相交的物体。</li><li><strong>计算每个物体的夹角</strong>：评估物体相对于视口方向的角度。</li><li><strong>选择最小夹角物体</strong>：找到夹角最小的物体作为最终结果。</li></ol>',5),y=(0,s.Fv)('<h3 id="核心函数" tabindex="-1"><a class="header-anchor" href="#核心函数"><span>核心函数</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>AActor<span class="token operator">*</span> <span class="token class-name">UViewLockComponent</span><span class="token double-colon punctuation">::</span><span class="token function">GetNearestFocusActor</span><span class="token punctuation">(</span>ETraceType TraceType<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ViewController<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 获取控制器视口位置和方向</span>\n    FVector ViewportLocation<span class="token punctuation">;</span>\n    FRotator ViewportRotation<span class="token punctuation">;</span>\n    ViewController<span class="token operator">-&gt;</span><span class="token function">GetPlayerViewPoint</span><span class="token punctuation">(</span>ViewportLocation<span class="token punctuation">,</span> ViewportRotation<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// 以用户组件位置为起点</span>\n    <span class="token keyword">const</span> FVector StaLocation <span class="token operator">=</span> <span class="token function">GetOwner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">GetActorLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">// 视口朝向*距离为终点</span>\n    <span class="token keyword">const</span> FVector EndLocation <span class="token operator">=</span> StaLocation <span class="token operator">+</span> ViewportRotation<span class="token punctuation">.</span><span class="token function">Vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> LockViewAttribute<span class="token punctuation">.</span>MaxFocusDist<span class="token punctuation">;</span>\n\n    <span class="token comment">// 根据枚举值选择执行的追踪方法</span>\n\t<span class="token keyword">switch</span> <span class="token punctuation">(</span>TraceType<span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t<span class="token keyword">case</span> ETraceType<span class="token double-colon punctuation">::</span>Single<span class="token operator">:</span>\n\t\t<span class="token keyword">return</span> <span class="token function">PerformSingleTrace</span><span class="token punctuation">(</span>StaLocation<span class="token punctuation">,</span> EndLocation<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token keyword">case</span> ETraceType<span class="token double-colon punctuation">::</span>Multi<span class="token operator">:</span>\n\t\t<span class="token keyword">return</span> <span class="token function">PerformMultiTrace</span><span class="token punctuation">(</span>ViewportLocation<span class="token punctuation">,</span> ViewportRotation<span class="token punctuation">,</span> StaLocation<span class="token punctuation">,</span> EndLocation<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token keyword">default</span><span class="token operator">:</span>\n\t\t<span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">//方案2</span>\nAActor<span class="token operator">*</span> <span class="token class-name">UViewLockComponent</span><span class="token double-colon punctuation">::</span><span class="token function">PerformSingleTrace</span><span class="token punctuation">(</span><span class="token keyword">const</span> FVector<span class="token operator">&amp;</span> StaLocation<span class="token punctuation">,</span> <span class="token keyword">const</span> FVector<span class="token operator">&amp;</span> EndLocation<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    FHitResult OutHit<span class="token punctuation">;</span>\n    <span class="token class-name">UKismetSystemLibrary</span><span class="token double-colon punctuation">::</span><span class="token function">SphereTraceSingleForObjects</span><span class="token punctuation">(</span>\n        <span class="token keyword">this</span><span class="token punctuation">,</span>\n        StaLocation<span class="token punctuation">,</span>\n        EndLocation<span class="token punctuation">,</span>\n        LockViewAttribute<span class="token punctuation">.</span>ViewHalfSize<span class="token punctuation">,</span>\n        LockViewAttribute<span class="token punctuation">.</span>ObjectTypes<span class="token punctuation">,</span>\n        <span class="token boolean">false</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n        LockViewAttribute<span class="token punctuation">.</span>DebugType<span class="token punctuation">,</span>\n        OutHit<span class="token punctuation">,</span>\n        <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> OutHit<span class="token punctuation">.</span><span class="token function">GetActor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token comment">//方案3</span>\nAActor<span class="token operator">*</span> <span class="token class-name">UViewLockComponent</span><span class="token double-colon punctuation">::</span><span class="token function">PerformMultiTrace</span><span class="token punctuation">(</span><span class="token keyword">const</span> FVector<span class="token operator">&amp;</span> ViewportLocation<span class="token punctuation">,</span> <span class="token keyword">const</span> FRotator<span class="token operator">&amp;</span> ViewportRotation<span class="token punctuation">,</span> <span class="token keyword">const</span> FVector<span class="token operator">&amp;</span> StaLocation<span class="token punctuation">,</span> <span class="token keyword">const</span> FVector<span class="token operator">&amp;</span> EndLocation<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    TArray<span class="token operator">&lt;</span>FHitResult<span class="token operator">&gt;</span> OutHits<span class="token punctuation">;</span>\n    <span class="token class-name">UKismetSystemLibrary</span><span class="token double-colon punctuation">::</span><span class="token function">SphereTraceMultiForObjects</span><span class="token punctuation">(</span>\n        <span class="token keyword">this</span><span class="token punctuation">,</span>\n        StaLocation<span class="token punctuation">,</span>\n        EndLocation<span class="token punctuation">,</span>\n        LockViewAttribute<span class="token punctuation">.</span>ViewHalfSize<span class="token punctuation">,</span>\n        LockViewAttribute<span class="token punctuation">.</span>ObjectTypes<span class="token punctuation">,</span>\n        <span class="token boolean">false</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n        LockViewAttribute<span class="token punctuation">.</span>DebugType<span class="token punctuation">,</span>\n        OutHits<span class="token punctuation">,</span>\n        <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>OutHits<span class="token punctuation">.</span><span class="token function">Num</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">float</span> MinAngle <span class="token operator">=</span> MAX_FLT<span class="token punctuation">;</span>\n    AActor<span class="token operator">*</span> NearestActor <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>\n\t\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> FHitResult<span class="token operator">&amp;</span> Hit <span class="token operator">:</span> OutHits<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        AActor<span class="token operator">*</span> HitActor <span class="token operator">=</span> Hit<span class="token punctuation">.</span><span class="token function">GetActor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>HitActor<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token comment">// 获取物体位置</span>\n            FVector ActorLocation <span class="token operator">=</span> HitActor<span class="token operator">-&gt;</span><span class="token function">GetActorLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n            <span class="token comment">// 计算物体与玩家视口方向的向量</span>\n            FVector ToActor <span class="token operator">=</span> ActorLocation <span class="token operator">-</span> ViewportLocation<span class="token punctuation">;</span>\n            ToActor<span class="token punctuation">.</span><span class="token function">Normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n            <span class="token comment">// 计算玩家视口方向的向量</span>\n            FVector ViewDirection <span class="token operator">=</span> ViewportRotation<span class="token punctuation">.</span><span class="token function">Vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n            <span class="token comment">// 计算物体与玩家视口方向的夹角</span>\n            <span class="token keyword">float</span> Angle <span class="token operator">=</span> <span class="token class-name">FMath</span><span class="token double-colon punctuation">::</span><span class="token function">RadiansToDegrees</span><span class="token punctuation">(</span><span class="token class-name">FMath</span><span class="token double-colon punctuation">::</span><span class="token function">Acos</span><span class="token punctuation">(</span><span class="token class-name">FVector</span><span class="token double-colon punctuation">::</span><span class="token function">DotProduct</span><span class="token punctuation">(</span>ToActor<span class="token punctuation">,</span> ViewDirection<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n            <span class="token comment">// 更新最小夹角和对应的物体</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>Angle <span class="token operator">&lt;</span> MinAngle<span class="token punctuation">)</span>\n            <span class="token punctuation">{</span>\n                MinAngle <span class="token operator">=</span> Angle<span class="token punctuation">;</span>\n                NearestActor <span class="token operator">=</span> HitActor<span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> NearestActor<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',2),W={},H=(0,a(66262).A)(W,[["render",function(A,n){const a=(0,s.g2)("chatmessage"),t=(0,s.g2)("gifwithbutton");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(a,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40},{default:(0,s.k6)((()=>[(0,s.eW)(" Baba!我想做一个辅助锁敌插件！ ")])),_:1}),c,(0,s.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,s.k6)((()=>[(0,s.eW)(" 没明白你想要做什么？ ")])),_:1}),(0,s.bF)(a,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40},{default:(0,s.k6)((()=>[(0,s.eW)(" 锁敌锁敌，顾名思义就是类似老头环那种，屏幕中心出现一个辅助瞄准UI玩家视角会自动瞄准吸附到锁定对象上！ ")])),_:1}),l,(0,s.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,s.k6)((()=>[(0,s.eW)(" 说说你的理解 ")])),_:1}),u,r,(0,s.bF)(a,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40},{default:(0,s.k6)((()=>[(0,s.eW)(" 无非就是发射一道射线然后锁定相机到物体上。 ")])),_:1}),k,d,(0,s.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,s.k6)((()=>[(0,s.eW)(" 你这种方案过于简单了，大的物体勉强凑合。如果有这种小的物体阁下如何应对？ ")])),_:1}),v,(0,s.bF)(a,{avatar:"../../assets/emoji/blzt.png",avatarWidth:40,alignLeft:""},{default:(0,s.k6)((()=>[(0,s.eW)(" 射线检测的距离如果极远，则会出现这种尴尬场景。 ")])),_:1}),(0,s.bF)(t,{src:"../../assets/unrealgif/hpup38.gif"}),(0,s.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,s.k6)((()=>[(0,s.eW)(" 这难道不是你自己菜吗（小声bb）瞄准到对面了嘛？ ")])),_:1}),(0,s.bF)(a,{avatar:"../../assets/emoji/blzt.png",avatarWidth:40,alignLeft:""},{default:(0,s.k6)((()=>[(0,s.eW)(" 至少我们可以确定以下几点： ")])),_:1}),m,b,g,(0,s.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,s.k6)((()=>[(0,s.eW)(" 既然不好瞄准发射一道球状射线，然后获取最先碰到的物体不就行了？ ")])),_:1}),w,h,(0,s.bF)(a,{avatar:"../../assets/emoji/blzt.png",avatarWidth:40,alignLeft:""},{default:(0,s.k6)((()=>[(0,s.eW)(" 想法很不错！但你是否考虑过下图的情况？你的瞄准目标是远方的物体，实际锁定的确实右边这个物体。 ")])),_:1}),L,(0,s.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,s.k6)((()=>[(0,s.eW)(" 给我整不会了！球状射线能检测到多个物体，可是最近的这个物体不一定是我想要的物体！ ")])),_:1}),f,(0,s.bF)(a,{avatar:"../../assets/emoji/blzt.png",avatarWidth:40,alignLeft:""},{default:(0,s.k6)((()=>[(0,s.eW)(" 这样的方法确保了找到的物体不仅在视口范围内，而且是最接近视口中心方向的物体。 ")])),_:1}),y])}]]),F=JSON.parse('{"path":"/unreal/plugins_%E6%8F%92%E4%BB%B6_/1-ViewLock.html","title":"P1.ViewLock","lang":"zh-CN","frontmatter":{"title":"P1.ViewLock","order":1,"category":["unreal"],"description":"思考 方案1 发射简单射线 方案1|问题","head":[["meta",{"property":"og:url","content":"https://rendertool.github.io/RenderDoc/RenderDoc/unreal/plugins_%E6%8F%92%E4%BB%B6_/1-ViewLock.html"}],["meta",{"property":"og:site_name","content":"RenderDoc"}],["meta",{"property":"og:title","content":"P1.ViewLock"}],["meta",{"property":"og:description","content":"思考 方案1 发射简单射线 方案1|问题"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-03T12:34:54.000Z"}],["meta",{"property":"article:author","content":"Mr.Si"}],["meta",{"property":"article:modified_time","content":"2024-07-03T12:34:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"P1.ViewLock\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-07-03T12:34:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Si\\",\\"url\\":\\"https://rendertool.github.io/RenderDoc/\\"}]}"]]},"headers":[{"level":3,"title":"思考","slug":"思考","link":"#思考","children":[]},{"level":2,"title":"方案1","slug":"方案1","link":"#方案1","children":[{"level":3,"title":"发射简单射线","slug":"发射简单射线","link":"#发射简单射线","children":[]},{"level":3,"title":"方案1|问题","slug":"方案1-问题","link":"#方案1-问题","children":[]}]},{"level":2,"title":"方案2","slug":"方案2","link":"#方案2","children":[{"level":3,"title":"球状射线检测","slug":"球状射线检测","link":"#球状射线检测","children":[]},{"level":3,"title":"方案2|问题","slug":"方案2-问题","link":"#方案2-问题","children":[]}]},{"level":2,"title":"方案3","slug":"方案3","link":"#方案3","children":[{"level":3,"title":"球状射线检测+视口中心夹角计算","slug":"球状射线检测-视口中心夹角计算","link":"#球状射线检测-视口中心夹角计算","children":[]},{"level":3,"title":"原理说明","slug":"原理说明","link":"#原理说明","children":[]},{"level":3,"title":"核心函数","slug":"核心函数","link":"#核心函数","children":[]}]}],"git":{"createdTime":1720001475000,"updatedTime":1720010094000,"contributors":[{"name":"sigaohe","email":"750831855@qq.com","commits":7}]},"readingTime":{"minutes":2.92,"words":875},"filePathRelative":"unreal/plugins[插件]/1-ViewLock.md","localizedDate":"2024年7月3日","excerpt":"\\n<h3>思考</h3>\\n\\n\\n<figure><figcaption></figcaption></figure>\\n\\n<h2>方案1</h2>\\n<h3>发射简单射线</h3>\\n\\n<figure><figcaption></figcaption></figure>\\n<h3>方案1|问题</h3>\\n\\n<figure><figcaption></figcaption></figure>\\n\\n","autoDesc":true}')}}]);