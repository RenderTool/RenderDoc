"use strict";(self.webpackChunkrenderdoc=self.webpackChunkrenderdoc||[]).push([[9213],{79463:(n,a,s)=>{n.exports=s.p+"assets/img/PIN002.775fa819.png"},7630:(n,a,s)=>{s.r(a),s.d(a,{comp:()=>N,data:()=>j});var e=s(20641),t=s(79463);const p=s.p+"assets/img/graph001.bc7a0919.jpg",o=s.p+"assets/img/graph002.1756f1dd.png",c=s.p+"assets/img/graph003.8690221c.png",l=(0,e.Lk)("h2",{id:"导言",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#导言"},[(0,e.Lk)("span",null,"导言")])],-1),i=(0,e.Lk)("p",null,[(0,e.eW)("因为咱们用的是"),(0,e.Lk)("code",null,"FWorkflowCentricApplication"),(0,e.eW)("不是内建蓝图编辑器子类（ FBlueprintEditor)")],-1),u=(0,e.Fv)('<h2 id="uedgraph-系统结构" tabindex="-1"><a class="header-anchor" href="#uedgraph-系统结构"><span>UEdGraph 系统结构</span></a></h2><figure><img src="'+t+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="uedgraph" tabindex="-1"><a class="header-anchor" href="#uedgraph"><span>UEdGraph</span></a></h3>',3),r=(0,e.Lk)("p",null,[(0,e.eW)("图表的"),(0,e.Lk)("code",null,"容器"),(0,e.eW)("，包含了所有节点"),(0,e.Lk)("code",null,"UEdGraphNode")],-1),k=(0,e.Lk)("h3",{id:"uedgraphnode",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#uedgraphnode"},[(0,e.Lk)("span",null,"UEdGraphNode")])],-1),d=(0,e.Lk)("p",null,[(0,e.eW)("图表中的每个节点（Node）都是 "),(0,e.Lk)("code",null,"UEdGraphNode"),(0,e.eW)(" 或其子类。")],-1),h=(0,e.Lk)("h3",{id:"uedgraphpin",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#uedgraphpin"},[(0,e.Lk)("span",null,"UEdGraphPin")])],-1),m=(0,e.Lk)("p",null,[(0,e.eW)("每个 Node 上的"),(0,e.Lk)("code",null,"引脚")],-1),b=(0,e.Lk)("h3",{id:"uedgraphschema",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#uedgraphschema"},[(0,e.Lk)("span",null,"UEdGraphSchema")])],-1),v=(0,e.Lk)("p",null,"可以理解成一个管家 ，负责管理图的规则（哪些可以连、不能连，右键菜单、拖拽连线）",-1),L=(0,e.Lk)("p",null,[(0,e.eW)("为什么没有一个专门的"),(0,e.Lk)("code",null,"连线对象"),(0,e.eW)("类")],-1),g=(0,e.Lk)("p",null,[(0,e.eW)("每一根线其实是两个"),(0,e.Lk)("code",null," UEdGraphPin"),(0,e.eW)(" 互相关联")],-1),f=(0,e.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>PinA<span class="token operator">-&gt;</span>LinkedTo<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>PinB<span class="token punctuation">)</span><span class="token punctuation">;</span>\nPinB<span class="token operator">-&gt;</span>LinkedTo<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>PinA<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="实践" tabindex="-1"><a class="header-anchor" href="#实践"><span>实践</span></a></h2><h3 id="_1-派生三剑客" tabindex="-1"><a class="header-anchor" href="#_1-派生三剑客"><span>1.派生三剑客</span></a></h3><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token function">UCLASS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">class</span> <span class="token class-name">XXX_EDITOR_API</span> USuperComboGraphEdGraph <span class="token operator">:</span> <span class="token keyword">public</span> UEdGraph\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-派生uedgraphnode" tabindex="-1"><a class="header-anchor" href="#_2-派生uedgraphnode"><span>2.派生UEdGraphNode</span></a></h3><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token function">UCLASS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">class</span> <span class="token class-name">XXX_EDITOR_API</span> USuperComboGraphEdGraphNode <span class="token operator">:</span> <span class="token keyword">public</span> UEdGraphNode\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_3-派生uedgraphschema" tabindex="-1"><a class="header-anchor" href="#_3-派生uedgraphschema"><span>3.派生UEdGraphSchema</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token function">UCLASS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">class</span> <span class="token class-name">XXX_EDITOR_API</span> USuperComboGraphEdSchema <span class="token operator">:</span> <span class="token keyword">public</span> UEdGraphSchema\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_4-要显示图表的类中缓存图表指针" tabindex="-1"><a class="header-anchor" href="#_4-要显示图表的类中缓存图表指针"><span>4. 要显示图表的类中缓存图表指针</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token function">UCLASS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">class</span> <span class="token class-name">UXXX</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">UObject</span></span>\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">public</span><span class="token operator">:</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression">WITH_EDITORONLY_DATA</span></span>\n\t<span class="token comment">// 图表资源保存点</span>\n\t<span class="token function">UPROPERTY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\tTObjectPtr<span class="token operator">&lt;</span>UEdGraph<span class="token operator">&gt;</span> EditorGraph<span class="token punctuation">;</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span>\t</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',14),G=(0,e.Lk)("p",null,[(0,e.eW)("看的我一脸懵逼！为什么要写一个"),(0,e.Lk)("code",null,"UEdGraph"),(0,e.eW)("指针")],-1),E=(0,e.Lk)("p",null,"为了让你的图表作为资产的一部分被序列化保存下来，否则编辑器里画的所有连线和节点会在关闭编辑器后全部丢失。",-1),W=(0,e.Fv)('<h3 id="_5-类内写上creategraph函数" tabindex="-1"><a class="header-anchor" href="#_5-类内写上creategraph函数"><span>5. 类内写上<code>CreateGraph</code>函数</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token class-name">UXXX</span><span class="token double-colon punctuation">::</span><span class="token function">CreateGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>EditorGraph <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\tEditorGraph <span class="token operator">=</span> <span class="token class-name">USoundCue</span><span class="token double-colon punctuation">::</span><span class="token function">GetSoundCueAudioEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">CreateNewSoundCueGraph</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\tEditorGraph<span class="token operator">-&gt;</span>bAllowDeletion <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\t\t\n\t\t<span class="token keyword">const</span> UEdGraphSchema<span class="token operator">*</span> Schema <span class="token operator">=</span> EditorGraph<span class="token operator">-&gt;</span><span class="token function">GetSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\tSchema<span class="token operator">-&gt;</span><span class="token function">CreateDefaultNodesForGraph</span><span class="token punctuation">(</span><span class="token operator">*</span>EditorGraph<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',2),S=(0,e.Lk)("p",null,[(0,e.eW)("这一步也可以放在"),(0,e.Lk)("code",null,"AssetEditor"),(0,e.eW)("类中。")],-1),C=(0,e.Lk)("p",null,[(0,e.eW)("但我看很多官方模板类似"),(0,e.Lk)("code",null,"SoundCue"),(0,e.eW)("都是直接写在类内的")],-1),y=(0,e.Lk)("figure",null,[(0,e.Lk)("img",{src:c,alt:"",tabindex:"0",loading:"lazy"}),(0,e.Lk)("figcaption")],-1),T=(0,e.Lk)("p",null,[(0,e.eW)("两种写法各有千秋，不过写在类内记得加"),(0,e.Lk)("code",null,"#if WITH_EDITOR"),(0,e.eW)(" ,我个人习惯上还是放在"),(0,e.Lk)("code",null,"AssetEditor"),(0,e.eW)("类中，毕竟"),(0,e.Lk)("code",null,"Editor"),(0,e.eW)("模块更解耦。")],-1),_=(0,e.Lk)("h3",{id:"_6-创建-grapheditor-控件-ui",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#_6-创建-grapheditor-控件-ui"},[(0,e.Lk)("span",null,"6.创建 GraphEditor 控件（UI）")])],-1),U=(0,e.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,e.Lk)("pre",{class:"language-cpp"},[(0,e.Lk)("code",null,[(0,e.Lk)("span",{class:"token comment"},"/** 你要显示图表的指针 */"),(0,e.eW)("\nTObjectPtr"),(0,e.Lk)("span",{class:"token operator"},"<"),(0,e.eW)("USuperComboGraph"),(0,e.Lk)("span",{class:"token operator"},">"),(0,e.eW)(" SuperComboGraphObj"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\n"),(0,e.Lk)("span",{class:"token comment"},"/**图表指针*/"),(0,e.eW)("\nTSharedPtr"),(0,e.Lk)("span",{class:"token operator"},"<"),(0,e.eW)("SGraphEditor"),(0,e.Lk)("span",{class:"token operator"},">"),(0,e.eW)(" GraphEditorWidget"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\n")])]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),A=(0,e.Lk)("div",{class:"language-cpp line-numbers-mode","data-ext":"cpp","data-title":"cpp"},[(0,e.Lk)("pre",{class:"language-cpp"},[(0,e.Lk)("code",null,[(0,e.Lk)("span",{class:"token keyword"},"void"),(0,e.eW)(),(0,e.Lk)("span",{class:"token class-name"},"FSuperComboGraphAssetsEditor"),(0,e.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,e.Lk)("span",{class:"token function"},"CreateGraphEditorWidget"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)("\n"),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n\t"),(0,e.Lk)("span",{class:"token keyword"},"if"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token operator"},"!"),(0,e.eW)("SuperComboGraphObj"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)(),(0,e.Lk)("span",{class:"token keyword"},"return"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\n\t"),(0,e.Lk)("span",{class:"token keyword"},"if"),(0,e.eW)(),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token operator"},"!"),(0,e.eW)("SuperComboGraphObj"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("EditorGraph"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)("\n\t"),(0,e.Lk)("span",{class:"token punctuation"},"{"),(0,e.eW)("\n\t\tSuperComboGraphObj"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("EditorGraph "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token class-name"},"FBlueprintEditorUtils"),(0,e.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,e.Lk)("span",{class:"token function"},"CreateNewGraph"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.eW)("\n\t\t\tSuperComboGraphObj"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n\t\t\tNAME_None"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n\t\t\t"),(0,e.Lk)("span",{class:"token class-name"},"USuperComboGraphEdGraph"),(0,e.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,e.Lk)("span",{class:"token function"},"StaticClass"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)("\n\t\t\t"),(0,e.Lk)("span",{class:"token class-name"},"USuperComboGraphEdSchema"),(0,e.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,e.Lk)("span",{class:"token function"},"StaticClass"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)("\n\t\t"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\t\tSuperComboGraphObj"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("EditorGraph"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("bAllowRenaming "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"false"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\t\tSuperComboGraphObj"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("EditorGraph"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("bAllowDeletion "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token boolean"},"false"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\n\t\t"),(0,e.Lk)("span",{class:"token keyword"},"const"),(0,e.eW)(" UEdGraphSchema"),(0,e.Lk)("span",{class:"token operator"},"*"),(0,e.eW)(" GraphSchema "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(" SuperComboGraphObj"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("EditorGraph"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.Lk)("span",{class:"token function"},"GetSchema"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\t\tGraphSchema"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.Lk)("span",{class:"token function"},"CreateDefaultNodesForGraph"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token operator"},"*"),(0,e.eW)("SuperComboGraphObj"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("EditorGraph"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\t"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n\n\t"),(0,e.Lk)("span",{class:"token comment"},"// 创建 GraphEditor 控件"),(0,e.eW)("\n\tFGraphAppearanceInfo AppearanceInfo"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\tAppearanceInfo"),(0,e.Lk)("span",{class:"token punctuation"},"."),(0,e.eW)("CornerText "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token function"},"LOCTEXT"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token string"},'"SuperComboGraphCornerText"'),(0,e.Lk)("span",{class:"token punctuation"},","),(0,e.eW)(),(0,e.Lk)("span",{class:"token string"},'"Super Combo Graph"'),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\n\t"),(0,e.Lk)("span",{class:"token class-name"},"FGraphEditorCommands"),(0,e.Lk)("span",{class:"token double-colon punctuation"},"::"),(0,e.Lk)("span",{class:"token function"},"Register"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\n\tGraphEditorWidget "),(0,e.Lk)("span",{class:"token operator"},"="),(0,e.eW)(),(0,e.Lk)("span",{class:"token function"},"SNew"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.eW)("SGraphEditor"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)("\n\t\t"),(0,e.Lk)("span",{class:"token punctuation"},"."),(0,e.Lk)("span",{class:"token function"},"AdditionalCommands"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token keyword"},"nullptr"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)("\n\t\t"),(0,e.Lk)("span",{class:"token punctuation"},"."),(0,e.Lk)("span",{class:"token function"},"GraphToEdit"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.eW)("SuperComboGraphObj"),(0,e.Lk)("span",{class:"token operator"},"->"),(0,e.eW)("EditorGraph"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)("\n\t\t"),(0,e.Lk)("span",{class:"token punctuation"},"."),(0,e.Lk)("span",{class:"token function"},"Appearance"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.eW)("AppearanceInfo"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)("\n\t\t"),(0,e.Lk)("span",{class:"token punctuation"},"."),(0,e.Lk)("span",{class:"token function"},"AutoExpandActionMenu"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token boolean"},"true"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.eW)("\n\t\t"),(0,e.Lk)("span",{class:"token punctuation"},"."),(0,e.Lk)("span",{class:"token function"},"ShowGraphStateOverlay"),(0,e.Lk)("span",{class:"token punctuation"},"("),(0,e.Lk)("span",{class:"token boolean"},"false"),(0,e.Lk)("span",{class:"token punctuation"},")"),(0,e.Lk)("span",{class:"token punctuation"},";"),(0,e.eW)("\n\t\n"),(0,e.Lk)("span",{class:"token punctuation"},"}"),(0,e.eW)("\n")])]),(0,e.Lk)("div",{class:"line-numbers","aria-hidden":"true"},[(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"}),(0,e.Lk)("div",{class:"line-number"})])],-1),w=(0,e.Lk)("h3",{id:"_7-挂载-sdocktab-到-layout",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#_7-挂载-sdocktab-到-layout"},[(0,e.Lk)("span",null,[(0,e.eW)("7.挂载 "),(0,e.Lk)("code",null,"SDockTab"),(0,e.eW)(" 到 "),(0,e.Lk)("code",null,"Layout")])])],-1),x=(0,e.Lk)("p",null,[(0,e.eW)("无论是类内还是类外写初始化函数，都需要在"),(0,e.Lk)("code",null,"AssetEditor"),(0,e.eW)("类中挂载到"),(0,e.Lk)("code",null,"Layout"),(0,e.eW)("中才会显示。")],-1),F=(0,e.Fv)('<blockquote><p>具体注册方法我们上一篇已经讲了，这里只做简单描述</p></blockquote><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token comment">//1.注册ID</span>\n<span class="token keyword">static</span> <span class="token keyword">const</span> FName CombGraphTabId<span class="token punctuation">;</span>\n\n<span class="token comment">//2.生成对应的标签页</span>\nTSharedRef<span class="token operator">&lt;</span>SDockTab<span class="token operator">&gt;</span> <span class="token function">SpawnTab_SuperComboGraph</span><span class="token punctuation">(</span><span class="token keyword">const</span> FSpawnTabArgs<span class="token operator">&amp;</span> Args<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>\n\nTSharedRef<span class="token operator">&lt;</span>SDockTab<span class="token operator">&gt;</span> <span class="token class-name">FSuperComboGraphAssetsEditor</span><span class="token double-colon punctuation">::</span><span class="token function">SpawnTab_SuperComboGraph</span><span class="token punctuation">(</span><span class="token keyword">const</span> FSpawnTabArgs<span class="token operator">&amp;</span> Args<span class="token punctuation">)</span> <span class="token keyword">const</span>\n<span class="token punctuation">{</span>\n\t<span class="token function">check</span><span class="token punctuation">(</span> Args<span class="token punctuation">.</span><span class="token function">GetTabId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> CombGraphTabId <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t<span class="token keyword">return</span> <span class="token function">SNew</span><span class="token punctuation">(</span>SDockTab<span class="token punctuation">)</span>\n\t\t<span class="token punctuation">.</span><span class="token function">Label</span><span class="token punctuation">(</span><span class="token function">LOCTEXT</span><span class="token punctuation">(</span><span class="token string">&quot;SuperComboGraphTitle&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Super Combo Graph&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t\t<span class="token punctuation">[</span>\n\t\t\tGraphEditorWidget<span class="token punctuation">.</span><span class="token function">ToSharedRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\t\t<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">//3.通过ID组除生成的标签页</span>\n<span class="token keyword">void</span> <span class="token class-name">FSuperComboGraphAssetsEditor</span><span class="token double-colon punctuation">::</span><span class="token function">RegisterTabSpawners</span><span class="token punctuation">(</span><span class="token keyword">const</span> TSharedRef<span class="token operator">&lt;</span>FTabManager<span class="token operator">&gt;</span><span class="token operator">&amp;</span> Manager<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token comment">/*注册工作区的菜单分类*/</span>\n\tWorkspaceMenuCategory <span class="token operator">=</span> Manager<span class="token operator">-&gt;</span><span class="token function">AddLocalWorkspaceMenuCategory</span><span class="token punctuation">(</span><span class="token function">LOCTEXT</span><span class="token punctuation">(</span><span class="token string">&quot;WorkspaceMenu_SuperComboGraph&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Super ComboGraph &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token keyword">const</span> <span class="token keyword">auto</span> WorkspaceMenuCategoryRef <span class="token operator">=</span> WorkspaceMenuCategory<span class="token punctuation">.</span><span class="token function">ToSharedRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">/*注册自定义的标签页（Tab）*/</span>\n\t<span class="token class-name">FAssetEditorToolkit</span><span class="token double-colon punctuation">::</span> <span class="token function">RegisterTabSpawners</span><span class="token punctuation">(</span>Manager<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\n\t<span class="token comment">/*Graph / 画布*/</span>\n\tManager<span class="token operator">-&gt;</span><span class="token function">RegisterTabSpawner</span><span class="token punctuation">(</span> CombGraphTabId<span class="token punctuation">,</span> <span class="token class-name">FOnSpawnTab</span><span class="token double-colon punctuation">::</span><span class="token function">CreateSP</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>FSuperComboGraphAssetsEditor<span class="token double-colon punctuation">::</span>SpawnTab_SuperComboGraph<span class="token punctuation">)</span> <span class="token punctuation">)</span>\n\t\t\t<span class="token punctuation">.</span><span class="token function">SetDisplayName</span><span class="token punctuation">(</span> <span class="token function">LOCTEXT</span><span class="token punctuation">(</span><span class="token string">&quot;CombGraphTab&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CombGraphTab&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>\n\t\t\t<span class="token punctuation">.</span><span class="token function">SetGroup</span><span class="token punctuation">(</span>WorkspaceMenuCategoryRef<span class="token punctuation">)</span>\n\t\t\t<span class="token punctuation">.</span><span class="token function">SetIcon</span><span class="token punctuation">(</span><span class="token function">FSlateIcon</span><span class="token punctuation">(</span><span class="token class-name">FSuperCombGraphEditorStyle</span><span class="token double-colon punctuation">::</span><span class="token function">GetStyleSetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;SiGaoHe.Main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">//4.添加到标签页</span>\n<span class="token function">InitAssetEditor</span><span class="token punctuation">(</span>Mode<span class="token punctuation">,</span>InitToolkitHost<span class="token punctuation">,</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;SuperComboGraphEditor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">CreateEditorLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span>ObjectToEdit<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',2),D={},N=(0,s(66262).A)(D,[["render",function(n,a){const s=(0,e.g2)("chatmessage"),t=(0,e.g2)("CodeTabs");return(0,e.uX)(),(0,e.CE)("div",null,[l,(0,e.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:38},{default:(0,e.k6)((()=>[(0,e.eW)(" Dada！资产编辑器的框架是有了，但好像少点东西，默认的那个图表去哪里了? ")])),_:1}),(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[i])),_:1}),(0,e.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:38},{default:(0,e.k6)((()=>[(0,e.eW)(" 好吧，那咱们怎么把这玩意加回来？ ")])),_:1}),(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[(0,e.eW)(" 莫慌，待老夫慢慢道来。 ")])),_:1}),u,(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[r])),_:1}),k,(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[d])),_:1}),h,(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[m])),_:1}),b,(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[v])),_:1}),(0,e.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:38},{default:(0,e.k6)((()=>[L])),_:1}),(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[g])),_:1}),f,(0,e.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:38},{default:(0,e.k6)((()=>[G])),_:1}),(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[E])),_:1}),W,(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[S])),_:1}),(0,e.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:38},{default:(0,e.k6)((()=>[C])),_:1}),y,(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[T])),_:1}),_,(0,e.bF)(t,{id:"122",data:[{id:".h"},{id:".cpp"}],"tab-id":"language"},{title0:(0,e.k6)((({value:n,isActive:a})=>[(0,e.eW)(".h")])),title1:(0,e.k6)((({value:n,isActive:a})=>[(0,e.eW)(".cpp")])),tab0:(0,e.k6)((({value:n,isActive:a})=>[U])),tab1:(0,e.k6)((({value:n,isActive:a})=>[A])),_:1},8,["data"]),w,(0,e.bF)(s,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[x])),_:1}),F])}]]),j=JSON.parse('{"path":"/unreal/editor_%E7%BC%96%E8%BE%91%E5%99%A8_/09-EdGraph.html","title":"ED09.EdGraph|序","lang":"zh-CN","frontmatter":{"title":"ED09.EdGraph|序","order":26,"category":["u++"],"description":"导言 UEdGraph 系统结构 UEdGraph UEdGraphNode UEdGraphPin UEdGraphSchema 实践 1.派生三剑客 2.派生UEdGraphNode 3.派生UEdGraphSchema 4. 要显示图表的类中缓存图表指针 5. 类内写上CreateGraph函数 6.创建 GraphEditor 控件（UI） 7...","head":[["meta",{"property":"og:url","content":"https://rendertool.github.io/RenderDoc/unreal/editor_%E7%BC%96%E8%BE%91%E5%99%A8_/09-EdGraph.html"}],["meta",{"property":"og:site_name","content":"RenderDoc"}],["meta",{"property":"og:title","content":"ED09.EdGraph|序"}],["meta",{"property":"og:description","content":"导言 UEdGraph 系统结构 UEdGraph UEdGraphNode UEdGraphPin UEdGraphSchema 实践 1.派生三剑客 2.派生UEdGraphNode 3.派生UEdGraphSchema 4. 要显示图表的类中缓存图表指针 5. 类内写上CreateGraph函数 6.创建 GraphEditor 控件（UI） 7..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-17T06:07:07.000Z"}],["meta",{"property":"article:author","content":"Mr.Si"}],["meta",{"property":"article:modified_time","content":"2025-06-17T06:07:07.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ED09.EdGraph|序\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-06-17T06:07:07.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Si\\",\\"url\\":\\"https://rendertool.github.io/RenderDoc/\\"}]}"]]},"headers":[{"level":2,"title":"导言","slug":"导言","link":"#导言","children":[]},{"level":2,"title":"UEdGraph 系统结构","slug":"uedgraph-系统结构","link":"#uedgraph-系统结构","children":[{"level":3,"title":"UEdGraph","slug":"uedgraph","link":"#uedgraph","children":[]},{"level":3,"title":"UEdGraphNode","slug":"uedgraphnode","link":"#uedgraphnode","children":[]},{"level":3,"title":"UEdGraphPin","slug":"uedgraphpin","link":"#uedgraphpin","children":[]},{"level":3,"title":"UEdGraphSchema","slug":"uedgraphschema","link":"#uedgraphschema","children":[]}]},{"level":2,"title":"实践","slug":"实践","link":"#实践","children":[{"level":3,"title":"1.派生三剑客","slug":"_1-派生三剑客","link":"#_1-派生三剑客","children":[]},{"level":3,"title":"2.派生UEdGraphNode","slug":"_2-派生uedgraphnode","link":"#_2-派生uedgraphnode","children":[]},{"level":3,"title":"3.派生UEdGraphSchema","slug":"_3-派生uedgraphschema","link":"#_3-派生uedgraphschema","children":[]},{"level":3,"title":"4. 要显示图表的类中缓存图表指针","slug":"_4-要显示图表的类中缓存图表指针","link":"#_4-要显示图表的类中缓存图表指针","children":[]},{"level":3,"title":"5. 类内写上CreateGraph函数","slug":"_5-类内写上creategraph函数","link":"#_5-类内写上creategraph函数","children":[]},{"level":3,"title":"6.创建 GraphEditor 控件（UI）","slug":"_6-创建-grapheditor-控件-ui","link":"#_6-创建-grapheditor-控件-ui","children":[]},{"level":3,"title":"7.挂载 SDockTab 到 Layout","slug":"_7-挂载-sdocktab-到-layout","link":"#_7-挂载-sdocktab-到-layout","children":[]}]}],"git":{"createdTime":1750140427000,"updatedTime":1750140427000,"contributors":[{"name":"sigaohe","email":"750831855@qq.com","commits":1}]},"readingTime":{"minutes":2.99,"words":896},"filePathRelative":"unreal/editor[编辑器]/09-EdGraph.md","localizedDate":"2025年6月17日","excerpt":"<h2>导言</h2>\\n\\n\\n\\n\\n<h2>UEdGraph 系统结构</h2>\\n<figure><figcaption></figcaption></figure>\\n<h3>UEdGraph</h3>\\n\\n<h3>UEdGraphNode</h3>\\n\\n<h3>UEdGraphPin</h3>\\n\\n<h3>UEdGraphSchema</h3>\\n\\n\\n\\n<div class=\\"language-cpp\\" data-ext=\\"cpp\\" data-title=\\"cpp\\"><pre class=\\"language-cpp\\"><code>PinA<span class=\\"token operator\\">-&gt;</span>LinkedTo<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Add</span><span class=\\"token punctuation\\">(</span>PinB<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\nPinB<span class=\\"token operator\\">-&gt;</span>LinkedTo<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Add</span><span class=\\"token punctuation\\">(</span>PinA<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n</code></pre></div>","autoDesc":true}')}}]);