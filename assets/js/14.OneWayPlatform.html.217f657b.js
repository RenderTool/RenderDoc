"use strict";(self.webpackChunkrenderdoc=self.webpackChunkrenderdoc||[]).push([[599],{90082:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>S,data:()=>j});var t=a(20641);const e=a.p+"assets/img/mlao01.c9f8f0f1.jpg",p=a.p+"assets/img/mlao02.090a2700.png",o=a.p+"assets/img/mlao03.6196c28a.png",c=a.p+"assets/img/mlao04.29b4329a.png",l=a.p+"assets/img/mlao07.1ae60f6d.jpg",i=a.p+"assets/img/mlao08.49d32b5a.jpg",u=a.p+"assets/img/mlao06.c39ed7af.png",r=a.p+"assets/img/mlao09.1150a362.jpg",k=a.p+"assets/img/mlao05.98db1873.png",d=(0,t.Lk)("h2",{id:"提要",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#提要"},[(0,t.Lk)("span",null,"提要")])],-1),v=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:e,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),m=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:p,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),b=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:o,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),g=(0,t.Fv)('<h3 id="响应通道-collision-response-channels" tabindex="-1"><a class="header-anchor" href="#响应通道-collision-response-channels"><span>响应通道（Collision Response Channels）</span></a></h3><figure><img src="'+c+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><blockquote><p>UE 的碰撞系统由三部分组成：</p></blockquote><ol><li><p><strong>碰撞通道（Collision Channel）</strong></p><ul><li><p>用于标记对象所属类型。</p></li><li><p>UE 内置两种类型：</p><ul><li><strong>Object Channels（对象通道）</strong>：标记对象类别，比如 <code>Pawn</code>、<code>WorldStatic</code>、<code>WorldDynamic</code>。</li><li><strong>Trace Channels（射线通道）</strong>：用于射线/扫描（LineTrace、SphereTrace）检测。</li></ul></li></ul></li></ol>',5),f=(0,t.Lk)("p",null,"自定义通道（Project Settings → Collision → Object Channels / Trace Channels）。",-1),h=(0,t.Fv)('<ol start="2"><li><p><strong>碰撞预设（Collision Presets）</strong></p><ul><li><p>UE 提供常用预设组合，比如：</p><ul><li><code>BlockAll</code> → 阻挡所有</li><li><code>OverlapAll</code> → 全部触发重叠事件</li><li><code>Pawn</code> → 阻挡世界静态物体，忽略玩家等</li></ul></li><li><p>每个预设内部其实就是 <strong>对每个通道的响应配置</strong>。</p></li></ul></li><li><p><strong>碰撞响应（Collision Response）</strong></p><ul><li>决定了对象对某个通道的具体行为：</li></ul></li></ol><table><thead><tr><th>碰撞响应</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><code>ECR_Block</code></td><td>阻挡</td><td>产生物理碰撞，角色/物体无法穿过</td></tr><tr><td><code>ECR_Overlap</code></td><td>重叠</td><td>允许穿过，但会触发 <code>OnComponentBeginOverlap/EndOverlap</code> 事件</td></tr><tr><td><code>ECR_Ignore</code></td><td>忽略</td><td>不会碰撞，也不会触发重叠事件</td></tr></tbody></table><h2 id="方案" tabindex="-1"><a class="header-anchor" href="#方案"><span>方案</span></a></h2><h3 id="方案1" tabindex="-1"><a class="header-anchor" href="#方案1"><span>方案1</span></a></h3>',4),C=(0,t.Fv)('<figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><ul><li>每个平台上方加一个 <strong>TriggerBox/BoxComponent</strong>（只用于感知角色是否接近）</li><li>平台默认 <strong>Pawn 通道忽略阻挡</strong></li><li>当角色进入 Trigger → 开启 <strong>平台阻挡</strong>（ECR_Block）</li><li>当角色离开 Trigger → 关闭阻挡（ECR_Ignore）</li></ul><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token class-name">APlatformBase</span><span class="token double-colon punctuation">::</span><span class="token function">APlatformBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\tPrimaryActorTick<span class="token punctuation">.</span>bCanEverTick <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\tTrigger <span class="token operator">=</span> <span class="token generic-function"><span class="token function">CreateDefaultSubobject</span><span class="token generic class-name"><span class="token operator">&lt;</span>UBoxComponent<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">&quot;FootTrigger&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tTrigger<span class="token operator">-&gt;</span><span class="token function">SetupAttachment</span><span class="token punctuation">(</span><span class="token function">GetRootComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    \n\t<span class="token comment">// 设置大小，稍微比脚底大一点</span>\n\tTrigger<span class="token operator">-&gt;</span><span class="token function">SetCollisionEnabled</span><span class="token punctuation">(</span>ECollisionEnabled<span class="token double-colon punctuation">::</span>QueryOnly<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tTrigger<span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToAllChannels</span><span class="token punctuation">(</span>ECR_Overlap<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tTrigger<span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToChannel</span><span class="token punctuation">(</span>ECC_WorldDynamic<span class="token punctuation">,</span> ECR_Overlap<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tTrigger<span class="token operator">-&gt;</span>OnComponentBeginOverlap<span class="token punctuation">.</span><span class="token function">AddDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>APlatformBase<span class="token double-colon punctuation">::</span>OnTriggerOverlap<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\tTrigger<span class="token operator">-&gt;</span>OnComponentEndOverlap<span class="token punctuation">.</span><span class="token function">AddDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>APlatformBase<span class="token double-colon punctuation">::</span>OnTriggerEndOverlap<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">APlatformBase</span><span class="token double-colon punctuation">::</span><span class="token function">SetBlocking</span><span class="token punctuation">(</span><span class="token keyword">bool</span> bEnable<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>bIsBlocking <span class="token operator">==</span> bEnable<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n\n\tbIsBlocking <span class="token operator">=</span> bEnable<span class="token punctuation">;</span>\n\t<span class="token function">GetRenderComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToChannel</span><span class="token punctuation">(</span>ECC_Pawn<span class="token punctuation">,</span> bEnable <span class="token operator">?</span> ECR_Block <span class="token operator">:</span> ECR_Ignore<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">APlatformBase</span><span class="token double-colon punctuation">::</span><span class="token function">OnTriggerOverlap</span><span class="token punctuation">(</span>UPrimitiveComponent<span class="token operator">*</span> OverlappedComponent<span class="token punctuation">,</span> AActor<span class="token operator">*</span> OtherActor<span class="token punctuation">,</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OtherComp<span class="token punctuation">,</span> int32 OtherBodyIndex<span class="token punctuation">,</span> <span class="token keyword">bool</span> bFromSweep<span class="token punctuation">,</span> <span class="token keyword">const</span> FHitResult<span class="token operator">&amp;</span> SweepResult<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>OtherActor <span class="token operator">&amp;&amp;</span> OtherActor<span class="token operator">-&gt;</span><span class="token generic-function"><span class="token function">IsA</span><span class="token generic class-name"><span class="token operator">&lt;</span>ACharacter<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token function">SetBlocking</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">APlatformBase</span><span class="token double-colon punctuation">::</span><span class="token function">OnTriggerEndOverlap</span><span class="token punctuation">(</span>UPrimitiveComponent<span class="token operator">*</span> OverlappedComponent<span class="token punctuation">,</span> AActor<span class="token operator">*</span> OtherActor<span class="token punctuation">,</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OtherComp<span class="token punctuation">,</span> int32 OtherBodyIndex<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>OtherActor <span class="token operator">&amp;&amp;</span> OtherActor<span class="token operator">-&gt;</span><span class="token generic-function"><span class="token function">IsA</span><span class="token generic class-name"><span class="token operator">&lt;</span>ACharacter<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token function">SetBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="方案1-缺陷多人问题" tabindex="-1"><a class="header-anchor" href="#方案1-缺陷多人问题"><span>方案1|缺陷多人问题</span></a></h3>',6),y=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>\n<span class="token comment">// 记录 Trigger 内的角色数量</span>\n<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>VisibleAnywhere<span class="token punctuation">,</span> BlueprintReadOnly<span class="token punctuation">,</span> Category<span class="token operator">=</span><span class="token string">&quot;Collision&quot;</span><span class="token punctuation">)</span>\nint32 OverlappingCharacters <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n\n<span class="token keyword">void</span> <span class="token class-name">APlatformBase</span><span class="token double-colon punctuation">::</span><span class="token function">OnTriggerOverlap</span><span class="token punctuation">(</span>UPrimitiveComponent<span class="token operator">*</span> OverlappedComponent<span class="token punctuation">,</span> AActor<span class="token operator">*</span> OtherActor<span class="token punctuation">,</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OtherComp<span class="token punctuation">,</span> int32 OtherBodyIndex<span class="token punctuation">,</span> <span class="token keyword">bool</span> bFromSweep<span class="token punctuation">,</span> <span class="token keyword">const</span> FHitResult<span class="token operator">&amp;</span> SweepResult<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>OtherActor <span class="token operator">&amp;&amp;</span> OtherActor<span class="token operator">-&gt;</span><span class="token generic-function"><span class="token function">IsA</span><span class="token generic class-name"><span class="token operator">&lt;</span>ACharacter<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\tOverlappingCharacters<span class="token operator">++</span><span class="token punctuation">;</span>\n\t\t<span class="token function">SetBlocking</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">APlatformBase</span><span class="token double-colon punctuation">::</span><span class="token function">OnTriggerEndOverlap</span><span class="token punctuation">(</span>UPrimitiveComponent<span class="token operator">*</span> OverlappedComponent<span class="token punctuation">,</span> AActor<span class="token operator">*</span> OtherActor<span class="token punctuation">,</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OtherComp<span class="token punctuation">,</span> int32 OtherBodyIndex<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>OtherActor <span class="token operator">&amp;&amp;</span> OtherActor<span class="token operator">-&gt;</span><span class="token generic-function"><span class="token function">IsA</span><span class="token generic class-name"><span class="token operator">&lt;</span>ACharacter<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\tOverlappingCharacters <span class="token operator">=</span> <span class="token class-name">FMath</span><span class="token double-colon punctuation">::</span><span class="token function">Max</span><span class="token punctuation">(</span>OverlappingCharacters <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token function">SetBlocking</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方案1-缺陷平台过近导致卡死。" tabindex="-1"><a class="header-anchor" href="#方案1-缺陷平台过近导致卡死。"><span>方案1|缺陷平台过近导致卡死。</span></a></h3>',2),A=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:i,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),w=(0,t.Lk)("h3",{id:"方案2-代码",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#方案2-代码"},[(0,t.Lk)("span",null,"方案2|代码")])],-1),O=(0,t.Fv)('<figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>\n<span class="token keyword">void</span> <span class="token class-name">ADoodleJumpCharacter</span><span class="token double-colon punctuation">::</span><span class="token function">OnFootTriggerOverlap</span><span class="token punctuation">(</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OverlappedComponent<span class="token punctuation">,</span>\n\tAActor<span class="token operator">*</span> OtherActor<span class="token punctuation">,</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OtherComp<span class="token punctuation">,</span>\n\tint32 OtherBodyIndex<span class="token punctuation">,</span>\n\t<span class="token keyword">bool</span> bFromSweep<span class="token punctuation">,</span>\n\t<span class="token keyword">const</span> FHitResult<span class="token operator">&amp;</span> SweepResult<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>OtherActor<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>APaperFlipbookActor<span class="token operator">*</span> Platform <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>APaperFlipbookActor<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>OtherActor<span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token keyword">const</span> FVector CharLocation <span class="token operator">=</span> FootTrigger<span class="token operator">-&gt;</span><span class="token function">GetComponentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token keyword">const</span> FVector PlatformLocation <span class="token operator">=</span> Platform<span class="token operator">-&gt;</span><span class="token function">GetActorLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t\t<span class="token keyword">if</span> <span class="token punctuation">(</span>CharLocation<span class="token punctuation">.</span>Z <span class="token operator">&gt;</span> PlatformLocation<span class="token punctuation">.</span>Z<span class="token punctuation">)</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\tPlatform<span class="token operator">-&gt;</span><span class="token function">GetRenderComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToChannel</span><span class="token punctuation">(</span>ECC_Pawn<span class="token punctuation">,</span> ECR_Block<span class="token punctuation">)</span><span class="token punctuation">;</span>\t\t\n\t\t\t<span class="token comment">//跳跃</span>\n\t\t\t<span class="token function">Jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t\t<span class="token punctuation">}</span>\n\t\t<span class="token keyword">else</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\tPlatform<span class="token operator">-&gt;</span><span class="token function">GetRenderComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToChannel</span><span class="token punctuation">(</span>ECC_Pawn<span class="token punctuation">,</span> ECR_Ignore<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n\t\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方案2-缺陷——跳跃问题" tabindex="-1"><a class="header-anchor" href="#方案2-缺陷——跳跃问题"><span>方案2|缺陷——跳跃问题</span></a></h3>',3),P=(0,t.Lk)("blockquote",null,[(0,t.Lk)("p",null,"为了更加直观，用一张图演示问题：")],-1),L=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:r,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),F=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:k,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),W=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token comment">//  copyright by sigaohe</span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;CoreMinimal.h&quot;</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;UObject/Interface.h&quot;</span></span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;PlatformInterface.generated.h&quot;</span></span>\n\n<span class="token comment">// This class does not need to be modified.</span>\n<span class="token function">UINTERFACE</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">class</span> <span class="token class-name">UPlatformInterface</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">UInterface</span></span>\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">/**\n * 平板接口\n */</span>\n<span class="token keyword">class</span> <span class="token class-name">DOODLEJUMPGAME_API</span> IPlatformInterface\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token keyword">public</span><span class="token operator">:</span>\n\n\t<span class="token comment">//初始化操作</span>\n\t<span class="token function">UFUNCTION</span><span class="token punctuation">(</span>BlueprintNativeEvent<span class="token punctuation">,</span>BlueprintCallable<span class="token punctuation">)</span>\n\t<span class="token keyword">void</span> <span class="token function">InitAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">//触摸操作</span>\n\t<span class="token function">UFUNCTION</span><span class="token punctuation">(</span>BlueprintNativeEvent<span class="token punctuation">,</span>BlueprintCallable<span class="token punctuation">)</span>\n\t<span class="token keyword">void</span> <span class="token function">TouchAction</span><span class="token punctuation">(</span>AActor<span class="token operator">*</span> InActor<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),E=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>\n<span class="token keyword">void</span> <span class="token class-name">ADoodleJumpCharacter</span><span class="token double-colon punctuation">::</span><span class="token function">OnFootTriggerOverlap</span><span class="token punctuation">(</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OverlappedComponent<span class="token punctuation">,</span>\n\tAActor<span class="token operator">*</span> OtherActor<span class="token punctuation">,</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OtherComp<span class="token punctuation">,</span>\n\tint32 OtherBodyIndex<span class="token punctuation">,</span>\n\t<span class="token keyword">bool</span> bFromSweep<span class="token punctuation">,</span>\n\t<span class="token keyword">const</span> FHitResult<span class="token operator">&amp;</span> SweepResult<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>OtherActor<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>APaperFlipbookActor<span class="token operator">*</span> Platform <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>APaperFlipbookActor<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>OtherActor<span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token keyword">const</span> FVector CharLocation <span class="token operator">=</span> FootTrigger<span class="token operator">-&gt;</span><span class="token function">GetComponentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token keyword">const</span> FVector PlatformLocation <span class="token operator">=</span> Platform<span class="token operator">-&gt;</span><span class="token function">GetActorLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t\t<span class="token keyword">if</span> <span class="token punctuation">(</span>CharLocation<span class="token punctuation">.</span>Z <span class="token operator">&gt;</span> PlatformLocation<span class="token punctuation">.</span>Z<span class="token punctuation">)</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\tPlatform<span class="token operator">-&gt;</span><span class="token function">GetRenderComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToChannel</span><span class="token punctuation">(</span>ECC_Pawn<span class="token punctuation">,</span> ECR_Block<span class="token punctuation">)</span><span class="token punctuation">;</span>\t\t\n\t\t\t<span class="token keyword">if</span> <span class="token punctuation">(</span>Platform<span class="token operator">-&gt;</span><span class="token function">GetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">ImplementsInterface</span><span class="token punctuation">(</span><span class="token class-name">UPlatformInterface</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t\t\t<span class="token punctuation">{</span>\n\t\t\t<span class="token class-name">IPlatformInterface</span><span class="token double-colon punctuation">::</span><span class="token function">Execute_TouchAction</span><span class="token punctuation">(</span>Platform<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t\t<span class="token punctuation">}</span>\n\t\t<span class="token punctuation">}</span>\n\t\t<span class="token keyword">else</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\tPlatform<span class="token operator">-&gt;</span><span class="token function">GetRenderComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToChannel</span><span class="token punctuation">(</span>ECC_Pawn<span class="token punctuation">,</span> ECR_Ignore<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n\t\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),_=(0,t.Lk)("p",null,[(0,t.eW)("后面我知道！直接"),(0,t.Lk)("code",null,"LaunchCharacter"),(0,t.eW)("就行了，平台可以通过控制"),(0,t.Lk)("code",null,"JumpStrength"),(0,t.eW)("来控制角色跳跃高度。并且，不用担心覆盖角色自己原本的跳跃属性。")],-1),T=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token class-name">APlatformBase</span><span class="token double-colon punctuation">::</span><span class="token function">TouchAction_Implementation</span><span class="token punctuation">(</span>AActor<span class="token operator">*</span> OtherActor<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token function">CharacterJump</span><span class="token punctuation">(</span>OtherActor<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token keyword">if</span><span class="token punctuation">(</span>JumpSound<span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token class-name">UGameplayStatics</span><span class="token double-colon punctuation">::</span><span class="token function">PlaySoundAtLocation</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>JumpSound<span class="token punctuation">,</span> <span class="token function">GetActorLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">GetActorRotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">APlatformBase</span><span class="token double-colon punctuation">::</span><span class="token function">CharacterJump</span><span class="token punctuation">(</span>AActor<span class="token operator">*</span> OtherActor<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span> Character <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>ACharacter<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>OtherActor<span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\tCharacter<span class="token operator">-&gt;</span><span class="token function">Jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\tCharacter<span class="token operator">-&gt;</span><span class="token function">LaunchCharacter</span><span class="token punctuation">(</span><span class="token function">FVector</span><span class="token punctuation">(</span><span class="token number">0.f</span><span class="token punctuation">,</span> <span class="token number">0.f</span><span class="token punctuation">,</span> JumpStrength<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token punctuation">}</span>\t\t\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),R=(0,t.Lk)("p",null,[(0,t.eW)("事实上我们可以利用角色的"),(0,t.Lk)("code",null,"OnLanded"),(0,t.eW)("事件来解决这个问题。")],-1),B=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>\n<span class="token keyword">void</span> <span class="token class-name">ADoodleJumpCharacter</span><span class="token double-colon punctuation">::</span><span class="token function">OnFootTriggerOverlap</span><span class="token punctuation">(</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OverlappedComponent<span class="token punctuation">,</span>\n\tAActor<span class="token operator">*</span> OtherActor<span class="token punctuation">,</span>\n\tUPrimitiveComponent<span class="token operator">*</span> OtherComp<span class="token punctuation">,</span>\n\tint32 OtherBodyIndex<span class="token punctuation">,</span>\n\t<span class="token keyword">bool</span> bFromSweep<span class="token punctuation">,</span>\n\t<span class="token keyword">const</span> FHitResult<span class="token operator">&amp;</span> SweepResult<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>OtherActor<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">const</span> APaperFlipbookActor<span class="token operator">*</span> Platform <span class="token operator">=</span> <span class="token generic-function"><span class="token function">Cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>APaperFlipbookActor<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>OtherActor<span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token keyword">const</span> FVector CharLocation <span class="token operator">=</span> FootTrigger<span class="token operator">-&gt;</span><span class="token function">GetComponentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token keyword">const</span> FVector PlatformLocation <span class="token operator">=</span> Platform<span class="token operator">-&gt;</span><span class="token function">GetActorLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t\t<span class="token comment">// 条件：脚在平台上方 + 正在下坠</span>\n\t\t<span class="token keyword">if</span> <span class="token punctuation">(</span>CharLocation<span class="token punctuation">.</span>Z <span class="token operator">&gt;</span> PlatformLocation<span class="token punctuation">.</span>Z<span class="token punctuation">)</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\t<span class="token comment">// 临时允许角色踩在平台上</span>\n\t\t\tPlatform<span class="token operator">-&gt;</span><span class="token function">GetRenderComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToChannel</span><span class="token punctuation">(</span>ECC_Pawn<span class="token punctuation">,</span> ECR_Block<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token punctuation">}</span>\n\t\t<span class="token keyword">else</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\tPlatform<span class="token operator">-&gt;</span><span class="token function">GetRenderComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">SetCollisionResponseToChannel</span><span class="token punctuation">(</span>ECC_Pawn<span class="token punctuation">,</span> ECR_Ignore<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">void</span> <span class="token class-name">ADoodleJumpCharacter</span><span class="token double-colon punctuation">::</span><span class="token function">Landed</span><span class="token punctuation">(</span><span class="token keyword">const</span> FHitResult<span class="token operator">&amp;</span> Hit<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">Landed</span><span class="token punctuation">(</span>Hit<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">//判断是不是平台</span>\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span>AActor<span class="token operator">*</span> LandedActor <span class="token operator">=</span> Hit<span class="token punctuation">.</span><span class="token function">GetActor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token keyword">if</span> <span class="token punctuation">(</span>LandedActor<span class="token operator">-&gt;</span><span class="token function">GetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">ImplementsInterface</span><span class="token punctuation">(</span><span class="token class-name">UPlatformInterface</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\t<span class="token comment">//通知平台接口</span>\n\t\t\t<span class="token class-name">IPlatformInterface</span><span class="token double-colon punctuation">::</span><span class="token function">Execute_TouchAction</span><span class="token punctuation">(</span>LandedActor<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\t\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),x={},S=(0,a(66262).A)(x,[["render",function(n,s){const a=(0,t.g2)("chatmessage");return(0,t.uX)(),(0,t.CE)("div",null,[d,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 还记得小时候玩的魂斗罗、马里奥这种横板游戏吗？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 当然记得啦！ ")])),_:1}),v,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 不知道你有没有注意其中的一个细节。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 什么细节? ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 你有没有想过，怎么还原这种从下方穿透、上方可以站立的平台？ ")])),_:1}),m,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 正常来说，我们只能从旁边跳上去。 ")])),_:1}),b,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 提到这个我们还是先来回顾一下UE中碰撞体积的一些知识 ")])),_:1}),g,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[f])),_:1}),h,(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 我想到的第一个方法是给平台上方加一个触发体积 ")])),_:1}),C,(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 如果是多角色阁下怎么应对？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/new2.png",avatarWidth:50,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 这还不简单，直接加一个计数器,记录一下多少角色触碰了就行了。 ")])),_:1}),y,(0,t.bF)(a,{avatar:"../../assets/emoji/new2.png",avatarWidth:50,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 事实上这个方案还有一个致命缺陷，两个平台一但非常贴近，就会卡死在缝隙里。 ")])),_:1}),A,w,(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:35},{default:(0,t.k6)((()=>[(0,t.eW)(" 当然上面的方案是站在平台角度思考的，我这里其实有一种站在角色本身角度思考的方法。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/new2.png",avatarWidth:50,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 说说看。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:35},{default:(0,t.k6)((()=>[(0,t.eW)(" 反过来，给角色加一个额外的碰撞体积。 ")])),_:1}),O,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 事实上这个方案并不会生效。 ")])),_:1}),P,L,(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:35},{default:(0,t.k6)((()=>[(0,t.eW)(" 难怪我的角色跳不起来，明明我已经给了Jump()事件 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 对于这个问题你觉得该怎么解决？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:35},{default:(0,t.k6)((()=>[(0,t.eW)(" 这还不简单，直接控制器或者角色本身的tick中一直调用跳跃不就行了嘛？ ")])),_:1}),F,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 事实上平台有很多派生变化，有些才踩上去会陷下去，有些则会触发弹簧把你弹飞。因此，你的方案并不能一直适用。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:35},{default:(0,t.k6)((()=>[(0,t.eW)(" 这么看来跳跃事件好像还是得交给平台自己来处理? ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 没错，得让平台自己决定怎么跳。为了方便后续推进，我们先抽离一些平台接口。 ")])),_:1}),W,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 通过接口来通知平台 ")])),_:1}),E,(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:35},{default:(0,t.k6)((()=>[_])),_:1}),T,(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 不错，但咱们描述的问题依然存在，角色虽然被向上推了，但跳跃动画依然没有播放。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/new7.png",avatarWidth:35},{default:(0,t.k6)((()=>[(0,t.eW)(" 我能想到的方案是给一点延迟，让角色的胶囊体落在平台上，然后再去执行跳跃。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 不太靠谱，如果间距远大于我们的延迟落下的距离，依然会吞掉动画。 ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:35},{default:(0,t.k6)((()=>[(0,t.eW)(" 那该如何是好？ ")])),_:1}),(0,t.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[R])),_:1}),B,(0,t.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:35},{default:(0,t.k6)((()=>[(0,t.eW)(" 秒啊！这样平台碰撞事件和跳跃就解耦了！也能确保落地时才会通知平台触发后续事件了！ ")])),_:1})])}]]),j=JSON.parse('{"path":"/unreal/exp_%E7%BB%8F%E9%AA%8C_/14.OneWayPlatform.html","title":"EXP14.单向跳跃平台(碰撞体积)","lang":"zh-CN","frontmatter":{"title":"EXP14.单向跳跃平台(碰撞体积)","order":14,"category":["u++"],"description":"提要 响应通道（Collision Response Channels） UE 的碰撞系统由三部分组成： 碰撞通道（Collision Channel） 用于标记对象所属类型。 UE 内置两种类型： Object Channels（对象通道）：标记对象类别，比如 Pawn、WorldStatic、WorldDynamic。 Trace Channels...","head":[["meta",{"property":"og:url","content":"https://rendertool.github.io/RenderDoc/unreal/exp_%E7%BB%8F%E9%AA%8C_/14.OneWayPlatform.html"}],["meta",{"property":"og:site_name","content":"RenderDoc"}],["meta",{"property":"og:title","content":"EXP14.单向跳跃平台(碰撞体积)"}],["meta",{"property":"og:description","content":"提要 响应通道（Collision Response Channels） UE 的碰撞系统由三部分组成： 碰撞通道（Collision Channel） 用于标记对象所属类型。 UE 内置两种类型： Object Channels（对象通道）：标记对象类别，比如 Pawn、WorldStatic、WorldDynamic。 Trace Channels..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-30T07:55:41.000Z"}],["meta",{"property":"article:author","content":"Mr.Si"}],["meta",{"property":"article:modified_time","content":"2025-08-30T07:55:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"EXP14.单向跳跃平台(碰撞体积)\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-30T07:55:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Si\\",\\"url\\":\\"https://rendertool.github.io/RenderDoc/\\"}]}"]]},"headers":[{"level":2,"title":"提要","slug":"提要","link":"#提要","children":[{"level":3,"title":"响应通道（Collision Response Channels）","slug":"响应通道-collision-response-channels","link":"#响应通道-collision-response-channels","children":[]}]},{"level":2,"title":"方案","slug":"方案","link":"#方案","children":[{"level":3,"title":"方案1","slug":"方案1","link":"#方案1","children":[]},{"level":3,"title":"方案1|缺陷多人问题","slug":"方案1-缺陷多人问题","link":"#方案1-缺陷多人问题","children":[]},{"level":3,"title":"方案1|缺陷平台过近导致卡死。","slug":"方案1-缺陷平台过近导致卡死。","link":"#方案1-缺陷平台过近导致卡死。","children":[]},{"level":3,"title":"方案2|代码","slug":"方案2-代码","link":"#方案2-代码","children":[]},{"level":3,"title":"方案2|缺陷——跳跃问题","slug":"方案2-缺陷——跳跃问题","link":"#方案2-缺陷——跳跃问题","children":[]}]}],"git":{"createdTime":1756276808000,"updatedTime":1756540541000,"contributors":[{"name":"sigaohe","email":"750831855@qq.com","commits":2}]},"readingTime":{"minutes":5.9,"words":1771},"filePathRelative":"unreal/exp[经验]/14.OneWayPlatform.md","localizedDate":"2025年8月27日","excerpt":"<h2>提要</h2>\\n\\n\\n<figure><figcaption></figcaption></figure>\\n\\n\\n\\n<figure><figcaption></figcaption></figure>\\n\\n<figure><figcaption></figcaption></figure>\\n\\n<h3>响应通道（Collision Response Channels）</h3>\\n<figure><figcaption></figcaption></figure>\\n<hr>\\n<blockquote>\\n<p>UE 的碰撞系统由三部分组成：</p>\\n</blockquote>\\n<ol>\\n<li>\\n<p><strong>碰撞通道（Collision Channel）</strong></p>\\n<ul>\\n<li>\\n<p>用于标记对象所属类型。</p>\\n</li>\\n<li>\\n<p>UE 内置两种类型：</p>\\n<ul>\\n<li><strong>Object Channels（对象通道）</strong>：标记对象类别，比如 <code>Pawn</code>、<code>WorldStatic</code>、<code>WorldDynamic</code>。</li>\\n<li><strong>Trace Channels（射线通道）</strong>：用于射线/扫描（LineTrace、SphereTrace）检测。</li>\\n</ul>\\n</li>\\n</ul>\\n</li>\\n</ol>","autoDesc":true}')}}]);