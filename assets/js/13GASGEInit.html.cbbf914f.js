"use strict";(self.webpackChunkrenderdoc=self.webpackChunkrenderdoc||[]).push([[7713],{64465:(n,a,s)=>{s.r(a),s.d(a,{comp:()=>A,data:()=>h});var t=s(20641);const e=s.p+"assets/img/GASGE004.01596c5a.png",p=s.p+"assets/img/GASGE001.d4ac3eb6.png",o=s.p+"assets/img/GASGE002.811206fc.png",c=s.p+"assets/img/GASGE003.dca72226.png",i=s.p+"assets/img/GASGE005.aed42dad.png",l=(0,t.Fv)('<h2 id="省流" tabindex="-1"><a class="header-anchor" href="#省流"><span>省流</span></a></h2><blockquote><p>先设置Max的属性，再设置正常的属性。</p></blockquote><figure><img src="'+e+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="问题描述" tabindex="-1"><a class="header-anchor" href="#问题描述"><span>问题描述</span></a></h2>',4),u=(0,t.Fv)('<figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="问题排除" tabindex="-1"><a class="header-anchor" href="#问题排除"><span>问题排除</span></a></h2><h3 id="检查attributeset" tabindex="-1"><a class="header-anchor" href="#检查attributeset"><span>检查AttributeSet</span></a></h3>',3),r=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">ATTRIBUTE_ACCESSORS</span><span class="token expression"><span class="token punctuation">(</span>ClassName<span class="token punctuation">,</span> PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n<span class="token expression"><span class="token function">GAMEPLAYATTRIBUTE_PROPERTY_GETTER</span><span class="token punctuation">(</span>ClassName<span class="token punctuation">,</span> PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n<span class="token expression"><span class="token function">GAMEPLAYATTRIBUTE_VALUE_GETTER</span><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n<span class="token expression"><span class="token function">GAMEPLAYATTRIBUTE_VALUE_SETTER</span><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span> </span><span class="token punctuation">\\</span>\n<span class="token expression"><span class="token function">GAMEPLAYATTRIBUTE_VALUE_INITTER</span><span class="token punctuation">(</span>PropertyName<span class="token punctuation">)</span></span></span>\n\n\t<span class="token keyword">class</span> <span class="token class-name">EXORCIST_API</span> UExorcistAttributeSet <span class="token operator">:</span> <span class="token keyword">public</span> UAttributeSet\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token keyword">public</span><span class="token operator">:</span>\n\t<span class="token function">UExorcistAttributeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">//重写复制函数</span>\n\t<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">GetLifetimeReplicatedProps</span><span class="token punctuation">(</span>TArray<span class="token operator">&lt;</span>FLifetimeProperty<span class="token operator">&gt;</span><span class="token operator">&amp;</span> OutLifetimeProps<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>\n\n\t<span class="token comment">//属性修改前调用的函数，用于钳制输出或者一些规则设定，但他不会真正的修改某个Attributes属性</span>\n\t<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">PreAttributeChange</span><span class="token punctuation">(</span><span class="token keyword">const</span> FGameplayAttribute<span class="token operator">&amp;</span> Attribute<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">&amp;</span> NewValue<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>\n\t\n\t<span class="token comment">//设置Health</span>\n\t<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>BlueprintReadOnly<span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">&quot;Health&quot;</span><span class="token punctuation">,</span> ReplicatedUsing <span class="token operator">=</span> OnRep_Health<span class="token punctuation">)</span>\n\tFGameplayAttributeData Health<span class="token punctuation">;</span>\n\n\t<span class="token function">ATTRIBUTE_ACCESSORS</span><span class="token punctuation">(</span>UExorcistAttributeSet<span class="token punctuation">,</span> Health<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\n\t<span class="token comment">//设置最大Health</span>\n\t<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>BlueprintReadOnly<span class="token punctuation">,</span> Category <span class="token operator">=</span> <span class="token string">&quot;Health&quot;</span><span class="token punctuation">,</span> ReplicatedUsing <span class="token operator">=</span> OnRep_MaxHealth<span class="token punctuation">)</span>\n\tFGameplayAttributeData MaxHealth<span class="token punctuation">;</span>\n\n\t<span class="token function">ATTRIBUTE_ACCESSORS</span><span class="token punctuation">(</span>UExorcistAttributeSet<span class="token punctuation">,</span> MaxHealth<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token class-name">UExorcistAttributeSet</span><span class="token double-colon punctuation">::</span><span class="token function">UExorcistAttributeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token function">InitHealth</span><span class="token punctuation">(</span><span class="token number">100.f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token function">InitMaxHealth</span><span class="token punctuation">(</span><span class="token number">100.f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">UExorcistAttributeSet</span><span class="token double-colon punctuation">::</span><span class="token function">GetLifetimeReplicatedProps</span><span class="token punctuation">(</span>TArray<span class="token operator">&lt;</span>FLifetimeProperty<span class="token operator">&gt;</span><span class="token operator">&amp;</span> OutLifetimeProps<span class="token punctuation">)</span> <span class="token keyword">const</span>\n<span class="token punctuation">{</span>\n\t<span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">GetLifetimeReplicatedProps</span><span class="token punctuation">(</span>OutLifetimeProps<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token function">DOREPLIFETIME_CONDITION_NOTIFY</span><span class="token punctuation">(</span>UExorcistAttributeSet<span class="token punctuation">,</span> Health<span class="token punctuation">,</span> COND_None<span class="token punctuation">,</span> REPNOTIFY_Always<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token function">DOREPLIFETIME_CONDITION_NOTIFY</span><span class="token punctuation">(</span>UExorcistAttributeSet<span class="token punctuation">,</span> MaxHealth<span class="token punctuation">,</span> COND_None<span class="token punctuation">,</span> REPNOTIFY_Always<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">void</span> <span class="token class-name">UExorcistAttributeSet</span><span class="token double-colon punctuation">::</span><span class="token function">OnRep_Health</span><span class="token punctuation">(</span><span class="token keyword">const</span> FGameplayAttributeData<span class="token operator">&amp;</span> OldHealth<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token function">GAMEPLAYATTRIBUTE_REPNOTIFY</span><span class="token punctuation">(</span>UExorcistAttributeSet<span class="token punctuation">,</span> Health<span class="token punctuation">,</span> OldHealth<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">UExorcistAttributeSet</span><span class="token double-colon punctuation">::</span><span class="token function">OnRep_MaxHealth</span><span class="token punctuation">(</span><span class="token keyword">const</span> FGameplayAttributeData<span class="token operator">&amp;</span> OldHealth<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token function">GAMEPLAYATTRIBUTE_REPNOTIFY</span><span class="token punctuation">(</span>UExorcistAttributeSet<span class="token punctuation">,</span> MaxHealth<span class="token punctuation">,</span> OldHealth<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="检查gameplayeffect" tabindex="-1"><a class="header-anchor" href="#检查gameplayeffect"><span>检查GameplayEffect</span></a></h3>',2),k=(0,t.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token class-name">AExorcistCharacterHero</span><span class="token double-colon punctuation">::</span><span class="token function">PossessedBy</span><span class="token punctuation">(</span>AController <span class="token operator">*</span> NewController<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">PossessedBy</span><span class="token punctuation">(</span>NewController<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t<span class="token function">InitGE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">void</span> <span class="token class-name">AExorcistCharacterHero</span><span class="token double-colon punctuation">::</span><span class="token function">OnRep_PlayerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n\t<span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">OnRep_PlayerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',1),d=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:o,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),m=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:c,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),v=(0,t.Lk)("h3",{id:"解决思路",tabindex:"-1"},[(0,t.Lk)("a",{class:"header-anchor",href:"#解决思路"},[(0,t.Lk)("span",null,"解决思路")])],-1),b=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:e,alt:"",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption")],-1),E=(0,t.Lk)("figure",null,[(0,t.Lk)("img",{src:i,alt:"GASGE005.png",tabindex:"0",loading:"lazy"}),(0,t.Lk)("figcaption",null,"GASGE005.png")],-1),f={},A=(0,s(66262).A)(f,[["render",function(n,a){const s=(0,t.g2)("chatmessage"),e=(0,t.g2)("gifwithbutton");return(0,t.uX)(),(0,t.CE)("div",null,[l,(0,t.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" BABA!!!我的GE怎么初始化都有问题啊！ ")])),_:1}),(0,t.bF)(s,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 别急别急给我说说怎么个事。 ")])),_:1}),(0,t.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 如图，我在做GE初始化时我的血条变成正常的一半了！ ")])),_:1}),u,(0,t.bF)(s,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 是不是GE没正确同步呢？GE管理的AS属性和正常的变量一样需要开启网络同步,你是不是没有给自己的As属性标记变量复制啊 ")])),_:1}),(0,t.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 我的AS是这样的 ")])),_:1}),r,(0,t.bF)(s,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 看起来没啥毛病，可以排除AS本身的问题。理论上AS是Replicated,已经复合网络同步两大条件的变量同步，所以初始化时我们只需要在服务器上执行即可 ")])),_:1}),k,(0,t.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 是啊!我就是这么写的啊，PossessedBy服务器上执行,初始化GE没毛病啊！并且我还特意在BeginPlay里延迟了5S再加一次GE，却能正常显示！ ")])),_:1}),d,(0,t.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 是的为了排除问题我还特意做了一个Actor,用于给定GE ")])),_:1}),(0,t.bF)(e,{src:"../../assets/unrealgif/hpup42.gif"}),(0,t.bF)(s,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 等等！也就是说你初始化过一次，然后再次初始化才能正常是吧！打开你的GE给我看看吧。 ")])),_:1}),m,v,(0,t.bF)(s,{avatar:"../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:(0,t.k6)((()=>[(0,t.eW)(" 现在我要你先设置Max的属性，再设置正常的属性。 ")])),_:1}),b,(0,t.bF)(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,t.k6)((()=>[(0,t.eW)(" 卧槽！绝了！ ")])),_:1}),E])}]]),h=JSON.parse('{"path":"/unreal/error_%E9%94%99%E8%AF%AF_/13GASGEInit.html","title":"Error13. GAS|属性顺序导致的GE错乱","lang":"zh-CN","frontmatter":{"title":"Error13. GAS|属性顺序导致的GE错乱","order":13,"category":["u++"],"description":"省流 先设置Max的属性，再设置正常的属性。 问题描述 问题排除 检查AttributeSet 检查GameplayEffect","head":[["meta",{"property":"og:url","content":"https://rendertool.github.io/RenderDoc/unreal/error_%E9%94%99%E8%AF%AF_/13GASGEInit.html"}],["meta",{"property":"og:site_name","content":"RenderDoc"}],["meta",{"property":"og:title","content":"Error13. GAS|属性顺序导致的GE错乱"}],["meta",{"property":"og:description","content":"省流 先设置Max的属性，再设置正常的属性。 问题描述 问题排除 检查AttributeSet 检查GameplayEffect"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-31T09:49:23.000Z"}],["meta",{"property":"article:author","content":"Mr.Si"}],["meta",{"property":"article:modified_time","content":"2024-10-31T09:49:23.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Error13. GAS|属性顺序导致的GE错乱\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-31T09:49:23.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Si\\",\\"url\\":\\"https://rendertool.github.io/RenderDoc/\\"}]}"]]},"headers":[{"level":2,"title":"省流","slug":"省流","link":"#省流","children":[]},{"level":2,"title":"问题描述","slug":"问题描述","link":"#问题描述","children":[]},{"level":2,"title":"问题排除","slug":"问题排除","link":"#问题排除","children":[{"level":3,"title":"检查AttributeSet","slug":"检查attributeset","link":"#检查attributeset","children":[]},{"level":3,"title":"检查GameplayEffect","slug":"检查gameplayeffect","link":"#检查gameplayeffect","children":[]},{"level":3,"title":"解决思路","slug":"解决思路","link":"#解决思路","children":[]}]}],"git":{"createdTime":1730368163000,"updatedTime":1730368163000,"contributors":[{"name":"sigaohe","email":"750831855@qq.com","commits":1}]},"readingTime":{"minutes":2.08,"words":623},"filePathRelative":"unreal/error[错误]/13GASGEInit.md","localizedDate":"2024年10月31日","excerpt":"<h2>省流</h2>\\n<blockquote>\\n<p>先设置Max的属性，再设置正常的属性。</p>\\n</blockquote>\\n<figure><figcaption></figcaption></figure>\\n<h2>问题描述</h2>\\n\\n\\n\\n<figure><figcaption></figcaption></figure>\\n<h2>问题排除</h2>\\n<h3>检查AttributeSet</h3>\\n\\n\\n<div class=\\"language-cpp\\" data-ext=\\"cpp\\" data-title=\\"cpp\\"><pre class=\\"language-cpp\\"><code>\\n<span class=\\"token macro property\\"><span class=\\"token directive-hash\\">#</span><span class=\\"token directive keyword\\">define</span> <span class=\\"token macro-name function\\">ATTRIBUTE_ACCESSORS</span><span class=\\"token expression\\"><span class=\\"token punctuation\\">(</span>ClassName<span class=\\"token punctuation\\">,</span> PropertyName<span class=\\"token punctuation\\">)</span> </span><span class=\\"token punctuation\\">\\\\</span>\\n<span class=\\"token expression\\"><span class=\\"token function\\">GAMEPLAYATTRIBUTE_PROPERTY_GETTER</span><span class=\\"token punctuation\\">(</span>ClassName<span class=\\"token punctuation\\">,</span> PropertyName<span class=\\"token punctuation\\">)</span> </span><span class=\\"token punctuation\\">\\\\</span>\\n<span class=\\"token expression\\"><span class=\\"token function\\">GAMEPLAYATTRIBUTE_VALUE_GETTER</span><span class=\\"token punctuation\\">(</span>PropertyName<span class=\\"token punctuation\\">)</span> </span><span class=\\"token punctuation\\">\\\\</span>\\n<span class=\\"token expression\\"><span class=\\"token function\\">GAMEPLAYATTRIBUTE_VALUE_SETTER</span><span class=\\"token punctuation\\">(</span>PropertyName<span class=\\"token punctuation\\">)</span> </span><span class=\\"token punctuation\\">\\\\</span>\\n<span class=\\"token expression\\"><span class=\\"token function\\">GAMEPLAYATTRIBUTE_VALUE_INITTER</span><span class=\\"token punctuation\\">(</span>PropertyName<span class=\\"token punctuation\\">)</span></span></span>\\n\\n\\t<span class=\\"token keyword\\">class</span> <span class=\\"token class-name\\">EXORCIST_API</span> UExorcistAttributeSet <span class=\\"token operator\\">:</span> <span class=\\"token keyword\\">public</span> UAttributeSet\\n<span class=\\"token punctuation\\">{</span>\\n\\t<span class=\\"token function\\">GENERATED_BODY</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n\\n<span class=\\"token keyword\\">public</span><span class=\\"token operator\\">:</span>\\n\\t<span class=\\"token function\\">UExorcistAttributeSet</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n\\t<span class=\\"token comment\\">//重写复制函数</span>\\n\\t<span class=\\"token keyword\\">virtual</span> <span class=\\"token keyword\\">void</span> <span class=\\"token function\\">GetLifetimeReplicatedProps</span><span class=\\"token punctuation\\">(</span>TArray<span class=\\"token operator\\">&lt;</span>FLifetimeProperty<span class=\\"token operator\\">&gt;</span><span class=\\"token operator\\">&amp;</span> OutLifetimeProps<span class=\\"token punctuation\\">)</span> <span class=\\"token keyword\\">const</span> <span class=\\"token keyword\\">override</span><span class=\\"token punctuation\\">;</span>\\n\\n\\t<span class=\\"token comment\\">//属性修改前调用的函数，用于钳制输出或者一些规则设定，但他不会真正的修改某个Attributes属性</span>\\n\\t<span class=\\"token keyword\\">virtual</span> <span class=\\"token keyword\\">void</span> <span class=\\"token function\\">PreAttributeChange</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">const</span> FGameplayAttribute<span class=\\"token operator\\">&amp;</span> Attribute<span class=\\"token punctuation\\">,</span> <span class=\\"token keyword\\">float</span><span class=\\"token operator\\">&amp;</span> NewValue<span class=\\"token punctuation\\">)</span> <span class=\\"token keyword\\">override</span><span class=\\"token punctuation\\">;</span>\\n\\t\\n\\t<span class=\\"token comment\\">//设置Health</span>\\n\\t<span class=\\"token function\\">UPROPERTY</span><span class=\\"token punctuation\\">(</span>BlueprintReadOnly<span class=\\"token punctuation\\">,</span> Category <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"Health\\"</span><span class=\\"token punctuation\\">,</span> ReplicatedUsing <span class=\\"token operator\\">=</span> OnRep_Health<span class=\\"token punctuation\\">)</span>\\n\\tFGameplayAttributeData Health<span class=\\"token punctuation\\">;</span>\\n\\n\\t<span class=\\"token function\\">ATTRIBUTE_ACCESSORS</span><span class=\\"token punctuation\\">(</span>UExorcistAttributeSet<span class=\\"token punctuation\\">,</span> Health<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\t\\n\\t<span class=\\"token comment\\">//设置最大Health</span>\\n\\t<span class=\\"token function\\">UPROPERTY</span><span class=\\"token punctuation\\">(</span>BlueprintReadOnly<span class=\\"token punctuation\\">,</span> Category <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"Health\\"</span><span class=\\"token punctuation\\">,</span> ReplicatedUsing <span class=\\"token operator\\">=</span> OnRep_MaxHealth<span class=\\"token punctuation\\">)</span>\\n\\tFGameplayAttributeData MaxHealth<span class=\\"token punctuation\\">;</span>\\n\\n\\t<span class=\\"token function\\">ATTRIBUTE_ACCESSORS</span><span class=\\"token punctuation\\">(</span>UExorcistAttributeSet<span class=\\"token punctuation\\">,</span> MaxHealth<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token class-name\\">UExorcistAttributeSet</span><span class=\\"token double-colon punctuation\\">::</span><span class=\\"token function\\">UExorcistAttributeSet</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">{</span>\\n\\t<span class=\\"token function\\">InitHealth</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">100.f</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\t<span class=\\"token function\\">InitMaxHealth</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">100.f</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token keyword\\">void</span> <span class=\\"token class-name\\">UExorcistAttributeSet</span><span class=\\"token double-colon punctuation\\">::</span><span class=\\"token function\\">GetLifetimeReplicatedProps</span><span class=\\"token punctuation\\">(</span>TArray<span class=\\"token operator\\">&lt;</span>FLifetimeProperty<span class=\\"token operator\\">&gt;</span><span class=\\"token operator\\">&amp;</span> OutLifetimeProps<span class=\\"token punctuation\\">)</span> <span class=\\"token keyword\\">const</span>\\n<span class=\\"token punctuation\\">{</span>\\n\\t<span class=\\"token class-name\\">Super</span><span class=\\"token double-colon punctuation\\">::</span><span class=\\"token function\\">GetLifetimeReplicatedProps</span><span class=\\"token punctuation\\">(</span>OutLifetimeProps<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\t<span class=\\"token function\\">DOREPLIFETIME_CONDITION_NOTIFY</span><span class=\\"token punctuation\\">(</span>UExorcistAttributeSet<span class=\\"token punctuation\\">,</span> Health<span class=\\"token punctuation\\">,</span> COND_None<span class=\\"token punctuation\\">,</span> REPNOTIFY_Always<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\t<span class=\\"token function\\">DOREPLIFETIME_CONDITION_NOTIFY</span><span class=\\"token punctuation\\">(</span>UExorcistAttributeSet<span class=\\"token punctuation\\">,</span> MaxHealth<span class=\\"token punctuation\\">,</span> COND_None<span class=\\"token punctuation\\">,</span> REPNOTIFY_Always<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token keyword\\">void</span> <span class=\\"token class-name\\">UExorcistAttributeSet</span><span class=\\"token double-colon punctuation\\">::</span><span class=\\"token function\\">OnRep_Health</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">const</span> FGameplayAttributeData<span class=\\"token operator\\">&amp;</span> OldHealth<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">{</span>\\n\\t<span class=\\"token function\\">GAMEPLAYATTRIBUTE_REPNOTIFY</span><span class=\\"token punctuation\\">(</span>UExorcistAttributeSet<span class=\\"token punctuation\\">,</span> Health<span class=\\"token punctuation\\">,</span> OldHealth<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token keyword\\">void</span> <span class=\\"token class-name\\">UExorcistAttributeSet</span><span class=\\"token double-colon punctuation\\">::</span><span class=\\"token function\\">OnRep_MaxHealth</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">const</span> FGameplayAttributeData<span class=\\"token operator\\">&amp;</span> OldHealth<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token punctuation\\">{</span>\\n\\t<span class=\\"token function\\">GAMEPLAYATTRIBUTE_REPNOTIFY</span><span class=\\"token punctuation\\">(</span>UExorcistAttributeSet<span class=\\"token punctuation\\">,</span> MaxHealth<span class=\\"token punctuation\\">,</span> OldHealth<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre></div>","autoDesc":true}')}}]);