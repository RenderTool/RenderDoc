"use strict";(self.webpackChunkrenderdoc=self.webpackChunkrenderdoc||[]).push([[4611],{21581:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>Q,data:()=>V});var e=a(20641);const t=a.p+"assets/img/uiinputmode.c2145a3a.jpg",o=a.p+"assets/img/checkout.1474d11d.jpg",p=a.p+"assets/img/inputconfig.9419f370.jpg",i=a.p+"assets/img/lyrainputmode.14481ef8.jpg",c=a.p+"assets/img/printhello.b8d66ea5.jpg",l=a.p+"assets/img/UCommonInputActionDomain.1131986a.jpg",u=a.p+"assets/img/commonuiroot.bd2b06c1.jpg",r=a.p+"assets/img/bp.ef471ce6.png",d=a.p+"assets/img/bp_001.4b69f5c4.png",k=(0,e.Lk)("h2",{id:"前置条件",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#前置条件"},[(0,e.Lk)("span",null,"前置条件")])],-1),m=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,"安装插件CommonUI")],-1),v=(0,e.Lk)("h2",{id:"实践",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#实践"},[(0,e.Lk)("span",null,"实践")])],-1),b=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,"日常心血来潮，想给我的游戏菜单背景加一个角色查看功能，即：可以操作UI的同时控制游戏模型（比如旋转、缩放等）。")],-1),g=(0,e.Lk)("figure",null,[(0,e.Lk)("img",{src:t,alt:"",tabindex:"0",loading:"lazy"}),(0,e.Lk)("figcaption")],-1),h=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,"悲剧发生了！")],-1),A=(0,e.Lk)("iframe",{src:"https://blueprintue.com/render/0j9cetp9/",width:"100%",height:"500",scrolling:"no",allowfullscreen:""},null,-1),f=(0,e.Lk)("hr",null,null,-1),I=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,"可咱用的是CommonUI啊！")],-1),y=(0,e.Lk)("figure",null,[(0,e.Lk)("img",{src:o,alt:"checkout.jpg",tabindex:"0",loading:"lazy"}),(0,e.Lk)("figcaption",null,"checkout.jpg")],-1),E=(0,e.Lk)("figure",null,[(0,e.Lk)("img",{src:p,alt:"截自官方文档",tabindex:"0",loading:"lazy"}),(0,e.Lk)("figcaption",null,"截自官方文档")],-1),C=(0,e.Lk)("hr",null,null,-1),M=(0,e.Lk)("h2",{id:"lyra的实现",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#lyra的实现"},[(0,e.Lk)("span",null,"Lyra的实现")])],-1),W=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,"后来我发现Lyra通过封装InputConfig和GameMouseCaptureMod两个核心模块完美解决了上面的问题。")],-1),U=(0,e.Lk)("figure",null,[(0,e.Lk)("img",{src:i,alt:"",tabindex:"0",loading:"lazy"}),(0,e.Lk)("figcaption")],-1),L=(0,e.Fv)('<h3 id="_1-核心配置-inputconfig" tabindex="-1"><a class="header-anchor" href="#_1-核心配置-inputconfig"><span>1. 核心配置 InputConfig:</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">EWidgetInputMode</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">uint8</span></span>\n<span class="token punctuation">{</span>\n   Default<span class="token punctuation">,</span>\n   GameAndMenu<span class="token punctuation">,</span>\n   Game<span class="token punctuation">,</span>\n   Menu\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',2),w=(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,"Default & Menu 鼠标只能操作UI")],-1),F=(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,"GameAndMenu ：鼠标能操作UI，也能移动游戏视口")],-1),j=(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,"Game:鼠标无法操作UI，只能移动游戏视口。")],-1),x=(0,e.Fv)('<hr><h3 id="_2-核心配置-game-mouse-capture-mode" tabindex="-1"><a class="header-anchor" href="#_2-核心配置-game-mouse-capture-mode"><span>2.核心配置 Game Mouse Capture Mode ：</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">EMouseCaptureMode</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">uint8</span></span>\n<span class="token punctuation">{</span>\n <span class="token comment">/** 不捕获鼠标输入 */</span>\n NoCapture<span class="token punctuation">,</span>\n <span class="token comment">/** 当视口被点击时，永久捕获鼠标，并消耗引起捕获的初始鼠标按下事件，以防止被玩家输入处理 */</span>\n CapturePermanently<span class="token punctuation">,</span>\n <span class="token comment">/** 当视口被点击时，永久捕获鼠标，并允许玩家输入处理引起捕获的初始鼠标按下事件 */</span>\n CapturePermanently_IncludingInitialMouseDown<span class="token punctuation">,</span>\n <span class="token comment">/** 在鼠标按下期间捕获鼠标，鼠标抬起时释放 */</span>\n CaptureDuringMouseDown<span class="token punctuation">,</span>\n <span class="token comment">/** 仅在右鼠标按钮按下时捕获，而不捕获其他任何鼠标按钮 */</span>\n CaptureDuringRightMouseDown<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',3),D=(0,e.Lk)("figure",null,[(0,e.Lk)("img",{src:c,alt:"",tabindex:"0",loading:"lazy"}),(0,e.Lk)("figcaption")],-1),q=(0,e.Lk)("hr",null,null,-1),B=(0,e.Lk)("h3",{id:"_3-其他配置-consume-pointer-input",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#_3-其他配置-consume-pointer-input"},[(0,e.Lk)("span",null,"3. 其他配置 Consume Pointer Input:")])],-1),T=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,"很多人应该和我一样，一开始压根不明白这个节点的意思。")],-1),K=(0,e.Lk)("hr",null,null,-1),G=(0,e.Lk)("h3",{id:"_4-其他配置-action-domain-override",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#_4-其他配置-action-domain-override"},[(0,e.Lk)("span",null,"4.其他配置 Action Domain Override:")])],-1),N=(0,e.Fv)('<figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>Display in ActionBar :简单来说就是对应的按键UI显示在指定的动作栏中。类似下面的效果：</li></ul><figure><img src="data:image/jpeg;base64,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" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="源码剖析" tabindex="-1"><a class="header-anchor" href="#源码剖析"><span>源码剖析</span></a></h3><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><code>ActivatableWidget.h</code></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token comment">// Copyright Epic Games, Inc. All Rights Reserved.</span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;CommonActivatableWidget.h&quot;</span><span class="token comment">//引入CommonActivatableWidget</span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;ExorcistActivatableWidget.generated.h&quot;</span><span class="token comment">//UHT生成</span></span>\n\n<span class="token comment">//InputConfig结构体</span>\n<span class="token keyword">struct</span> <span class="token class-name">FUIInputConfig</span><span class="token punctuation">;</span>\n\n<span class="token function">UENUM</span><span class="token punctuation">(</span>BlueprintType<span class="token punctuation">)</span>\n<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">EExorcistWidgetInputMode</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">uint8</span></span>\n<span class="token punctuation">{</span>\n\tDefault<span class="token punctuation">,</span>     <span class="token comment">// 默认模式</span>\n\tGameAndMenu<span class="token punctuation">,</span> <span class="token comment">// 游戏和菜单模式</span>\n\tGame<span class="token punctuation">,</span>        <span class="token comment">// 游戏模式</span>\n\tMenu         <span class="token comment">// 菜单模式</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token comment">// An activatable widget that automatically drives the desired input config when activated</span>\n<span class="token comment">// 一个可激活的小部件，在激活时会自动驱动所需的输入配置</span>\n<span class="token function">UCLASS</span><span class="token punctuation">(</span>Abstract<span class="token punctuation">,</span> Blueprintable<span class="token punctuation">)</span>\n<span class="token keyword">class</span> <span class="token class-name">UExorcistActivatableWidget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">UCommonActivatableWidget</span><span class="token comment">//继承自UCommonActivatableWidget</span></span>\n<span class="token punctuation">{</span>\n\t<span class="token function">GENERATED_BODY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token keyword">public</span><span class="token operator">:</span>\n\t<span class="token function">UExorcistActivatableWidget</span><span class="token punctuation">(</span><span class="token keyword">const</span> FObjectInitializer<span class="token operator">&amp;</span> ObjectInitializer<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//构造函数，</span>\n\t\n<span class="token keyword">public</span><span class="token operator">:</span>\n\t\n\t<span class="token comment">//~UCommonActivatableWidget interface</span>\n\t<span class="token comment">//~UCommonActivatableWidget 接口</span>\n\t<span class="token keyword">virtual</span> TOptional<span class="token operator">&lt;</span>FUIInputConfig<span class="token operator">&gt;</span> <span class="token function">GetDesiredInputConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token comment">// 获取所需的输入配置</span>\n\t<span class="token comment">//~End of UCommonActivatableWidget interface</span>\n\t<span class="token comment">//~End of UCommonActivatableWidget 接口</span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression">WITH_EDITOR</span></span>\n\t<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">ValidateCompiledWidgetTree</span><span class="token punctuation">(</span><span class="token keyword">const</span> UWidgetTree<span class="token operator">&amp;</span> BlueprintWidgetTree<span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">IWidgetCompilerLog</span><span class="token operator">&amp;</span> CompileLog<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>\n\t\n<span class="token keyword">protected</span><span class="token operator">:</span>\n\t<span class="token comment">/** 激活此 UI 时要使用的所需输入模式，例如您是否希望按键仍然传递到游戏/玩家控制器？ */</span>\n\t<span class="token comment">/** The desired input mode to use while this UI is activated, for example do you want key presses to still reach the game/player controller? */</span>\n\t<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>EditDefaultsOnly<span class="token punctuation">,</span> Category <span class="token operator">=</span> Input<span class="token punctuation">)</span>\n\tEExorcistWidgetInputMode InputConfig <span class="token operator">=</span> EExorcistWidgetInputMode<span class="token double-colon punctuation">::</span>Default<span class="token punctuation">;</span>\n\t\n\t<span class="token comment">/** 游戏接收输入时所需的鼠标行为。 */</span>\n\t<span class="token comment">/** The desired mouse behavior when the game gets input. */</span>\n\t<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>EditDefaultsOnly<span class="token punctuation">,</span> Category <span class="token operator">=</span> Input<span class="token punctuation">)</span>\n\tEMouseCaptureMode GameMouseCaptureMode <span class="token operator">=</span> EMouseCaptureMode<span class="token double-colon punctuation">::</span>CapturePermanently<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ActivatableWidget.cpp</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token comment">// 版权所有 Epic Games, Inc. 保留所有权利。</span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;UI/ExorcistActivatableWidget.h&quot;</span> <span class="token comment">// 引入ExorcistActivatableWidget头文件</span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;Editor/WidgetCompilerLog.h&quot;</span> <span class="token comment">// 引入WidgetCompilerLog头文件</span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token expression"><span class="token function">UE_INLINE_GENERATED_CPP_BY_NAME</span><span class="token punctuation">(</span>ExorcistActivatableWidget<span class="token punctuation">)</span> </span><span class="token comment">// 使用宏生成内联的C++代码</span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LOCTEXT_NAMESPACE</span> <span class="token string">&quot;Exorcist&quot;</span> <span class="token comment">// 定义命名空间 &quot;Exorcist&quot;</span></span>\n\n<span class="token class-name">UExorcistActivatableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">UExorcistActivatableWidget</span><span class="token punctuation">(</span><span class="token keyword">const</span> FObjectInitializer<span class="token operator">&amp;</span> ObjectInitializer<span class="token punctuation">)</span>\n\t<span class="token operator">:</span> <span class="token function">Super</span><span class="token punctuation">(</span>ObjectInitializer<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n<span class="token punctuation">}</span>\n\nTOptional<span class="token operator">&lt;</span>FUIInputConfig<span class="token operator">&gt;</span> <span class="token class-name">UExorcistActivatableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">GetDesiredInputConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>\n<span class="token punctuation">{</span>\n\t<span class="token keyword">switch</span> <span class="token punctuation">(</span>InputConfig<span class="token punctuation">)</span> <span class="token comment">// 根据InputConfig的值进行不同的处理</span>\n\t<span class="token punctuation">{</span>\n\t<span class="token keyword">case</span> EExorcistWidgetInputMode<span class="token double-colon punctuation">::</span>GameAndMenu<span class="token operator">:</span> <span class="token comment">// 如果InputConfig是GameAndMenu模式</span>\n\t\t<span class="token keyword">return</span> <span class="token function">FUIInputConfig</span><span class="token punctuation">(</span>ECommonInputMode<span class="token double-colon punctuation">::</span>All<span class="token punctuation">,</span> GameMouseCaptureMode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个包含All输入模式和GameMouseCaptureMode的FUIInputConfig</span>\n\t<span class="token keyword">case</span> EExorcistWidgetInputMode<span class="token double-colon punctuation">::</span>Game<span class="token operator">:</span> <span class="token comment">// 如果InputConfig是Game模式</span>\n\t\t<span class="token keyword">return</span> <span class="token function">FUIInputConfig</span><span class="token punctuation">(</span>ECommonInputMode<span class="token double-colon punctuation">::</span>Game<span class="token punctuation">,</span> GameMouseCaptureMode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个包含Game输入模式和GameMouseCaptureMode的FUIInputConfig</span>\n\t<span class="token keyword">case</span> EExorcistWidgetInputMode<span class="token double-colon punctuation">::</span>Menu<span class="token operator">:</span> <span class="token comment">// 如果InputConfig是Menu模式</span>\n\t\t<span class="token keyword">return</span> <span class="token function">FUIInputConfig</span><span class="token punctuation">(</span>ECommonInputMode<span class="token double-colon punctuation">::</span>Menu<span class="token punctuation">,</span> EMouseCaptureMode<span class="token double-colon punctuation">::</span>NoCapture<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个包含Menu输入模式和NoCapture的FUIInputConfig</span>\n\t<span class="token keyword">case</span> EExorcistWidgetInputMode<span class="token double-colon punctuation">::</span>Default<span class="token operator">:</span> <span class="token comment">// 默认情况</span>\n\t<span class="token keyword">default</span><span class="token operator">:</span>\n\t\t<span class="token keyword">return</span> <span class="token generic-function"><span class="token function">TOptional</span><span class="token generic class-name"><span class="token operator">&lt;</span>FUIInputConfig<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个空的TOptional&lt;FUIInputConfig&gt;</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression">WITH_EDITOR</span></span>\n\n<span class="token keyword">void</span> <span class="token class-name">UExorcistActivatableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">ValidateCompiledWidgetTree</span><span class="token punctuation">(</span><span class="token keyword">const</span> UWidgetTree<span class="token operator">&amp;</span> BlueprintWidgetTree<span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">IWidgetCompilerLog</span><span class="token operator">&amp;</span> CompileLog<span class="token punctuation">)</span> <span class="token keyword">const</span>\n<span class="token punctuation">{</span>\n\t<span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">ValidateCompiledWidgetTree</span><span class="token punctuation">(</span>BlueprintWidgetTree<span class="token punctuation">,</span> CompileLog<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的ValidateCompiledWidgetTree函数</span>\n\n\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">GetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">IsFunctionImplementedInScript</span><span class="token punctuation">(</span><span class="token function">GET_FUNCTION_NAME_CHECKED</span><span class="token punctuation">(</span>UExorcistActivatableWidget<span class="token punctuation">,</span> BP_GetDesiredFocusTarget<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t<span class="token punctuation">{</span>\n\t\t<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">GetParentNativeClass</span><span class="token punctuation">(</span><span class="token function">GetClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">UExorcistActivatableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">StaticClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\tCompileLog<span class="token punctuation">.</span><span class="token function">Warning</span><span class="token punctuation">(</span><span class="token function">LOCTEXT</span><span class="token punctuation">(</span><span class="token string">&quot;ValidateGetDesiredFocusTarget_Warning&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GetDesiredFocusTarget wasn&#39;t implemented, you&#39;re going to have trouble using gamepads on this screen.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token punctuation">}</span>\n\t\t<span class="token keyword">else</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\t<span class="token comment">//TODO - Note for now, because we can&#39;t guarantee it isn&#39;t implemented in a native subclass of this one.</span>\n\t\t\tCompileLog<span class="token punctuation">.</span><span class="token function">Note</span><span class="token punctuation">(</span><span class="token function">LOCTEXT</span><span class="token punctuation">(</span><span class="token string">&quot;ValidateGetDesiredFocusTarget_Note&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GetDesiredFocusTarget wasn&#39;t implemented, you&#39;re going to have trouble using gamepads on this screen.  If it was implemented in the native base class you can ignore this message.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>\n\n<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">undef</span> <span class="token expression">LOCTEXT_NAMESPACE </span><span class="token comment">// 取消命名空间 &quot;Exorcist&quot;</span></span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',9),R=(0,e.Lk)("figure",null,[(0,e.Lk)("img",{src:o,alt:"checkout.jpg",tabindex:"0",loading:"lazy"}),(0,e.Lk)("figcaption",null,"checkout.jpg")],-1),O=(0,e.Lk)("h2",{id:"route-输入路由子系统",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#route-输入路由子系统"},[(0,e.Lk)("span",null,"Route|输入路由子系统")])],-1),S=(0,e.Fv)('<blockquote><p>UCommonUIActionRouterBase : public ULocalPlayerSubsystem</p></blockquote><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token class-name">FUIInputConfig</span><span class="token double-colon punctuation">::</span><span class="token function">FUIInputConfig</span><span class="token punctuation">(</span>ECommonInputMode InInputMode<span class="token punctuation">,</span> EMouseCaptureMode InMouseCaptureMode<span class="token punctuation">,</span> <span class="token keyword">bool</span> bInHideCursorDuringViewportCapture<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>',2),P=(0,e.Fv)('<div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>UCommonUIActionRouterBase<span class="token operator">*</span> ActionRouter <span class="token operator">=</span> LocalPlayer<span class="token operator">-&gt;</span><span class="token generic-function"><span class="token function">GetSubsystem</span><span class="token generic class-name"><span class="token operator">&lt;</span>UCommonUIActionRouterBase<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n   ActionRouter<span class="token operator">-&gt;</span><span class="token function">SetActiveUIInputConfig</span><span class="token punctuation">(</span><span class="token function">FUIInputConfig</span><span class="token punctuation">(</span>ECommonInputMode<span class="token double-colon punctuation">::</span>Game<span class="token punctuation">,</span> EMouseCaptureMode<span class="token double-colon punctuation">::</span>CapturePermanently<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ECommonInputMode 源码</p></blockquote><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token function">UENUM</span><span class="token punctuation">(</span>BlueprintType<span class="token punctuation">)</span>\n<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">ECommonInputMode</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">uint8</span></span>\n<span class="token punctuation">{</span>\n\tMenu\t<span class="token function">UMETA</span><span class="token punctuation">(</span>Tooltip <span class="token operator">=</span> <span class="token string">&quot;Input is received by the UI only&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tGame\t<span class="token function">UMETA</span><span class="token punctuation">(</span>Tooltip <span class="token operator">=</span> <span class="token string">&quot;Input is received by the Game only&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\tAll\t\t<span class="token function">UMETA</span><span class="token punctuation">(</span>Tooltip <span class="token operator">=</span> <span class="token string">&quot;Input is received by UI and the Game&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n\n\tMAX <span class="token function">UMETA</span><span class="token punctuation">(</span>Hidden<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>EMouseCaptureMode 源码</p></blockquote><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>\n<span class="token function">UENUM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">EMouseCaptureMode</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">uint8</span></span>\n<span class="token punctuation">{</span>\n\t<span class="token comment">/** Do not capture the mouse at all */</span>\n\tNoCapture<span class="token punctuation">,</span>\n\t<span class="token comment">/** Capture the mouse permanently when the viewport is clicked, and consume the initial mouse down that caused the capture so it isn&#39;t processed by player input */</span>\n\tCapturePermanently<span class="token punctuation">,</span>\n\t<span class="token comment">/** Capture the mouse permanently when the viewport is clicked, and allow player input to process the mouse down that caused the capture */</span>\n\tCapturePermanently_IncludingInitialMouseDown<span class="token punctuation">,</span>\n\t<span class="token comment">/** Capture the mouse during a mouse down, releases on mouse up */</span>\n\tCaptureDuringMouseDown<span class="token punctuation">,</span>\n\t<span class="token comment">/** Capture only when the right mouse button is down, not any of the other mouse buttons */</span>\n\tCaptureDuringRightMouseDown<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="'+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="技巧" tabindex="-1"><a class="header-anchor" href="#技巧"><span>技巧</span></a></h2>',7),z=(0,e.Lk)("figure",null,[(0,e.Lk)("img",{src:d,alt:"",tabindex:"0",loading:"lazy"}),(0,e.Lk)("figcaption")],-1),H={},Q=(0,a(66262).A)(H,[["render",function(n,s){const a=(0,e.g2)("chatmessage"),t=(0,e.g2)("gifwithbutton");return(0,e.uX)(),(0,e.CE)("div",null,[k,m,v,b,(0,e.bF)(a,{avatar:"../../assets/emoji/blzt.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 这还不简单！构造函数里设置一下输入模式`游戏和UI` ")])),_:1}),g,h,(0,e.bF)(a,{avatar:"../../assets/emoji/kclr.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 运行后根本无法操作UI后面的场景！ ")])),_:1}),(0,e.bF)(t,{src:"../../assets/unrealgif/gamenotmove.gif"}),(0,e.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 如果没记错的话原系统中我们要修改输入模式确实是这几个节点。 ")])),_:1}),A,f,I,(0,e.bF)(a,{avatar:"../../assets/emoji/blzt.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 最后发现设置里可以通过SupportsActivationFocus关闭来开启游戏和UI这种输入模式。完美！再次编译运行！ ")])),_:1}),y,(0,e.bF)(a,{avatar:"../../assets/emoji/bqb (5).png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" But！当你来回切换几个UI界面后，你发现你的视口又不能动了！总不能所有界面都设置SupportsActivationFocus吧！而且这卡顿是怎么回事啊！ ")])),_:1}),(0,e.bF)(t,{src:"../../assets/unrealgif/menu.gif"}),(0,e.bF)(a,{avatar:"../../assets/emoji/kclr.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 官方S一样的文档中也找不对应的节点只给了一个实现函数。 ")])),_:1}),E,C,M,(0,e.bF)(t,{src:"../../assets/unrealgif/gameandmenu.gif"}),W,U,(0,e.bF)(a,{avatar:"../../assets/emoji/bqb (6).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[(0,e.eW)(" 很好！是时候学习一下新科学知识了！ ")])),_:1}),L,(0,e.bF)(a,{avatar:"../../assets/emoji/blzt.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 这个应该看得懂，默认的几种输入模式。 ")])),_:1}),w,(0,e.bF)(t,{src:"../../assets/unrealgif/menu.gif"}),F,(0,e.bF)(t,{src:"../../assets/unrealgif/gameandmenu.gif"}),j,(0,e.bF)(t,{src:"../../assets/unrealgif/game.gif"}),(0,e.bF)(a,{avatar:"../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[(0,e.eW)(" 最终，BABA还是担心你看不懂，做了几个动画演示。 ")])),_:1}),x,(0,e.bF)(a,{avatar:"../../assets/emoji/blzt.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 等等!Baba有个问题:Game模式下，一定不能控制UI吗？ ")])),_:1}),(0,e.bF)(a,{avatar:"../../assets/emoji/bqb (1).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[(0,e.eW)(" 可以测试一下！给按钮加一个打印节点。 ")])),_:1}),D,(0,e.bF)(a,{avatar:"../../assets/emoji/bqb (3).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[(0,e.eW)(" 然后我们将鼠标永久捕获改成按下期间捕获。 ")])),_:1}),(0,e.bF)(t,{src:"../../assets/unrealgif/mousebuhuo.gif"}),(0,e.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 为什么Game模式下也能控制UI? ")])),_:1}),(0,e.bF)(a,{avatar:"../../assets/emoji/bqb (5).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[(0,e.eW)(" 从视觉上分析，鼠标按下期间捕获的过程相当于Menu和Game模式的切换，一结合也就变成了GameAndMenu的效果。 ")])),_:1}),q,B,T,(0,e.bF)(a,{avatar:"../../assets/emoji/bqb (5).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[(0,e.eW)(' 当一个UI元素接收到鼠标点击或触摸输入时，通常会有一个属性或方法可以设置为"Consume pointer input"。 这意味着该UI元素会消耗掉这个输入事件，阻止它继续传递到下层的UI元素或游戏场景中。 ')])),_:1}),K,G,(0,e.bF)(a,{avatar:"../../assets/emoji/bqb (5).png",avatarWidth:40,alignLeft:""},{default:(0,e.k6)((()=>[(0,e.eW)(" 数据资产配置类，在游戏开发中，特定的场景或状态可能会覆盖默认的动作控制。例如：我想配置一个全局的输、鼠标交互模式。 ")])),_:1}),N,(0,e.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 但是！使用CommonUI后原本的输入模式就失效了。我不能所有UI组件都继承自Lyra魔改的吧！ ")])),_:1}),R,O,(0,e.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 上方得知，我们配置的核心其实就是FUIInputConfig，而在CommonUI中可以使用Router子系统来管理配置我们要显示的UI ")])),_:1}),S,(0,e.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 对应的就是输入模式和捕获模式 ")])),_:1}),P,(0,e.bF)(a,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:(0,e.k6)((()=>[(0,e.eW)(" 显示UI时可以考虑把鼠标捕获到屏幕中间 ")])),_:1}),z])}]]),V=JSON.parse('{"path":"/unreal/core_%E6%A0%B8%E5%BF%83_/4.4-EnhancedInput.html","title":"c4.4Subsystem|EnhancedInput利用路由显示鼠标","lang":"zh-CN","frontmatter":{"title":"c4.4Subsystem|EnhancedInput利用路由显示鼠标","order":404,"category":["u++"],"description":"前置条件 安装插件CommonUI 实践 日常心血来潮，想给我的游戏菜单背景加一个角色查看功能，即：可以操作UI的同时控制游戏模型（比如旋转、缩放等）。 悲剧发生了！","head":[["meta",{"property":"og:url","content":"https://rendertool.github.io/RenderDoc/unreal/core_%E6%A0%B8%E5%BF%83_/4.4-EnhancedInput.html"}],["meta",{"property":"og:site_name","content":"RenderDoc"}],["meta",{"property":"og:title","content":"c4.4Subsystem|EnhancedInput利用路由显示鼠标"}],["meta",{"property":"og:description","content":"前置条件 安装插件CommonUI 实践 日常心血来潮，想给我的游戏菜单背景加一个角色查看功能，即：可以操作UI的同时控制游戏模型（比如旋转、缩放等）。 悲剧发生了！"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-25T08:26:44.000Z"}],["meta",{"property":"article:author","content":"Mr.Si"}],["meta",{"property":"article:modified_time","content":"2024-09-25T08:26:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"c4.4Subsystem|EnhancedInput利用路由显示鼠标\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-09-25T08:26:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Si\\",\\"url\\":\\"https://rendertool.github.io/RenderDoc/\\"}]}"]]},"headers":[{"level":2,"title":"前置条件","slug":"前置条件","link":"#前置条件","children":[]},{"level":2,"title":"实践","slug":"实践","link":"#实践","children":[]},{"level":2,"title":"Lyra的实现","slug":"lyra的实现","link":"#lyra的实现","children":[{"level":3,"title":"1. 核心配置 InputConfig:","slug":"_1-核心配置-inputconfig","link":"#_1-核心配置-inputconfig","children":[]},{"level":3,"title":"2.核心配置 Game Mouse Capture Mode ：","slug":"_2-核心配置-game-mouse-capture-mode","link":"#_2-核心配置-game-mouse-capture-mode","children":[]},{"level":3,"title":"3. 其他配置 Consume Pointer Input:","slug":"_3-其他配置-consume-pointer-input","link":"#_3-其他配置-consume-pointer-input","children":[]},{"level":3,"title":"4.其他配置 Action Domain Override:","slug":"_4-其他配置-action-domain-override","link":"#_4-其他配置-action-domain-override","children":[]},{"level":3,"title":"源码剖析","slug":"源码剖析","link":"#源码剖析","children":[]}]},{"level":2,"title":"Route|输入路由子系统","slug":"route-输入路由子系统","link":"#route-输入路由子系统","children":[]},{"level":2,"title":"技巧","slug":"技巧","link":"#技巧","children":[]}],"git":{"createdTime":1722932780000,"updatedTime":1727252804000,"contributors":[{"name":"sigaohe","email":"750831855@qq.com","commits":3}]},"readingTime":{"minutes":6.62,"words":1985},"filePathRelative":"unreal/core[核心]/4.4-EnhancedInput.md","localizedDate":"2024年8月6日","excerpt":"<h2>前置条件</h2>\\n<blockquote>\\n<p>安装插件CommonUI</p>\\n</blockquote>\\n<h2>实践</h2>\\n<blockquote>\\n<p>日常心血来潮，想给我的游戏菜单背景加一个角色查看功能，即：可以操作UI的同时控制游戏模型（比如旋转、缩放等）。</p>\\n</blockquote>\\n\\n<figure><figcaption></figcaption></figure>\\n<blockquote>\\n<p>悲剧发生了！</p>\\n</blockquote>\\n\\n","autoDesc":true}')}}]);