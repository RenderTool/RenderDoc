import{_ as o,r as p,o as i,c,d as a,w as t,e as l,a as n,b as e}from"./app-01d42787.js";const u="/RenderDoc/assets/json-f6f758d6.png",r="/RenderDoc/assets/json2-fe5f2abd.png",d="/RenderDoc/assets/json3-72416481.png",g="/RenderDoc/assets/json4-430716ac.png",k="/RenderDoc/assets/json7-cf82aeb2.png",m="/RenderDoc/assets/json8-ffec1659.png",v={},f=l('<h3 id="json" tabindex="-1"><a class="header-anchor" href="#json" aria-hidden="true">#</a> JSON</h3><p><strong>1. 安装官方插件</strong></p><figure><img src="'+u+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>2. Build.cs</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>PrivateDependencyModuleNames<span class="token punctuation">.</span><span class="token function">AddRange</span><span class="token punctuation">(</span><span class="token keyword">new</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;JsonUtilities&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;Json&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;JsonBlueprintUtilities&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>3. 关键节点</strong></p><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>4. 注意事项</strong></p><ul><li>FJsonObjectWrapper JsonObject，json格式转换成的json结构体对象</li><li>SaveJsontoFile路径如果不存在则不会创建对应的json</li></ul><p><strong>5. 保存|序列化</strong></p><figure><img src="'+g+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="gamesetting" tabindex="-1"><a class="header-anchor" href="#gamesetting" aria-hidden="true">#</a> GameSetting</h3><p><strong>1. 继承UGameUserSettings类</strong></p><p><strong>2. 声明定义要保存的变量</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">protected</span><span class="token operator">:</span>
<span class="token comment">//音量</span>
<span class="token function">UPROPERTY</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
<span class="token keyword">float</span> MasterVolume<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这里的config会自动保存到我们的游戏设置config文件中，开发阶段\\Saved\\Config\\WindowsEditor\\GameUserSettings.ini</p></blockquote><p><strong>3. setter&amp;getter</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>  <span class="token function">UFUNCTION</span><span class="token punctuation">(</span>BlueprintCallable<span class="token punctuation">,</span>Category <span class="token operator">=</span> <span class="token string">&quot;Exorcist|GameSettings&quot;</span><span class="token punctuation">,</span>meta <span class="token operator">=</span> <span class="token punctuation">(</span>ToolTip <span class="token operator">=</span><span class="token string">&quot;Exorcist SetMasterVolume Function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">SetMasterVolume</span><span class="token punctuation">(</span><span class="token keyword">float</span> NewVolume<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">UFUNCTION</span><span class="token punctuation">(</span>BlueprintCallable<span class="token punctuation">,</span>Category <span class="token operator">=</span> <span class="token string">&quot;Exorcist|GameSettings&quot;</span><span class="token punctuation">,</span>meta <span class="token operator">=</span> <span class="token punctuation">(</span>ToolTip <span class="token operator">=</span><span class="token string">&quot;Exorcist GetMasterVolume Function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">float</span> <span class="token function">GetMasterVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>参数初始化（重置）函数-&gt;重载default函数</li></ol><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">SetToDefaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>  
    <span class="token keyword">void</span> <span class="token class-name">UExorcistGameUserSettings</span><span class="token double-colon punctuation">::</span><span class="token function">SetToDefaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Super</span><span class="token double-colon punctuation">::</span><span class="token function">SetToDefaults</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MasterVolume <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>      
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,21),b=n("figure",null,[n("img",{src:k,alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),_=n("ol",{start:"5"},[n("li",null,"蓝图中使用")],-1),h=n("figure",null,[n("img",{src:m,alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1);function x(y,S){const s=p("chatmessage");return i(),c("div",null,[a(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:t(()=>[e(" 游戏保存读取的几种方法 ")]),_:1}),f,a(s,{avatar:"../../assets/emoji/hx.png",avatarWidth:40},{default:t(()=>[e(" 我很想吐槽这个中文翻译，搞得我很难受，正确应该是初始化，这里应该翻译成设置默认，而不是设为。 ")]),_:1}),b,_,h])}const w=o(v,[["render",x],["__file","10-GameSave.html.vue"]]);export{w as default};
