import{_ as p,a as l,b as c}from"./cdcodedircheck-70ea68da.js";import{_ as i,r as d,o as r,c as u,d as n,w as a,e as t,a as o,b as e}from"./app-ba1c65b0.js";const k="/RenderDoc/assets/sizeofalign-5a7e9f51.png",v="/RenderDoc/assets/nckj-ea592a40.jpg",A="data:image/png;base64,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",g={},m=t(`<div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> publicVar<span class="token punctuation">;</span>
    <span class="token keyword">char</span> charVar<span class="token punctuation">;</span>
    <span class="token keyword">double</span> doubleVar<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> derivedVar<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),b=t(`<div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;int: &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; bytes&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;char: &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; bytes&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;double: &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; bytes&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Size of Base: &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Base<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; bytes&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Size of Derived: &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Derived<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; bytes&quot;</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),f=t("<p>假设 <code>int</code> 占用4字节，<code>char</code> 占用1字节，<code>double</code> 占用8字节。在一般情况下，对于上述的 <code>Base</code> 和 <code>Derived</code> 类：</p><ul><li><code>Base</code> 类的大小：<code>4 + 1 + 8 = 13</code> 字节。</li><li><code>Derived</code> 类的大小：<code>13 + 4 = 17</code> 字节。</li></ul>",2),y=o("figure",null,[o("img",{src:k,alt:"",tabindex:"0",loading:"lazy"}),o("figcaption")],-1),w=t('<figure><img src="'+p+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol><li>打开工具并且cd到你的代码目录</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> D:<span class="token punctuation">\\</span>UE5PJ2<span class="token punctuation">\\</span>CodeTest<span class="token punctuation">\\</span>ConsoleApplication1<span class="token punctuation">\\</span>ConsoleApplication1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li>使用dir检查目录文件</li></ol><figure><img src="'+c+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="3"><li>输入命令 即可列出对象模型。</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>cl /d1 reportSingleClassLayout类名 文件名.cpp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+v+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',9),z=t(`<div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> publicVar<span class="token punctuation">;</span>
    <span class="token keyword">double</span> doubleVar<span class="token punctuation">;</span>
    <span class="token keyword">char</span> charVar<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+A+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',2),j=t(`<h3 id="第一种情况" tabindex="-1"><a class="header-anchor" href="#第一种情况" aria-hidden="true">#</a> 第一种情况：</h3><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> publicVar<span class="token punctuation">;</span>   <span class="token comment">// 4 bytes</span>
    <span class="token keyword">char</span> charVar<span class="token punctuation">;</span>    <span class="token comment">// 1 byte + 3 bytes padding</span>
    <span class="token keyword">double</span> doubleVar<span class="token punctuation">;</span> <span class="token comment">// 8 bytes</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>总大小：4 + 1 + 3 (padding) + 8 = 16 bytes</p><h3 id="第二种情况" tabindex="-1"><a class="header-anchor" href="#第二种情况" aria-hidden="true">#</a> 第二种情况：</h3><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> publicVar<span class="token punctuation">;</span>   <span class="token comment">// 4 bytes + 4 bytes padding</span>
    <span class="token keyword">double</span> doubleVar<span class="token punctuation">;</span> <span class="token comment">// 8 bytes</span>
    <span class="token keyword">char</span> charVar<span class="token punctuation">;</span>    <span class="token comment">// 1 byte + 7 bytes padding</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>总大小：4 + 4 (padding) + 8 + 1 + 7 (padding) = 24 bytes</p>`,6);function h(x,q){const s=d("chatmessage");return r(),u("div",null,[n(s,{avatar:"../../../assets/emoji/hx.png",avatarWidth:40},{default:a(()=>[e(" 在内存中几乎所有数据类型都有自己占用的大小，那么继承某个类以后，继承的类会占用多大的内存？比如： ")]),_:1}),m,n(s,{avatar:"../../../assets/emoji/dsyj.png",avatarWidth:40,alignLeft:""},{default:a(()=>[e(" 在使用用sizeof查看前你觉得这个Derived会占用多大呢？ ")]),_:1}),b,n(s,{avatar:"../../../assets/emoji/hx.png",avatarWidth:40},{default:a(()=>[e(" 我觉得吧先保证是可以按下面方法计算： ")]),_:1}),f,n(s,{avatar:"../../../assets/emoji/new1.png",avatarWidth:40,alignLeft:""},{default:a(()=>[e(" 现在你在用sizeof康康。 ")]),_:1}),y,n(s,{avatar:"../../../assets/emoji/hx.png",avatarWidth:40},{default:a(()=>[e(" 为什么？ ")]),_:1}),n(s,{avatar:"../../../assets/emoji/new1.png",avatarWidth:40,alignLeft:""},{default:a(()=>[e(" 你可以用VS自带的开发人员命令行工具 ")]),_:1}),w,n(s,{avatar:"../../../assets/emoji/new1.png",avatarWidth:40,alignLeft:""},{default:a(()=>[e(" 很好，现在你将代码中char charVar;和 double doubleVar;顺序对调。 ")]),_:1}),z,n(s,{avatar:"../../../assets/emoji/hx.png",avatarWidth:40},{default:a(()=>[e(" 好家伙！为什么又变了！ ")]),_:1}),n(s,{avatar:"../../../assets/emoji/new1.png",avatarWidth:40,alignLeft:""},{default:a(()=>[e(" 这涉及了内存对齐的概念，根据C++标准，允许编译器在满足对齐和填充要求的前提下对成员变量进行重新排列，以提高内存布局的效率。 让我们仔细比较两种情况的布局： ")]),_:1}),j,n(s,{avatar:"../../../assets/emoji/hx.png",avatarWidth:40},{default:a(()=>[e(" 好家伙！这也验证了编译器的执行顺序确实是自上而下。 ")]),_:1}),n(s,{avatar:"../../../assets/emoji/bqb (2).png",avatarWidth:40,alignLeft:""},{default:a(()=>[e(" 是的，这也是推荐将较小的数据类型或者占用内存较小的成员变量放在前面声明。 ")]),_:1})])}const V=i(g,[["render",h],["__file","8-Keywords sizeof.html.vue"]]);export{V as default};
